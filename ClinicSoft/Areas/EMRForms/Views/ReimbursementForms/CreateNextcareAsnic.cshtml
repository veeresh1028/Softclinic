@model BusinessEntities.EMRForms.NextcareAsnic
@using System.Linq;
@using System.Security.Claims;
@using BusinessEntities;
@{
    var claims = ClaimsPrincipal.Current.Identities.First().Claims.ToList();
    var emp_designation = claims.Where(c => c.Type == ClaimTypes.Role).Select(c => c.Value).SingleOrDefault();
    EMRInfo emr = (EMRInfo)TempData["emr_data"];
    TempData.Keep("emr_data");
}

<form id="form_NextcareAsnicDecision" autocomplete="off" name="NextcareAsnic" ondrop="return false;" onpaste="return false;" oncut="return false;" class="fs-14">
    @Html.AntiForgeryToken()
    @Html.HiddenFor(m => m.cnanId, new { @id = "cnanId", @value = "@Model.cnanId" })

    <!-- Row-->
    <div class="row">
        <div class="col-lg-12 col-xl-12 col-md-12 col-sm-12">
            <div class="card">
                <div class="form-group row">
                    <div class=" col-sm-12 text-center col-md-6 col-lg-6 ps-3">
                        <h6 class="font-italic text-red">Please Complete Clearly(All Fields Mandatory)</h6>
                    </div>
                    <div class="d-flex col-sm-12 col-md-6 col-lg-6 ps-0">
                        <label class="col-md-4 form-label">
                            Form No:
                        </label>
                        <div class="d-flex  justify-content-center w-8  form-label">
                            :
                        </div>
                        <div class="col-md-6">
                            @Html.TextBoxFor(m => m.cnan_2, new { @class = "form-control", @id = "cnan_2", @maxlength = "50" })
                        </div>
                    </div>
                </div>
                <div class="card-header font-weight-bold">
                    <h3 class="card-title text-blue">PATIENT & FACILITY INFORMATION: </h3>
                </div>
                <div class="card-body">
                    <div class="form-horizontal">
                        <div class="form-group row">
                            <div class="d-flex col-sm-12 col-md-12 col-lg-6 ps-0">
                                <label class="col-md-4 form-label">
                                    Healthcare Facility
                                </label>
                                <div class="d-flex  justify-content-center w-8  form-label">
                                    :
                                </div>
                                <div class="col-md-6">
                                    @Html.TextBoxFor(m => m.cnan_1, new { @class = "form-control", @id = "cnan_1", @maxlength = "50" })
                                </div>
                            </div>
                            <div class="d-flex col-sm-12 col-md-12 col-lg-6 ps-0">
                                <label class="col-md-4 form-label">
                                    Patient’s Name
                                </label>
                                <div class="d-flex  justify-content-center w-8  form-label">
                                    :
                                </div>
                                <div class="col-md-6">
                                    <span class="font-weight-normal1 text-capitalize text-left">@emr.pat_name&nbsp;</span>
                                </div>
                            </div>
                        </div>
                        <div class="form-group row">
                            <div class="d-flex col-sm-12 col-md-12 col-lg-6 ps-0">
                                <label class="col-md-4 form-label">
                                    Date of Healthcare Visit
                                </label>
                                <div class="d-flex  justify-content-center w-8  form-label">
                                    :
                                </div>
                                <div class="col-md-6">
                                    <div class="input-group">
                                        <div class="input-group-prepend">
                                            <div class="input-group-text">
                                                <i class="fe fe-calendar"></i>
                                            </div>
                                        </div>
                                        @Html.TextBoxFor(m => m.cnan_date1, new { @class = "form-control", @placeholder = "DD-MMMM-YYYY", @id = "cnan_date1" })
                                    </div>
                                </div>
                            </div>
                            <div class="d-flex col-sm-12 col-md-12 col-lg-6 ps-0">
                                <label class="col-md-4 form-label">Patient’s Tel</label>
                                <div class="d-flex  justify-content-center w-8  form-label">
                                    :
                                </div>
                                <div class="col-md-6">
                                    <span class="font-weight-normal1 text-capitalize text-left">@emr.pat_mob&nbsp;</span>
                                </div>
                            </div>
                        </div>
                        <div class="form-group row">
                            <div class="d-flex col-sm-12 col-md-12 col-lg-6 ps-0">
                                <label class="col-md-4 form-label">
                                    DOB
                                </label>
                                <div class="d-flex  justify-content-center w-8  form-label">
                                    :
                                </div>
                                <div class="col-md-6">
                                    <span class="font-weight-normal1 text-capitalize text-left">@emr.pat_dob&nbsp;</span>
                                </div>
                            </div>
                            <div class="d-flex col-sm-12 col-md-12 col-lg-6 ps-0">
                                <label class="col-md-4 form-label">Sex</label>
                                <div class="d-flex  justify-content-center w-8  form-label">
                                    :
                                </div>
                                <div class="col-md-6">
                                    <span class="font-weight-normal1 text-capitalize text-left">@emr.pat_gender&nbsp;</span>
                                </div>
                            </div>
                        </div>
                        <div class="form-group row">
                            <div class="d-flex col-sm-12 col-md-12 col-lg-6 ps-0">
                                <label class="col-md-4 form-label">
                                    Card No
                                </label>
                                <div class="d-flex  justify-content-center w-8  form-label">
                                    :
                                </div>
                                <div class="col-md-6">
                                    @Html.TextBoxFor(m => m.cnan_38, new { @class = "form-control mb-1", @id = "cnan_38", @maxlength = "50" })
                                </div>
                            </div>
                            <div class="d-flex col-sm-12 col-md-12 col-lg-6 ps-0">
                                <label class="col-md-4 form-label">	Patient's Employer</label>
                                <div class="d-flex  justify-content-center w-8  form-label">
                                    :
                                </div>
                                <div class="col-md-6">
                                    @Html.TextBoxFor(m => m.cnan_39, new { @class = "form-control", @id = "cnan_39", @maxlength = "50" })
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="card-header font-weight-bold">
                    <h4 class="card-title text-blue text-justify">HISTORY OF PRESENT ILLNESS & PAST MEDICAL HISTORY (To be completed by physician)</h4>
                </div>
                <div class="card-body">
                    <div class="form-horizontal">
                        <div class="form-group">
                            <label class="form-label text-justify">
                                Reason for consultation ( Chief Complaint)
                            </label>
                            <div>
                                <label class="form-label text-red text-left" id="complaints" name="">&nbsp;</label>
                            </div>
                        </div>
                        <div class="form-group row">
                            <div class="d-flex col-sm-12 col-md-12 col-lg-6 ps-0">
                                <label class="col-md-6 col-lg-4 form-label text-justify">
                                    History of present illness & Date of symptom onset
                                </label>
                                <div class="d-flex  justify-content-center w-8  form-label">
                                    :
                                </div>
                                <div class="col-md-6">
                                    <div class="input-group">
                                        <div class="input-group-prepend">
                                            <div class="input-group-text">
                                                <i class="fe fe-calendar"></i>
                                            </div>
                                        </div>
                                        @Html.TextBoxFor(m => m.cnan_date2, new { @class = "form-control", @placeholder = "DD-MMMM-YYYY", @id = "cnan_date2" })
                                    </div>
                                </div>
                            </div>
                            <div class="d-flex col-sm-12 col-md-12 col-lg-6 ps-0">
                                <label class="col-md-6 col-lg-4 form-label text-justify">
                                    Past medical or surgical history (s)
                                </label>
                                <div class="d-flex  justify-content-center w-8  form-label">
                                    :
                                </div>
                                <div class="col-md-6">
                                    <div class="input-group">
                                        <div class="input-group-prepend">
                                            <div class="input-group-text">
                                                <i class="fe fe-calendar"></i>
                                            </div>
                                        </div>
                                        @Html.TextBoxFor(m => m.cnan_date3, new { @class = "form-control", @placeholder = "DD-MMMM-YYYY", @id = "cnan_date3" })
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group row">
                            <label class="col-md-6 col-lg-5 form-label text-justify">
                                Current Medications?
                            </label>
                            <div class="col-md-3 col-lg-2">
                                <label class="custom-control custom-radio">
                                    <input type="radio" class="custom-control-input" name="cnan_checkbox[1]" value="1">
                                    <span class="custom-control-label">Yes</span>
                                </label>
                            </div>
                            <div class="col-md-3 col-lg-2">
                                <label class="custom-control custom-radio">
                                    <input type="radio" class="custom-control-input" name="cnan_checkbox[1]" value="2">
                                    <span class="custom-control-label">No</span>
                                </label>
                            </div>
                        </div>
                        <div class="form-group row">
                            <label class="col-md-4 col-lg-5 form-label text-justify">
                                if yes, indicate the diagnosis and duration of treatment:
                            </label>  
                            <div class="d-flex  justify-content-center w-8  form-label">
                                :
                            </div>
                            <div class="col-md-6 col-lg-2">
                                @Html.TextBoxFor(m => m.cnan_31, new { @class = "form-control", @id = "cnan_31", @maxlength = "50" })
                            </div>
                        </div>
                    </div>
                </div>
                <div class="card-header text-blue font-weight-bold">
                    <h4 class="card-title text-justify">REVIEW OF SYSTEMS - DIAGNOSIS / DIFFERENTIAL DIAGNOSIS (To be completed by physician)</h4>
                </div>
                <div class="card-body">
                    <div class="form-horizontal">
                        <div class="form-group row">
                            <label class="form-label">
                                Clinical Findings
                            </label>
                        </div>
                        <div class="form-group row">
                            <div class="col-md-2">
                                <label class="form-label">
                                    BP
                                </label>
                                <div>
                                    <label class="form-label text-red text-left" id="sign_bp" name="">&nbsp;</label>
                                </div>
                            </div>
                            <div class="col-md-2">
                                <label class="form-label">
                                    Temp
                                </label>
                                <div>
                                    <label class="form-label text-red text-left" id="sign_temp" name="">&nbsp;</label>
                                </div>
                            </div>
                            <div class="col-md-2">
                                <label class="form-label">
                                    Pulse
                                </label>
                                <div>
                                    <label class="form-label text-red text-left" id="sign_pulse" name="">&nbsp;</label>
                                </div>
                            </div>
                            <div class="col-md-2">
                                <label class="form-label">
                                    Notes
                                </label>
                                <div>
                                    <label class="form-label text-red text-left" id="sign_notes" name="">&nbsp;</label>
                                </div>
                            </div>
                        </div>
                        <div class="form-group row">
                            <div class="col-md-12 col-lg-1">
                                <label class="form-label">
                                    Cause:
                                </label>
                            </div>
                            <div class="col-md-4 col-lg-2">
                                <div class="custom-controls d-lg-flex d-md-flex flex-row justify-content-left">
                                    <label class="custom-control custom-checkbox ms-sm-2 md-md-2 ms-lg-2">
                                        <input type="checkbox" class="custom-control-input" name="cnan_check" value="3">
                                        <span class="custom-control-label">Physical Illness</span>
                                    </label>
                                </div>
                            </div>
                            <div class="col-md-4 col-lg-2">
                                <div class="custom-controls d-lg-flex d-md-flex flex-row justify-content-left">
                                    <label class="custom-control custom-checkbox ms-sm-2 md-md-2 ms-lg-2">
                                        <input type="checkbox" class="custom-control-input" name="cnan_check" value="4">
                                        <span class="custom-control-label">Accident</span>
                                    </label>
                                </div>
                            </div>
                            <div class="col-md-4 col-lg-2">
                                <div class="custom-controls d-lg-flex d-md-flex flex-row justify-content-left">
                                    <label class="custom-control custom-checkbox ms-sm-2 md-md-2 ms-lg-2">
                                        <input type="checkbox" class="custom-control-input" name="cnan_check" value="5">
                                        <span class="custom-control-label">Maternity</span>
                                    </label>
                                </div>
                            </div>
                            <div class="col-md-4 col-lg-2">
                                <div class="custom-controls d-lg-flex d-md-flex flex-row justify-content-left">
                                    <label class="custom-control custom-checkbox ms-sm-2 md-md-2 ms-lg-2">
                                        <input type="checkbox" class="custom-control-input" name="cnan_check" value="6">
                                        <span class="custom-control-label">Preventive</span>
                                    </label>
                                </div>
                            </div>
                            <div class="col-md-4 col-lg-1">
                                <div class="custom-controls d-lg-flex d-md-flex flex-row justify-content-left">
                                    <label class="custom-control custom-checkbox ms-sm-2 md-md-2 ms-lg-2">
                                        <input type="checkbox" class="custom-control-input" name="cnan_check" value="7">
                                        <span class="custom-control-label">Dental</span>
                                    </label>
                                </div>
                            </div>
                            <div class="col-md-4 col-lg-2">
                                <div class="custom-controls d-lg-flex d-md-flex flex-row justify-content-left">
                                    <label class="custom-control custom-checkbox ms-sm-2 md-md-2 ms-lg-2">
                                        <input type="checkbox" class="custom-control-input" name="cnan_check" value="8">
                                        <span class="custom-control-label">Work Related</span>
                                    </label>
                                </div>
                            </div>
                            <div class="col-md-4 col-lg-1">
                                <div class="custom-controls d-lg-flex d-md-flex flex-row justify-content-left">
                                    <label class="custom-control custom-checkbox ms-sm-2 md-md-2 ms-lg-2">
                                        <input type="checkbox" class="custom-control-input" name="cnan_check" value="9">
                                        <span class="custom-control-label">Other</span>
                                    </label>
                                </div>
                            </div>
                        </div>
                        <div class="form-group row">
                            <div class="col-md-12 col-lg-2">
                                Diagnosis / Etiology:
                            </div>
                            <div class="col-md-3 col-lg-2">
                                <div class="custom-controls d-lg-flex d-md-flex flex-row justify-content-left">
                                    <label class="custom-control custom-checkbox ms-sm-2 md-md-2 ms-lg-2">
                                        <input type="checkbox" class="custom-control-input" name="cnan_check" value="10">
                                        <span class="custom-control-label">Acute</span>
                                    </label>
                                </div>
                            </div>
                            <div class="col-md-3 col-lg-2">
                                <div class="custom-controls d-lg-flex d-md-flex flex-row justify-content-left">
                                    <label class="custom-control custom-checkbox ms-sm-2 md-md-2 ms-lg-2">
                                        <input type="checkbox" class="custom-control-input" name="cnan_check" value="11">
                                        <span class="custom-control-label">Chronic</span>
                                    </label>
                                </div>
                            </div>
                            <div class="col-md-3 col-lg-2">
                                <div class="custom-controls d-lg-flex d-md-flex flex-row justify-content-left">
                                    <label class="custom-control custom-checkbox ms-sm-2 md-md-2 ms-lg-2">
                                        <input type="checkbox" class="custom-control-input" name="cnan_check" value="12">
                                        <span class="custom-control-label">Confirmed</span>
                                    </label>
                                </div>
                            </div>
                            <div class="col-md-3 col-lg-2">
                                <div class="custom-controls d-lg-flex d-md-flex flex-row justify-content-left">
                                    <label class="custom-control custom-checkbox ms-sm-2 md-md-2 ms-lg-2">
                                        <input type="checkbox" class="custom-control-input" name="cnan_check" value="13">
                                        <span class="custom-control-label">Suspected</span>
                                    </label>
                                </div>
                            </div>                           
                        </div>
                        <div class="form-group row">
                            <label class="form-label">
                                Indicate Diagnosis / Differential diagnosis
                            </label>
                            <label class="form-label">
                                <label class="form-label text-red text-left" id="pat_Diagnosis" name="">&nbsp;</label>
                            </label>
                        </div>
                        <div class="form-group row">
                            <label class="col-md-6 col-lg-4 form-label text-justify">
                                Is diagnosis related to another assessment?
                            </label>
                            <div class="col-md-3 col-lg-2">
                                <label class="custom-control custom-radio">
                                    <input type="radio" class="custom-control-input" name="cnan_checkbox[14]" value="14">
                                    <span class="custom-control-label">Yes</span>
                                </label>
                            </div>
                            <div class="col-md-3 col-lg-2">
                                <label class="custom-control custom-radio">
                                    <input type="radio" class="custom-control-input" name="cnan_checkbox[14]" value="15">
                                    <span class="custom-control-label">No</span>
                                </label>
                            </div>
                        </div>
                        <div class="form-group row">
                            <label class="col-md-6 col-lg-5 form-label text-justify">
                                If Yes, specify ( i.e. Retinopathy related disorder):
                            </label>
                            <div class="col-md-6 col-lg-2">
                                @Html.TextBoxFor(m => m.cnan_32, new { @class = "form-control", @id = "cnan_32", @maxlength = "50" })
                            </div>
                        </div>
                    </div>
                </div>
                <div class="card-header text-blue font-weight-bold">
                    <h4 class="card-title text-justify">MANAGEMENT PLAN Itemized Original Invoices & Applicable Prescriptions/ Reports/ Results must be enclosed to consider the claim.</h4>
                </div>
                <div class="card-body">
                    <div class="form-horizontal">
                        <div class="form-group row">
                            <div class="table-responsive">
                                <table id="tbl_Treatment" class="table table-striped table-bordered text-nowrap" style="width: 100%; cursor: pointer;">
                                    <tbody>
                                        <tr>
                                            <td>
                                                <div class="custom-controls d-lg-flex d-md-flex flex-row justify-content-left">
                                                    <label class="custom-control custom-checkbox ms-sm-2 md-md-2 ms-lg-2">
                                                        <input type="checkbox" class="custom-control-input" name="cnan_check" value="16">
                                                        <span class="custom-control-label">Consultation</span>
                                                    </label>
                                                </div>
                                            </td>
                                            <td style="min-width:150px">Cost</td>
                                            <td>
                                                <div class="custom-controls d-lg-flex d-md-flex flex-row justify-content-left">
                                                    <label class="custom-control custom-checkbox ms-sm-2 md-md-2 ms-lg-2">
                                                        <input type="checkbox" class="custom-control-input" name="cnan_check" value="17">
                                                        <span class="custom-control-label">Physiotherapy</span>
                                                    </label>
                                                </div>
                                            </td>
                                            <td style="min-width:150px">Cost</td>
                                        </tr>
                                        <tr>
                                            <td>@Html.TextBoxFor(m => m.cnan_3, new { @class = "form-control", @id = "cnan_3", @maxlength = "50" })</td>
                                            <td>@Html.TextBoxFor(m => m.cnan_4, new { @class = "form-control", @id = "cnan_4", @maxlength = "50" })</td>
                                            <td>@Html.TextBoxFor(m => m.cnan_5, new { @class = "form-control", @id = "cnan_5", @maxlength = "50" })</td>
                                            <td>@Html.TextBoxFor(m => m.cnan_6, new { @class = "form-control", @id = "cnan_6", @maxlength = "50" })</td>
                                        </tr>
                                        <tr>
                                            <td>@Html.TextBoxFor(m => m.cnan_7, new { @class = "form-control", @id = "cnan_7", @maxlength = "50" })</td>
                                            <td>@Html.TextBoxFor(m => m.cnan_8, new { @class = "form-control", @id = "cnan_8", @maxlength = "50" })</td>
                                            <td>@Html.TextBoxFor(m => m.cnan_9, new { @class = "form-control", @id = "cnan_9", @maxlength = "50" })</td>
                                            <td>@Html.TextBoxFor(m => m.cnan_10, new { @class = "form-control", @id = "cnan_10", @maxlength = "50" })</td>
                                        </tr>
                                        <tr>
                                            <td>
                                                <div class="custom-controls d-lg-flex d-md-flex flex-row justify-content-left">
                                                    <label class="custom-control custom-checkbox ms-sm-2 md-md-2 ms-lg-2">
                                                        <input type="checkbox" class="custom-control-input" name="cnan_check" value="18">
                                                        <span class="custom-control-label">Pharmacy</span>
                                                    </label>
                                                </div>
                                            </td>
                                            <td>Cost</td>
                                            <td>
                                                <div class="custom-controls d-lg-flex d-md-flex flex-row justify-content-left">
                                                    <label class="custom-control custom-checkbox ms-sm-2 md-md-2 ms-lg-2">
                                                        <input type="checkbox" class="custom-control-input" name="cnan_check" value="19">
                                                        <span class="custom-control-label text-justify">Laboratory/Radiology/Other</span>
                                                    </label>
                                                </div>
                                            </td>
                                            <td>Cost</td>
                                        </tr>
                                        <tr>
                                            <td>@Html.TextBoxFor(m => m.cnan_11, new { @class = "form-control", @id = "cnan_11", @maxlength = "50" })</td>
                                            <td>@Html.TextBoxFor(m => m.cnan_12, new { @class = "form-control", @id = "cnan_12", @maxlength = "50" })</td>
                                            <td>@Html.TextBoxFor(m => m.cnan_13, new { @class = "form-control", @id = "cnan_13", @maxlength = "50" })</td>
                                            <td>@Html.TextBoxFor(m => m.cnan_14, new { @class = "form-control", @id = "cnan_14", @maxlength = "50" })</td>
                                        </tr>
                                        <tr>
                                            <td>@Html.TextBoxFor(m => m.cnan_15, new { @class = "form-control", @id = "cnan_15", @maxlength = "50" })</td>
                                            <td>@Html.TextBoxFor(m => m.cnan_16, new { @class = "form-control", @id = "cnan_16", @maxlength = "50" })</td>
                                            <td>@Html.TextBoxFor(m => m.cnan_17, new { @class = "form-control", @id = "cnan_17", @maxlength = "50" })</td>
                                            <td>@Html.TextBoxFor(m => m.cnan_18, new { @class = "form-control", @id = "cnan_18", @maxlength = "50" })</td>
                                        </tr>
                                        <tr>
                                            <td>
                                                <div class="custom-controls d-lg-flex d-md-flex flex-row justify-content-left">
                                                    <label class="custom-control custom-checkbox ms-sm-2 md-md-2 ms-lg-2">
                                                        <input type="checkbox" class="custom-control-input" name="cnan_check" value="24">
                                                        <span class="custom-control-label">Radiology</span>
                                                    </label>
                                                </div>
                                            </td>
                                            <td>Cost</td>
                                            <td>
                                                <div class="custom-controls d-lg-flex d-md-flex flex-row justify-content-left">
                                                    <label class="custom-control custom-checkbox ms-sm-2 md-md-2 ms-lg-2">
                                                        <input type="checkbox" class="custom-control-input" name="cnan_check" value="25">
                                                        <span class="custom-control-label text-justify">Other Services</span>
                                                    </label>
                                                </div>
                                            </td>
                                            <td>Cost</td>
                                        </tr>
                                        <tr>
                                            <td>@Html.TextBoxFor(m => m.cnan_19, new { @class = "form-control", @id = "cnan_19", @maxlength = "50" })</td>
                                            <td>@Html.TextBoxFor(m => m.cnan_20, new { @class = "form-control", @id = "cnan_20", @maxlength = "50" })</td>
                                            <td>@Html.TextBoxFor(m => m.cnan_21, new { @class = "form-control", @id = "cnan_21", @maxlength = "50" })</td>
                                            <td>@Html.TextBoxFor(m => m.cnan_22, new { @class = "form-control", @id = "cnan_22", @maxlength = "50" })</td>
                                        </tr>
                                        <tr>
                                            <td>@Html.TextBoxFor(m => m.cnan_23, new { @class = "form-control", @id = "cnan_23", @maxlength = "50" })</td>
                                            <td>@Html.TextBoxFor(m => m.cnan_24, new { @class = "form-control", @id = "cnan_24", @maxlength = "50" })</td>
                                            <td>@Html.TextBoxFor(m => m.cnan_25, new { @class = "form-control", @id = "cnan_25", @maxlength = "50" })</td>
                                            <td>@Html.TextBoxFor(m => m.cnan_26, new { @class = "form-control", @id = "cnan_26", @maxlength = "50" })</td>
                                        </tr>
                                        <tr>
                                            <td>@Html.TextBoxFor(m => m.cnan_27, new { @class = "form-control", @id = "cnan_27", @maxlength = "50" })</td>
                                            <td>@Html.TextBoxFor(m => m.cnan_28, new { @class = "form-control", @id = "cnan_28", @maxlength = "50" })</td>
                                            <td>@Html.TextBoxFor(m => m.cnan_29, new { @class = "form-control", @id = "cnan_29", @maxlength = "50" })</td>
                                            <td>@Html.TextBoxFor(m => m.cnan_30, new { @class = "form-control", @id = "cnan_30", @maxlength = "50" })</td>
                                        </tr>

                                        <tr>
                                            <td>Total Charges</td>
                                            <td colspan="3">@Html.TextBoxFor(m => m.cnan_38, new { @class = "form-control", @id = "cnan_38", @maxlength = "50" })</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                        <div class="form-group row">
                            <label class="col-md-6 col-lg-2">
                                Hospital Admission?
                            </label>
                            <div class="col-md-3 col-lg-1">
                                <label class="custom-control custom-radio">
                                    <input type="radio" class="custom-control-input" name="cnmn_checkbox[22]" value="22">
                                    <span class="custom-control-label">Yes</span>
                                </label>
                            </div>
                            <div class="col-md-3 col-lg-1">
                                <label class="custom-control custom-radio">
                                    <input type="radio" class="custom-control-input" name="cnmn_checkbox[22]" value="23">
                                    <span class="custom-control-label">No</span>
                                </label>
                            </div>
                            <label class="col-md-6 col-lg-2">
                                Hospital Name:
                            </label>
                            <div class="col-md-6 col-lg-2">
                                @Html.TextBoxFor(m => m.cnan_35, new { @class = "form-control mb-1", @id = "cnan_35", @maxlength = "50" })
                            </div>
                            <label class="col-md-6 col-lg-2">
                                No. of Days:
                            </label>
                            <div class="col-md-6 col-lg-2">
                                @Html.TextBoxFor(m => m.cnan_36, new { @class = "form-control", @id = "cnan_36", @maxlength = "50" })
                            </div>                           
                        </div>
                        <div class="form-group row">
                            <label class="col-md-6 col-lg-2">
                                Procedure :
                            </label>
                            <div class="col-md-6 col-lg-2">
                                @Html.TextBoxFor(m => m.cnan_37, new { @class = "form-control mb-1", @id = "cnan_37", @maxlength = "50" })
                            </div>
                            <label class="col-md-6 col-lg-2">
                                Cost :
                            </label>
                            <div class="col-md-6 col-lg-2">
                                @Html.TextBoxFor(m => m.cnan_33, new { @class = "form-control", @id = "cnan_33", @maxlength = "50" })
                            </div>
                        </div>
                        <div class="form-group row">
                            <label class="col-md-6 col-lg-8 form-label text-justify">
                                Discharge Summary: Itemized Invoices, Reports & Receipts Attached?
                            </label>                           
                            <div class="col-md-3 col-lg-2">
                                <label class="custom-control custom-radio">
                                    <input type="radio" class="custom-control-input" name="cnan_checkbox[20]" value="20">
                                    <span class="custom-control-label">Yes</span>
                                </label>
                            </div>
                            <div class="col-md-3 col-lg-2">
                                <label class="custom-control custom-radio">
                                    <input type="radio" class="custom-control-input" name="cnan_checkbox[20]" value="21">
                                    <span class="custom-control-label">No</span>
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-lg-6 col-md-12">
                            <div class="form-horizontal">
                                <div class="form-group row">
                                    <label class="col-md-3 form-label">Treating Physician</label>
                                    <div class="col-md-9">
                                        <span class="font-weight-normal1 text-capitalize text-left">@emr.doc_name&nbsp;</span>
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <label class="col-md-3 form-label text-justify" for="example-email">Name & Address of Facility:</label>
                                    <div class="col-md-9">
                                        <span class="font-weight-normal1 text-capitalize text-left">@emr.set_company&nbsp;</span>
                                        <span class="font-weight-normal1 text-capitalize text-left  text-justify">@emr.set_address&nbsp;</span>
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <label class="col-md-3 form-label" for="example-email">Tel/Fax:</label>
                                    <div class="col-md-9">
                                        <span class="font-weight-normal1 text-capitalize text-left">@emr.set_tel&nbsp;</span>/
                                        <span class="font-weight-normal1 text-capitalize text-left">@emr.set_fax&nbsp;</span>
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <label class="col-md-3 form-label" for="example-email">Email:</label>
                                    <div class="col-md-9">
                                        <span class="font-weight-normal1 text-capitalize text-left">@emr.set_email&nbsp;</span>
                                    </div>
                                </div>

                                <div class="form-group row">
                                    <label class="col-md-3 form-label">Signature/Stamp</label>
                                    <div class="col-md-9">
                                        <img alt="stamp" src="@emr.doc_sign" id="doc_sign" class="avatar avatar-xl bsquare" />
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-6 col-md-12">
                            <div class="form-horizontal">
                                <div class="form-group row">
                                    <p class="text-justify text-black text-justify">
                                        I, the undersigned, confirm the information I have given herein is true & correct. I consent to the release of any medical information regarding my medical condition and history to Al Sagr National Insurance Company (ASNIC) for the purposes of insurance benefit determination and eligible reimbursement claim settlement. I also extend this release to include ASNIC’s representative TPA as noted on my ASNIC insurance card, if applicable. I agree that a copy of this consent shall have the validity of original.
                                    </p>
                                </div>
                                <div class="form-group row">
                                    <label class="col-md-3 form-label text-justify">Patient’s Signature(Parent if Minor)</label>
                                    <div class="col-md-3">
                                        <div class="form-group mb-3" style="display:none" id="upatimg"><img alt="Signature" src="" id="upat_sign" class="avatar avatar-xl bsquare" /></div>
                                    </div>
                                    <label class="col-md-3 form-label">Date</label>
                                    <div class="col-md-3">
                                        <label class="form-label text-red text-left" id="upsb_date_witness" name="">&nbsp;</label>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- End Row -->

    <div class="row ">
        <div class="row mt-2">
            <div class="col-sm-12 col-md-12 col-lg-12 text-center">
                <div class="btn-list btn-animation">
                    <button type="submit" class="btn btn-success" id="btn_Insert_NextcareAsnic">Save</button>
                    <button type="button" class="btn btn-outline-dark" id="btn_Reset_NextcareAsnic">Reset</button>
                    <div class="btn-group mr-2">
                        <div class="dropdown">
                            <button type="button" class="btn-sm btn-secondary me-2 mb-2 dropdown-toggle" data-bs-toggle="dropdown">
                                <i class="fa fa-paint-brush">&nbsp;&nbsp;</i> Patient
                            </button>
                            <div class="dropdown-menu">
                                <a class="dropdown-item" onclick="openSignaturePad('patient')">Tab</a>
                                <a class="dropdown-item" onclick="openWacomTabSignaturePad('patient')">Wacom Tab</a>
                            </div>
                        </div>
                    </div>
                </div>
                <div id="warningMessage" class="text-danger" style="display: none;">Please fill in at least one field before submitting.</div>
            </div>
        </div>
    </div>

</form>

<script type="text/javascript">
    //#region Page Load
        var formName1 = $(form_NextcareAsnicDecision).closest('form').attr('name');
        $(function () {
            set_date();
            validate();
            Get_Patient_signs();
            Get_EMRINFO();
        });
    //#endregion

    //#region Load set Date
        var set_date = function () {
            $('#cnan_date1,#cnan_date2,#cnan_date3').bootstrapdatepicker({
                format: "dd-MM-yyyy",
                viewMode: "date",
                todayHighlight: true,
                autoclose: true,
                multidate: false,
                multidateSeparator: "-"
            });
            $("#cnan_date1,#cnan_date2,#cnan_date3").bootstrapdatepicker("setDate", '');
        }
    //#endregion

    //#region Load Get Diagnosis,treatments,history,invoice
         var Get_EMRINFO = function () {
             $.ajax({
                 type: "GET",
                 url: "@Url.Action("GetEmrInfo", "ReimbursementForms", new { area = "EMRForms" })?appId=" + "@emr.appId" + "&patId=" + @emr.patId,
                 success: function (response) {
                     if (response.length > 0) {
                         $('#complaints').text(response[0].complaints);
                         $('#pat_Diagnosis').text(response[0].diagnosis);
                     }
                 },
                 error: function (xhr) {
                     console.log(xhr);
                 }
             })
         }
    //#endregion

    //#region Load Get_Patient_signs
        var Get_Patient_signs = function () {
            $.ajax({
                type: "GET",
                url: "@Url.Action("Get_Patient_Signs", "ReimbursementForms", new { area = "EMRForms" })?appId="+@emr.appId,
                success: function (response) {
                    if (response.length > 0) {
                        var str1 = response[0].sign_bp;
                        var str2 = response[0].sign_pulse;
                        var str3 = response[0].sign_temp;
                        var str4 = response[0].sign_notes;
                        var regex = /(|<([^>]+)>)/ig;
                        $("#sign_bp").text(str1.replace(/(<p>|<\/p>)/g, ""));
                        $("#sign_pulse").text(str2.replace(/(<p>|<\/p>)/g, ""));
                        $("#sign_temp").text(str3.replace(/(<p>|<\/p>)/g, ""));
                        $("#sign_notes").text(str4.replace(/(<p>|<\/p>)/g, ""));
                    }
                },
                error: function (xhr) {
                    console.log(xhr);
                }
            });
        }
    //#endregion

    //#region Function to check if any field is filled
        function isAnyFieldFilledOrSelected() {
            var isFilledOrSelected = false;

            // Check input fields
            $('.form-control').each(function () {
                if ($(this).val().trim() !== '') {
                    isFilledOrSelected = true;
                    return false; // Exit the loop if any input field is filled
                }
            });

            // Check checkboxes and radio buttons
            $('input[type="checkbox"], input[type="radio"]').each(function () {
                if ($(this).is(':checked')) {
                    isFilledOrSelected = true;
                    return false; // Exit the loop if any checkbox or radio button is selected
                }
            });

            return isFilledOrSelected;
        }
    //#endregion

    //#region Validation Initialization
        var validate = function () {

            $('#cnan_date1').keypress(function (e) {
                var charCode = (e.which) ? e.which : e.keyCode
                if (String.fromCharCode(charCode).match(/[^0-9./-]/g)) {
                    return false;

                }
                else {
                    if (e.target.value.length >= 18)
                        return false;
                }
            });
            $('#cnan_date3').keypress(function (e) {
                var charCode = (e.which) ? e.which : e.keyCode
                if (String.fromCharCode(charCode).match(/[^0-9./-]/g)) {
                    return false;

                }
                else {
                    if (e.target.value.length >= 18)
                        return false;
                }
            });
            $('#cnan_date2').keypress(function (e) {
                var charCode = (e.which) ? e.which : e.keyCode
                if (String.fromCharCode(charCode).match(/[^0-9./-]/g)) {
                    return false;

                }
                else {
                    if (e.target.value.length >= 18)
                        return false;
                }
            });


        }
    //#endregion

    //#region Wacom Tab Signature
        var openWacomTabSignaturePad = function (id) {
            var _data = {
                "patId": @emr.patId,
                "person": id,
                "form": "NextcareAsnic",
                "appId": @emr.appId,
                "formname":"NextcareAsnic",
                "formlink":"PrintNextcareAsnic",
                "eSign":""
            }
            $.ajax({
                type: "GET",
                url: "@Url.Action("WacomTabSignaturePad", "WacomTabSignaturePad", new { area = "Common" })",
                contentType: "application/json",
                dataType: "html",
                data: _data,
                success: function (response) {
                    $("#signature_pad_body").html(response);
                    $("#signature_pad").modal("show");
                },
                error: function (xhr) {
                    console.log("Error :" + xhr.statusText);
                }
            });
        }
    //#endregion

    //#region Signature
        var openSignaturePad = function (id) {
            var _data = {
                "patId": @emr.patId,
                "person": id,
                "form": "NextcareAsnic",
                "appId": @emr.appId,
                "formname":"NextcareAsnic",
                "formlink":"PrintNextcareAsnic",
                "eSign":""
            }
            $.ajax({
                type: "GET",
                url: "@Url.Action("SignaturePad", "SignaturePad", new { area = "Common" })",
                contentType: "application/json",
                dataType: "html",
                data: _data,
                success: function (response) {
                    $("#signature_pad_body").html(response);
                    $("#signature_pad").modal("show");
                },
                error: function (xhr) {
                    console.log("Error :" + xhr.statusText);
                }
            });
        }
    //#endregion

    //#region Alert Timeout
        function Timeout() {
            window.setTimeout(function () {
                $(".alert").fadeTo(500, 0).slideUp(500, function () {
                    $(this).remove();
                });
            }, 4200);
        }
    //#endregion

    //#region Reset
        $('#btn_Reset_NextcareAsnic').on('click', function (e) {
            e.preventDefault();
            clearControls();
        });
    //#endregion

    //#region Clear Controls
        var clearControls = function () {
        $("#cnan_1").val("");
        $("#cnan_2").val("");
        $("#cnan_3").val("");
        $("#cnan_4").val("");
        $("#cnan_5").val("");
        $("#cnan_6").val("");
        $("#cnan_7").val("");
        $("#cnan_8").val("");
        $("#cnan_9").val("");
        $("#cnan_10").val("");
        $("#cnan_11").val("");
        $("#cnan_12").val("");
        $("#cnan_13").val("");
        $("#cnan_14").val("");
        $("#cnan_15").val("");
        $("#cnan_16").val("");
        $("#cnan_17").val("");
        $("#cnan_18").val("");
        $("#cnan_19").val("");
        $("#cnan_20").val("");
        $("#cnan_21").val("");
        $("#cnan_22").val("");
        $("#cnan_23").val("");
        $("#cnan_24").val("");
        $("#cnan_25").val("");
        $("#cnan_26").val("");
        $("#cnan_27").val("");
        $("#cnan_28").val("");
        $("#cnan_29").val("");
        $("#cnan_30").val("");
        $("#cnan_31").val("");
        $("#cnan_32").val("");
        $("#cnan_35").val("");
        $("#cnan_36").val("");
        $("#cnan_37").val("");
        $("#cnan_38").val("");
        $("#cnan_39").val("");
        $("#cnan_40").val("");
        $("#cnan_41").val("");
        $("#cnan_date1").bootstrapdatepicker("setDate", '');
        $("#cnan_date2").bootstrapdatepicker("setDate", '');
        $("#cnan_date3").bootstrapdatepicker("setDate", '');
        var elements = document.getElementsByClassName('custom-control-input');
        Array.prototype.forEach.call(elements, function (element) {
            element.checked = false;
        });
    }
    //#endregion

    //#region Insert Button Click
        $('#btn_Insert_NextcareAsnic').on('click', function (e) {
            e.preventDefault();
            if (isAnyFieldFilledOrSelected()) {
               if ($("#form_NextcareAsnicDecision").valid()) {
                    $('#btn_Insert_NextcareAsnic').removeClass("btn btn-success");
                    $('#btn_Insert_NextcareAsnic').addClass("btn btn-success btn-loaders btn-icon");
                    $('#btn_Insert_NextcareAsnic').html("Saving the Record....");
                    var cnan_chkbox = "";
                    $('.custom-control-input:checked').each(function (index) {
                        cnan_chkbox = cnan_chkbox + ',' + $(this).val();
                    });
                    var cnan_checkbox = cnan_chkbox.substring(1);
                    var _dataInsert = {
                    "cnanId": 0,
                    "cnan_appId": @emr.appId,
                    "cnan_checkbox": cnan_checkbox,
                    "cnan_1": $("#cnan_1").val(),
                    "cnan_2": $("#cnan_2").val(),
                    "cnan_3": $("#cnan_3").val(),
                    "cnan_4": $("#cnan_4").val(),
                    "cnan_5": $("#cnan_5").val(),
                    "cnan_6": $("#cnan_6").val(),
                    "cnan_7": $("#cnan_7").val(),
                    "cnan_8": $("#cnan_8").val(),
                    "cnan_9": $("#cnan_9").val(),
                    "cnan_10": $("#cnan_10").val(),
                    "cnan_11": $("#cnan_11").val(),
                    "cnan_12": $("#cnan_12").val(),
                    "cnan_13": $("#cnan_13").val(),
                    "cnan_14": $("#cnan_14").val(),
                    "cnan_15": $("#cnan_15").val(),
                    "cnan_16": $("#cnan_16").val(),
                    "cnan_17": $("#cnan_17").val(),
                    "cnan_18": $("#cnan_18").val(),
                    "cnan_19": $("#cnan_19").val(),
                    "cnan_20": $("#cnan_20").val(),
                    "cnan_21": $("#cnan_21").val(),
                    "cnan_22": $("#cnan_22").val(),
                    "cnan_23": $("#cnan_23").val(),
                    "cnan_24": $("#cnan_24").val(),
                    "cnan_25": $("#cnan_25").val(),
                    "cnan_26": $("#cnan_26").val(),
                    "cnan_27": $("#cnan_27").val(),
                    "cnan_28": $("#cnan_28").val(),
                    "cnan_29": $("#cnan_29").val(),
                    "cnan_30": $("#cnan_30").val(),
                    "cnan_31": $("#cnan_31").val(),
                    "cnan_32": $("#cnan_32").val(),
                    "cnan_33": $("#cnan_33").val(),
                    "cnan_34": '',
                    "cnan_35": $("#cnan_35").val(),
                    "cnan_36": $("#cnan_36").val(),
                    "cnan_37": $("#cnan_37").val(),
                    "cnan_38": $("#cnan_38").val(),
                    "cnan_39": $("#cnan_39").val(),
                    "cnan_40": '',
                    "cnan_41": '',
                    "cnan_date1": moment($("#cnan_date1").val()).format("YYYY-MM-DD"),
                    "cnan_date2": moment($("#cnan_date2").val()).format("YYYY-MM-DD"),
                    "cnan_date3": moment($("#cnan_date3").val()).format("YYYY-MM-DD"),
                    "__RequestVerificationToken": $('input[name="__RequestVerificationToken"]').val()
                    }
                    console.log(_dataInsert);
                $.ajax({
                type: "POST",
                url: "@Url.Action("InsertNextcareAsnic", "ReimbursementForms", new { area = "EMRForms" })",
                dataType: 'JSON',
                data: _dataInsert,
                success: function (data) {
                $('#btn_Insert_NextcareAsnic').removeClass("btn btn-success btn-loaders btn-icon");
                $('#btn_Insert_NextcareAsnic').addClass("btn btn-success");
                $('#btn_Insert_NextcareAsnic').html("Add");

                if (data.isSuccess) {
                if (data.isInserted) {
                GetNextcareAsnic();
                var alertPlaceholder = document.getElementById("Alert");
                function alert(e, t) {
                    var l = document.createElement("div");
                    l.innerHTML = '<div class="alert alert-' + t + ' alert-dismissible" role="alert">' + e +
                        '<button type="button" class="btn-close" data-bs-dismiss="alert" aria-hidden="Close">x</button></div>', alertPlaceholder.append(l)
                }
                alert("<i class='fe fe-check-circle text-white'></i> NextcareAsnic Claim Form Added Successfully!", "success");
                Timeout();
                Editnextcareasnic()
                }
                    else {
                        let html = "<div class='col-12 col-sm-12 col-md-12 d-flex justify-content-center'>" +
                            "<div class='alert alert-light-warning' role='alert'>" +
                            "<button type='button' class='btn-close text-warning' style='margin-bottom:-5px;' data-bs-dismiss='alert' aria-hidden='true' aria-label='Close'>×</button>" +
                            "<strong><i class='fa fa-exclamation-triangle text-warning'></i> NextcareAsnic Claim Form Alredy Exists!</strong><br/>" +
                            "</div></div>";
                        $("#error").html(html);
                    }
                }
                else {
                let html = "<div class='col-12 col-sm-12 col-md-12 d-flex justify-content-center'>" +
                    "<div class='alert alert-light-danger' role='alert'>" +
                    "<button type='button' class='btn-close text-danger' style='margin-bottom:-5px;' data-bs-dismiss='alert' aria-hidden='true' aria-label='Close'>×</button>" +
                    "<strong><i class='fa fa-ban text-danger'></i> Validation Error! Please validate before submitting.&nbsp;</strong><br/><ul>";

                $.each(data.message, function (index, value) {
                    html += "<li><small>" + value + "</small><li>";
                    var elem = $("#" + index);
                    if (elem.hasClass("select2-hidden-accessible")) {
                        $("#select2-" + elem.attr("id") + "-container").parent().addClass('error');
                    }
                    else {
                        $(elem).addClass(" is-invalid");
                    }

                    setTimeout(function () {
                        if (elem.hasClass("select2-hidden-accessible")) {
                            $("#select2-" + elem.attr("id") + "-container").parent().removeClass('error');
                        }
                        else {
                            $(elem).removeClass("is-invalid");
                        }
                    }, 5000);
                });
                html += "</ul></div></div>";
                $("#error").html(html);
                }
                },
                error: function (xhr) {
                $('#btn_Insert_NextcareAsnic').removeClass("btn btn-success btn-loaders btn-icon");
                $('#btn_Insert_NextcareAsnic').addClass("btn btn-success");
                $('#btn_Insert_NextcareAsnic').html("Add");
                Timeout();
                }
                });
                }
                else {
                    $('.modal-body').animate({
                        scrollTop: ($('.has-error').offset().top - 300)
                    }, 2000);
                }
            } else {
                // Show a message box or alert indicating that at least one field must be filled
                //alert('Please fill in at least one field before submitting.');
                $('#warningMessage').show();
                // Prevent form submission
                return false;
            }

        });
    //#endregion
</script>
<style>
    #warningMessage {
        color: red;
        background-color: #ffe6e6;
        font-size: 16px;
        padding: 10px;
        margin: 10px 0;
        font-weight: bold;
        text-align: center;
        border: 1px solid red;
        border-radius: 5px;
        display: block;
        transition: display 0.5s ease-in-out;
    }
</style>

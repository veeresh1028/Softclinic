@model BusinessEntities.EMRForms.SAICO
@using System.Linq;
@using System.Security.Claims;
@using BusinessEntities;
@{
    var claims = ClaimsPrincipal.Current.Identities.First().Claims.ToList();
    var emp_designation = claims.Where(c => c.Type == ClaimTypes.Role).Select(c => c.Value).SingleOrDefault();
    EMRInfo emr = (EMRInfo)TempData["emr_data"];
    TempData.Keep("emr_data");
}
<div class="modal-body p-4">
    <form id="form_SAICODecision" class="fs-14" autocomplete="off" name="SAICO" ondrop="return false;" onpaste="return false;" oncut="return false;">
        @Html.AntiForgeryToken()
        @Html.HiddenFor(m => m.sacnId, new { @id = "sacnId", @value = "@Model.sacnId" })

        <div class="row">
            <div class="col-lg-12 col-xl-12 col-md-12 col-sm-12 bg-gray-100 border-dark">
                <div class="mt-2">
                    <h5 class="font-weight-bold ps-3">Section A.  Important Information:  Please Read</h5>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-lg-12 col-md-12 ps-0">
                            <div class="form-group row">
                                <p class="form-label text-justify">
                                    Please complete and sign this claim form, and submit it along with itemsied bills and receipts detailing the services rendered.
                                </p>
                            </div>
                            <div class="form-group row">
                                <div class="col-lg-6 col-md-6">
                                    <p class="form-label text-justify">
                                        Send your completed form, itemsied bills and receipts
                                    </p>
                                    <p class="form-label text-justify">
                                        By fax: in Saudi Arabia:  +96614601881
                                    </p>
                                    <p class="form-label text-justify ps-7">
                                        in UAE: +97142955231
                                    </p>
                                    <p class="form-label text-justify ps-7">
                                        in Bahrain:  +97317213915
                                    </p>
                                    <p class="form-label text-justify ps-7">
                                        in Qatar:  +9744325420
                                    </p>
                                    <p class="form-label text-justify ps-7">
                                        in Kuwait:  +9652475498
                                    </p>
                                    <p class="form-label text-justify">
                                        By mail:  SAICO Claims Dept.,
                                    </p>
                                    <p class="form-label text-justify ps-7">
                                        Saudi Arabian Insurance Co. B.S.C. ©
                                    </p>
                                    <p class="form-label text-justify ps-7">
                                        P.O. Box 29397, Riyadh 11457, Kingdom of Saudi Arabia
                                    </p>
                                </div>
                                <div class="col-lg-3 col-md-3 bg-white border-dark">
                                    <p class="form-label text-justify">
                                        Questions?  Please contact SAICO
                                    </p>
                                    <p class="form-label text-justify">
                                        By Phone:  in Saudi Arabia:  +96612150634
                                    </p>
                                    <p class="form-label text-justify ps-7">
                                        in UAE:  +97142958852
                                    </p>
                                    <p class="form-label text-justify ps-7">
                                        in Bahrain:  +97317213912
                                    </p>
                                    <p class="form-label text-justify ps-7">
                                        in Qatar:  +9744322781
                                    </p>
                                    <p class="form-label text-justify ps-7">
                                        in Kuwait:  +9652475497
                                    </p>
                                    <p class="form-label text-justify">
                                        By mail:  cigname@saicoins.com
                                    </p>
                                </div>
                            </div>
                            <div class="form-group row">
                                <p class="form-label text-justify">
                                    SAICO is able to process your claim from this claim form or any standard claim form your provider might give you to complete.<br />
                                    Please ensure that you include your SAICO Member No. if you submit a claim form other than this one.
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row mt-4">
            <div class="col-lg-12 col-xl-12 col-md-12 col-sm-12 border-dark">
                <div>
                    <h5 class="font-weight-bold mt-4 ps-3">Section B.  Employee and Patient Information<span class="font-italic">(Please complete a separate claim form for each family member)</span></h5>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-lg-12 col-md-12 ps-0">
                            <div class="form-group row">
                                <div class="d-flex col-sm-12 col-md-12 col-lg-6 ps-0">
                                    <label class="col-md-4 form-label">
                                        1.Employee Name
                                    </label>
                                    <div class="d-flex  justify-content-center w-8  form-label">
                                        :
                                    </div>
                                    <div class="col-md-6">
                                        <span class="font-weight-normal1 text-capitalize text-left">@emr.doc_name&nbsp;</span>
                                    </div>
                                </div>
                                <div class="d-flex col-sm-12 col-md-12 col-lg-6 ps-0">
                                    <label class="col-md-4 form-label">2.Patient's Name</label>
                                    <div class="d-flex  justify-content-center w-8  form-label">
                                        :
                                    </div>
                                    <div class="col-md-6">
                                        <span class="font-weight-normal1 text-capitalize text-left">@emr.pat_name&nbsp;</span>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group row">
                                <div class="d-flex col-sm-12 col-md-12 col-lg-6 ps-0">
                                    <label class="col-md-4 form-label">
                                        3.Employee's Date of Birth
                                    </label>
                                    <div class="d-flex  justify-content-center w-8  form-label">
                                        :
                                    </div>
                                    <div class="col-md-6">
                                        <div class="input-group">
                                            <div class="input-group-prepend">
                                                <div class="input-group-text">
                                                    <i class="fe fe-calendar"></i>
                                                </div>
                                            </div>
                                            @Html.TextBoxFor(m => m.sacn_d6, new { @class = "form-control", @placeholder = "DD-MMMM-YYYY", @id = "sacn_d6" })
                                        </div>
                                    </div>
                                </div>
                                <div class="d-flex col-sm-12 col-md-12 col-lg-6 ps-0">
                                    <label class="col-md-4 form-label">4.Patient's Date Of Birth</label>
                                    <div class="d-flex  justify-content-center w-8  form-label">
                                        :
                                    </div>
                                    <div class="col-md-6">
                                        @if (@emr.pat_dob != "")
                                        {
                                            <span class="font-weight-normal1 text-capitalize text-left">@emr.pat_dob&nbsp;</span>
                                        }
                                        else
                                        {
                                            <span class="font-weight-normal1 text-capitalize text-left">N/A</span>
                                        }
                                    </div>
                                </div>
                            </div>
                            <div class="form-group row">
                                <div class="d-flex col-sm-12 col-md-12 col-lg-6 ps-0">
                                    <label class="col-md-4 form-label">
                                        5.Telephone
                                    </label>
                                    <div class="d-flex  justify-content-center w-8  form-label">
                                        :
                                    </div>
                                    <div class="col-md-6">
                                        <span class="font-weight-normal1 text-capitalize text-left">@emr.pat_mob&nbsp;</span>
                                    </div>
                                </div>
                                <div class="d-flex col-sm-12 col-md-12 col-lg-6 ps-0">
                                    <label class="col-md-4 form-label">6.Email address </label>
                                    <div class="d-flex  justify-content-center w-8  form-label">
                                        :
                                    </div>
                                    <div class="col-md-6">
                                        <span class="font-weight-normal1 text-capitalize text-left">@emr.pat_email&nbsp;</span>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group row">
                                <div class="d-flex col-sm-12 col-md-12 col-lg-6 ps-0">
                                    <label class="col-md-4 form-label">
                                        7. SAICO Member No.
                                    </label>
                                    <div class="d-flex  justify-content-center w-8  form-label">
                                        :
                                    </div>
                                    <div class="col-md-6">
                                        <span class="font-weight-normal1 text-capitalize text-left">@emr.pi_insno&nbsp;</span>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group row">
                                <div class="col-sm-12 col-md-12 col-lg-12 ps-0">
                                    <div class="d-flex col-sm-12 col-md-12 col-lg-10">
                                        <p class="text-black text-justify">
                                            8. Do you have any other health or travel insurance policy from which you may receive full or partial reimbursement for these expenses?
                                        </p>
                                    </div>
                                    <div class="d-flex col-sm-12 col-md-6 col-lg-2">
                                        <label class="custom-control custom-radio">
                                            <input type="radio" class="custom-control-input" name="sacn_checkbox[1]" value="1">
                                            <span class="custom-control-label">Yes</span>
                                        </label>&nbsp;
                                        <label class="custom-control custom-radio">
                                            <input type="radio" class="custom-control-input" name="sacn_checkbox[1]" value="2">
                                            <span class="custom-control-label">No</span>
                                        </label>&nbsp;
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="card-body">
                <div class="row">
                    <div class="col-lg-12 col-md-12 ps-0">
                        <div class="form-group row">
                            <div class="col-sm-12 col-md-12 col-lg-12 border-dark">
                                <h5 class="font-weight-bold ps-3 mt-4">
                                    Section C <span class="font-italic"> (continued)</span>
                                </h5>
                                <h6 class="ps-3">
                                    1. List of expenses for which reimbursement is claimed, the amount, and to whom payment should be made.
                                </h6>
                                <div class="col-md-12">
                                    <div class="table-responsive">
                                        <table id="tbl_1" class="table table-striped table-bordered text-nowrap" style="width: 100%; cursor: pointer;">
                                            <thead>
                                                <tr style="color: #fff !important; background-color: #808080; border-color: #3C457D; ">
                                                    <th class="border-bottom-0 font-weight-semibold text-white">Diagnosis<span class="font-italic">(reason for treatment)</span></th>
                                                    <th class="border-bottom-0 font-weight-semibold text-white">Date of Service<span class="font-italic">(earliest if multiple)</span></th>
                                                    <th class="border-bottom-0 font-weight-semibold text-white">Amount<span class="font-italic">(local currency)</span></th>
                                                    <th class="border-bottom-0 font-weight-semibold text-white">Payment to<span class="font-italic">(employee/provider)</span></th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr>
                                                    <td>@Html.TextBoxFor(m => m.sacn_1, new { @class = "form-control", @id = "sacn_1", @maxlength = "200" })</td>
                                                    <td>
                                                        <div class="input-group">
                                                            <div class="input-group-prepend">
                                                                <div class="input-group-text">
                                                                    <i class="fe fe-calendar"></i>
                                                                </div>
                                                            </div>
                                                            @Html.TextBoxFor(m => m.sacn_d1, new { @class = "form-control", @placeholder = "DD-MMMM-YYYY", @id = "sacn_d1" })
                                                        </div>
                                                    </td>
                                                    <td>@Html.TextBoxFor(m => m.sacn_2, new { @class = "form-control", @id = "sacn_2", @maxlength = "10" })</td>
                                                    <td>@Html.TextBoxFor(m => m.sacn_3, new { @class = "form-control", @id = "sacn_3", @maxlength = "200" })</td>
                                                </tr>
                                                <tr>
                                                    <td>@Html.TextBoxFor(m => m.sacn_4, new { @class = "form-control", @id = "sacn_4", @maxlength = "200" })</td>
                                                    <td>
                                                        <div class="input-group">
                                                            <div class="input-group-prepend">
                                                                <div class="input-group-text">
                                                                    <i class="fe fe-calendar"></i>
                                                                </div>
                                                            </div>
                                                            @Html.TextBoxFor(m => m.sacn_d2, new { @class = "form-control", @placeholder = "DD-MMMM-YYYY", @id = "sacn_d2" })
                                                        </div>
                                                    </td>
                                                    <td>@Html.TextBoxFor(m => m.sacn_5, new { @class = "form-control", @id = "sacn_5", @maxlength = "10" })</td>
                                                    <td>@Html.TextBoxFor(m => m.sacn_6, new { @class = "form-control", @id = "sacn_6", @maxlength = "200" })</td>
                                                </tr>
                                                <tr>
                                                    <td>@Html.TextBoxFor(m => m.sacn_7, new { @class = "form-control", @id = "sacn_7", @maxlength = "200" })</td>
                                                    <td>
                                                        <div class="input-group">
                                                            <div class="input-group-prepend">
                                                                <div class="input-group-text">
                                                                    <i class="fe fe-calendar"></i>
                                                                </div>
                                                            </div>
                                                            @Html.TextBoxFor(m => m.sacn_d3, new { @class = "form-control", @placeholder = "DD-MMMM-YYYY", @id = "sacn_d3" })
                                                        </div>
                                                    </td>
                                                    <td>@Html.TextBoxFor(m => m.sacn_8, new { @class = "form-control", @id = "sacn_8", @maxlength = "10" })</td>
                                                    <td>@Html.TextBoxFor(m => m.sacn_9, new { @class = "form-control", @id = "sacn_9", @maxlength = "200" })</td>
                                                </tr>
                                                <tr>
                                                    <td>@Html.TextBoxFor(m => m.sacn_10, new { @class = "form-control", @id = "sacn_10", @maxlength = "200" })</td>
                                                    <td>
                                                        <div class="input-group">
                                                            <div class="input-group-prepend">
                                                                <div class="input-group-text">
                                                                    <i class="fe fe-calendar"></i>
                                                                </div>
                                                            </div>
                                                            @Html.TextBoxFor(m => m.sacn_d4, new { @class = "form-control", @placeholder = "DD-MMMM-YYYY", @id = "sacn_d4" })
                                                        </div>
                                                    </td>
                                                    <td>@Html.TextBoxFor(m => m.sacn_11, new { @class = "form-control", @id = "sacn_11", @maxlength = "10" })</td>
                                                    <td>@Html.TextBoxFor(m => m.sacn_12, new { @class = "form-control", @id = "sacn_12", @maxlength = "200" })</td>
                                                </tr>
                                                <tr>
                                                    <td>@Html.TextBoxFor(m => m.sacn_13, new { @class = "form-control", @id = "sacn_13", @maxlength = "200" })</td>
                                                    <td>
                                                        <div class="input-group">
                                                            <div class="input-group-prepend">
                                                                <div class="input-group-text">
                                                                    <i class="fe fe-calendar"></i>
                                                                </div>
                                                            </div>
                                                            @Html.TextBoxFor(m => m.sacn_d5, new { @class = "form-control", @placeholder = "DD-MMMM-YYYY", @id = "sacn_d5" })
                                                        </div>
                                                    </td>
                                                    <td>@Html.TextBoxFor(m => m.sacn_14, new { @class = "form-control", @id = "sacn_14", @maxlength = "10" })</td>
                                                    <td>@Html.TextBoxFor(m => m.sacn_15, new { @class = "form-control", @id = "sacn_15", @maxlength = "200" })</td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="card-body">
                <div class="row">
                    <div class="col-lg-12 col-md-12 ps-0">
                        <div class="form-group row mt-4">
                            <div class="col-sm-12 col-md-12 col-lg-12 border-dark">
                                <h5 class="font-weight-bold ps-3 mt-4">
                                    Section C.  Payment Details
                                </h5>
                                <h6 class="ps-3">
                                    2. Payment method.
                                </h6>
                                <p class="text-black text-justify ps-3">
                                    Payment will be made by cheque. Unless you instruct us otherwise, your reimbursement cheque will be sent to your employer’s local address,
                                    and your employer will then deliver it to you. If you would like to receive payment at an alternate address, please tick the box below and
                                    fill in the mailing information.
                                </p>
                                <p class="text-black text-justify ps-3">
                                    <div class="custom-controls d-lg-flex d-md-flex flex-row justify-content-left">
                                        <label class="custom-control custom-checkbox ms-sm-2 md-md-2 ms-lg-2">
                                            <input type="checkbox" class="custom-control-input" name="sacn_checkbox" value="3">
                                            <span class="custom-control-label"> Please send my reimbursement cheque to the address below:</span>
                                        </label>
                                    </div>
                                </p>
                                <div class="col-sm-12 col-md-12 col-lg-12">
                                    <label class="col-md-2 text-black">Name:</label>
                                    <div class="col-md-10">
                                        @Html.TextBoxFor(m => m.sacn_16, new { @class = "form-control", @id = "sacn_16", @maxlength = "20" })
                                    </div>
                                </div>
                                <div class="col-sm-12 col-md-12 col-lg-12">
                                    <label class="col-md-2 text-black">Address:</label>
                                    <div class="col-md-10">
                                        @Html.TextAreaFor(m => m.sacn_17, new { @class = "form-control", @row = "2", @id = "sacn_17" })
                                    </div>
                                </div>
                                <p class="text-black text-justify font-italic ps-3">Please note:  Reimbursement for claims made on this form will be in the currency of the country where services were rendered.  </p>

                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="row pt-0">
                <p class="text-black text-justify">
                    <span class="font-weight-bold font-italic">Fraud Notice:</span> Any person who knowingly and with intent to injure, defraud,
                    or deceive any insurer, files a statement of claim containing false, incomplete, or misleading information commits a fraudulent insurance act, which is a crime.
                </p>
                <p class="text-black text-justify">
                    <span class="font-weight-bold font-italic">Patient’s Signature and Release:</span>
                    (parent or guardian, if claim is for a minor): I certify that the information supplied is true and correct.
                    I authorise the release of all records or other information which may be necessary to determine benefits payable. The information provided on this
                    form may be used and disclosed to other persons or entities, including my Plan Sponsor, for the purpose of processing of this claim and performing
                    health plan administration.
                </p>
                <div class="form-group row">
                    <div class="col-sm-12 col-md-6 col-lg-6">
                        <label class="col-md-8 text-black"> Signature of the Insured/Guardian:</label>
                        <div class="col-md-4">
                            <div class="form-group mb-3" style="display:none" id="patimg"><img alt="Signature" src="" id="pat_sign" class="avatar avatar-xl bsquare" /></div>
                        </div>
                    </div>
                    <div class="col-sm-12 col-md-6 col-lg-6">
                        <label class="col-md-3 col-lg-2 text-black">Date:</label>
                        <div class="col-md-6">
                            <label class="text-black text-red text-left" id="upsb_date_witness" name="">&nbsp;</label>
                        </div>
                    </div>
                </div>
            </div>

            <div class="card-body">
                <div class="row mt-4">
                    <div class="col-lg-12 col-md-12 ps-0">

                        <div class="col-sm-12 col-md-12 col-lg-12 border-dark">
                            <h5 class="font-weight-bold ps-3 mt-4">
                                This section to be completed by SAICO
                            </h5>
                            <div class="form-group row">
                                <div class="custom-controls d-lg-flex d-md-flex flex-row justify-content-left col-sm-12 col-md-6 col-lg-2">
                                    <label class="custom-control custom-checkbox ms-sm-2 md-md-2 ms-lg-2">
                                        <input type="checkbox" class="custom-control-input" name="sacn_checkbox" value="4">
                                        <span class="custom-control-label"> Approve:</span>
                                    </label>
                                </div>
                                <div class="col-sm-4 col-md-4 col-lg-4">
                                    @Html.TextBoxFor(m => m.sacn_18, new { @class = "form-control", @id = "sacn_18", @maxlength = "50" })
                                </div>
                            </div>
                            <div class="form-group row">
                                <div class="custom-controls d-lg-flex d-md-flex flex-row justify-content-left col-sm-12 col-md-6 col-lg-2">
                                    <label class="custom-control custom-checkbox ms-sm-2 md-md-2 ms-lg-2">
                                        <input type="checkbox" class="custom-control-input" name="sacn_checkbox" value="5">
                                        <span class="custom-control-label"> Other:</span>
                                    </label>
                                </div>
                                <div class="col-sm-4 col-md-4 col-lg-4">
                                    @Html.TextBoxFor(m => m.sacn_19, new { @class = "form-control", @id = "sacn_19", @maxlength = "50" })
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row ">
            <div class="row mt-2">
                <div class="col-sm-12 col-md-12 col-lg-12 text-center">
                    <div class="btn-list btn-animation">
                        <button type="submit" class="btn btn-success" id="btn_Insert_SAICO">Save</button>
                        <button type="button" class="btn btn-outline-dark" id="btn_Reset_SAICO">Reset</button>
                        <div class="btn-group mr-2">
                            <div class="dropdown">
                                <button type="button" class="btn-sm btn-secondary me-2 mb-2 dropdown-toggle" data-bs-toggle="dropdown">
                                    <i class="fa fa-paint-brush">&nbsp;&nbsp;</i> Patient
                                </button>
                                <div class="dropdown-menu">
                                    <a class="dropdown-item" onclick="openSignaturePad('patient')">Tab</a>
                                    <a class="dropdown-item" onclick="openWacomTabSignaturePad('patient')">Wacom Tab</a>
                                </div>
                            </div>
                        </div>
                        <button type="button" class="btn btn-outline-danger me-1" id="btn_Close_SAICO" style="display:none">
                            Close
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </form>
</div>
@*@section myScripts{*@
<script type="text/javascript">
    //#region Page Load
        var formName1 = $(form_SAICODecision).closest('form').attr('name');
        $(function () {
            validate();
            set_date();
        });
    //#endregion

    //#region Load set Date
        var set_date = function () {
            $('#sacn_d1,#sacn_d2,#sacn_d3,#sacn_d4').bootstrapdatepicker({
                format: "dd-MM-yyyy",
                viewMode: "date",
                todayHighlight: true,
                autoclose: true,
                multidate: false,
                multidateSeparator: "-"
            });
            $("#sacn_d1,#sacn_d2,#sacn_d3,#sacn_d4").bootstrapdatepicker("setDate", '');

            $('#sacn_d5,#sacn_d6').bootstrapdatepicker({
                format: "dd-MM-yyyy",
                viewMode: "date",
                todayHighlight: true,
                autoclose: true,
                multidate: false,
                multidateSeparator: "-"
            });
            $("#sacn_d5,#sacn_d6").bootstrapdatepicker("setDate", '');
        }
    //#endregion

    //#region Alert Timeout
        function Timeout() {
            window.setTimeout(function () {
                $(".alert").fadeTo(500, 0).slideUp(500, function () {
                    $(this).remove();
                });
            }, 4200);
        }
    //#endregion

    //#region Reset
        $('#btn_Reset_SAICO').on('click', function (e) {
            e.preventDefault();
            clearControls();
        });
    //#endregion

    //#region Validation Initialization
        var validate = function () {
            $('#sacn_d1').keypress(function (e) {
                var charCode = (e.which) ? e.which : e.keyCode
                if (String.fromCharCode(charCode).match(/[^0-9./-]/g)) {
                    return false;

                }
                else {
                    if (e.target.value.length >= 18)
                        return false;
                }
            });
            $('#sacn_d2').keypress(function (e) {
                var charCode = (e.which) ? e.which : e.keyCode
                if (String.fromCharCode(charCode).match(/[^0-9./-]/g)) {
                    return false;

                }
                else {
                    if (e.target.value.length >= 18)
                        return false;
                }
            });
            $('#sacn_d3').keypress(function (e) {
                var charCode = (e.which) ? e.which : e.keyCode
                if (String.fromCharCode(charCode).match(/[^0-9./-]/g)) {
                    return false;

                }
                else {
                    if (e.target.value.length >= 18)
                        return false;
                }
            });
            $('#sacn_d4').keypress(function (e) {
                var charCode = (e.which) ? e.which : e.keyCode
                if (String.fromCharCode(charCode).match(/[^0-9./-]/g)) {
                    return false;

                }
                else {
                    if (e.target.value.length >= 18)
                        return false;
                }
            });
            $('#sacn_d5').keypress(function (e) {
                var charCode = (e.which) ? e.which : e.keyCode
                if (String.fromCharCode(charCode).match(/[^0-9./-]/g)) {
                    return false;

                }
                else {
                    if (e.target.value.length >= 18)
                        return false;
                }
            });
            $('#sacn_d6').keypress(function (e) {
                var charCode = (e.which) ? e.which : e.keyCode
                if (String.fromCharCode(charCode).match(/[^0-9./-]/g)) {
                    return false;

                }
                else {
                    if (e.target.value.length >= 18)
                        return false;
                }
            });
            $('#sacn_8').keypress(function (e) {
                var charCode = (e.which) ? e.which : e.keyCode
                var inputValue = $(this).val() + String.fromCharCode(charCode);

                if (String.fromCharCode(charCode).match(/[^0-9.]/g)) {
                    return false;
                }

                if (parseFloat(inputValue) > 1000000) {
                    return false;
                }
            });
            $("#sacn_8").on('input', function () {
                var disc = $(this).val();
                if (disc == "" || disc == null || disc == undefined) {
                    $("#sacn_8").val(0.00);
                }
            });
            $('#sacn_2').keypress(function (e) {
                var charCode = (e.which) ? e.which : e.keyCode
                var inputValue = $(this).val() + String.fromCharCode(charCode);

                if (String.fromCharCode(charCode).match(/[^0-9.]/g)) {
                    return false;
                }

                if (parseFloat(inputValue) > 1000000) {
                    return false;
                }
            });
            $("#sacn_2").on('input', function () {
                var disc = $(this).val();
                if (disc == "" || disc == null || disc == undefined) {
                    $("#sacn_2").val(0.00);
                }
            });
            $('#sacn_5').keypress(function (e) {
                var charCode = (e.which) ? e.which : e.keyCode
                var inputValue = $(this).val() + String.fromCharCode(charCode);

                if (String.fromCharCode(charCode).match(/[^0-9.]/g)) {
                    return false;
                }

                if (parseFloat(inputValue) > 1000000) {
                    return false;
                }
            });
            $("#sacn_5").on('input', function () {
                var disc = $(this).val();
                if (disc == "" || disc == null || disc == undefined) {
                    $("#sacn_5").val(0.00);
                }
            });
            $('#sacn_11').keypress(function (e) {
                var charCode = (e.which) ? e.which : e.keyCode
                var inputValue = $(this).val() + String.fromCharCode(charCode);

                if (String.fromCharCode(charCode).match(/[^0-9.]/g)) {
                    return false;
                }

                if (parseFloat(inputValue) > 1000000) {
                    return false;
                }
            });
            $("#sacn_11").on('input', function () {
                var disc = $(this).val();
                if (disc == "" || disc == null || disc == undefined) {
                    $("#sacn_11").val(0.00);
                }
            });
            $('#sacn_14').keypress(function (e) {
                var charCode = (e.which) ? e.which : e.keyCode
                var inputValue = $(this).val() + String.fromCharCode(charCode);

                if (String.fromCharCode(charCode).match(/[^0-9.]/g)) {
                    return false;
                }

                if (parseFloat(inputValue) > 1000000) {
                    return false;
                }
            });
            $("#sacn_14").on('input', function () {
                var disc = $(this).val();
                if (disc == "" || disc == null || disc == undefined) {
                    $("#sacn_14").val(0.00);
                }
            });
        }

    //#endregion

    //#region Wacom Tab Signature
        var openWacomTabSignaturePad = function (id) {
            var _data = {
                "patId": @emr.patId,
                "person": id,
                "form": "SAICO",
                "appId": @emr.appId,
                "formname":"SAICO",
                "formlink":"PrintSAICOClaim.aspx",
                "eSign":""
            }
            $.ajax({
                type: "GET",
                url: "@Url.Action("WacomTabSignaturePad", "WacomTabSignaturePad", new { area = "Common" })",
                contentType: "application/json",
                dataType: "html",
                data: _data,
                success: function (response) {
                    $("#signature_pad_body").html(response);
                    $("#signature_pad").modal("show");
                },
                error: function (xhr) {
                    console.log("Error :" + xhr.statusText);
                }
            });
        }
    //#endregion

    //#region Signature
        var openSignaturePad = function (id) {
            var _data = {
                "patId": @emr.patId,
                "person": id,
                "form": "SAICO",
                "appId": @emr.appId,
                "formname":"SAICO",
                "formlink":"PrintSAICOClaim.aspx",
                "eSign":""
            }
            $.ajax({
                type: "GET",
                url: "@Url.Action("SignaturePad", "SignaturePad", new { area = "Common" })",
                contentType: "application/json",
                dataType: "html",
                data: _data,
                success: function (response) {
                    $("#signature_pad_body").html(response);
                    $("#signature_pad").modal("show");
                },
                error: function (xhr) {
                    console.log("Error :" + xhr.statusText);
                }
            });
        }
    //#endregion

    //#region Clear Controls
        var clearControls = function () {
            $("#sacn_1").val("");
            $("#sacn_2").val("");
            $("#sacn_4").val("");
            $("#sacn_5").val("");
            $("#sacn_6").val("");
            $("#sacn_7").val("");
            $("#sacn_8").val("");
            $("#sacn_9").val("");
            $("#sacn_10").val("");
            $("#sacn_11").val("");
            $("#sacn_12").val("");
            $("#sacn_13").val("");
            $("#sacn_14").val("");
            $("#sacn_15").val("");
            $("#sacn_16").val("");
            $("#sacn_17").val("");
            $("#sacn_18").val("");
            $("#sacn_19").val("");
            $("#sacn_d1").bootstrapdatepicker("setDate", '');
            $("#sacn_d2").bootstrapdatepicker("setDate", '');
            $("#sacn_d3").bootstrapdatepicker("setDate", '');
            $("#sacn_d4").bootstrapdatepicker("setDate", '');
            $("#sacn_d5").bootstrapdatepicker("setDate", '');
            $("#sacn_d6").bootstrapdatepicker("setDate", '');
            var elements = document.getElementsByClassName('custom-control-input');
            Array.prototype.forEach.call(elements, function (element) {
                element.checked = false;
            });
        }
    //#endregion

    //#region Insert Button Click
        $('#btn_Insert_SAICO').on('click', function (e) {
            e.preventDefault();
            if ($("#form_SAICODecision").valid()) {
                $('#btn_Insert_SAICO').removeClass("btn btn-success");
                $('#btn_Insert_SAICO').addClass("btn btn-success btn-loaders btn-icon");
                $('#btn_Insert_SAICO').html("Saving the Record....");
                var sacn_chkbox = "";
                $('.custom-control-input:checked').each(function (index) {
                    sacn_chkbox = sacn_chkbox + ',' + $(this).val();
                });
                var sacn_checkbox = sacn_chkbox.substring(1);
                var _dataInsert = {
                "sacnId": 0,
                    "sacn_appId": @emr.appId,
                    "sacn_checkbox": sacn_checkbox,
                "sacn_1": $("#sacn_1").val(),
                "sacn_2": $("#sacn_2").val(),
                "sacn_3": $("#sacn_3").val(),
                "sacn_4": $("#sacn_4").val(),
                "sacn_5": $("#sacn_5").val(),
                "sacn_6": $("#sacn_6").val(),
                "sacn_7": $("#sacn_7").val(),
                "sacn_8": $("#sacn_8").val(),
                "sacn_9": $("#sacn_9").val(),
                "sacn_10": $("#sacn_10").val(),
                "sacn_11": $("#sacn_11").val(),
                "sacn_12": $("#sacn_12").val(),
                "sacn_13": $("#sacn_13").val(),
                "sacn_14": $("#sacn_14").val(),
                "sacn_15": $("#sacn_15").val(),
                "sacn_16": $("#sacn_16").val(),
                "sacn_17": $("#sacn_17").val(),
                "sacn_18": $("#sacn_18").val(),
                "sacn_19": $("#sacn_19").val(),
                "sacn_d1": moment($("#sacn_d1").val()).format("YYYY-MM-DD"),
                "sacn_d2": moment($("#sacn_d2").val()).format("YYYY-MM-DD"),
                "sacn_d3": moment($("#sacn_d3").val()).format("YYYY-MM-DD"),
                "sacn_d4": moment($("#sacn_d4").val()).format("YYYY-MM-DD"),
                "sacn_d5": moment($("#sacn_d5").val()).format("YYYY-MM-DD"),
                "sacn_d6": moment($("#sacn_d6").val()).format("YYYY-MM-DD"),
                "__RequestVerificationToken": $('input[name="__RequestVerificationToken"]').val()
                }
                console.log(_dataInsert);
            $.ajax({
            type: "POST",
            url: "@Url.Action("InsertSAICO", "ReimbursementForms", new { area = "EMRForms" })",
            dataType: 'JSON',
            data: _dataInsert,
            success: function (data) {
            $('#btn_Insert_SAICO').removeClass("btn btn-success btn-loaders btn-icon");
            $('#btn_Insert_SAICO').addClass("btn btn-success");
            $('#btn_Insert_SAICO').html("Add");

            if (data.isSuccess) {
            if (data.isInserted) {
            GetSAICO();
            var alertPlaceholder = document.getElementById("Alert");
            function alert(e, t) {
                var l = document.createElement("div");
                l.innerHTML = '<div class="alert alert-' + t + ' alert-dismissible" role="alert">' + e +
                    '<button type="button" class="btn-close" data-bs-dismiss="alert" aria-hidden="Close">x</button></div>', alertPlaceholder.append(l)
            }
            alert("<i class='fe fe-check-circle text-white'></i> SAICO Claim Form Added Successfully!", "success");
            Timeout();
            Editsaico();
            }
            else {
                let html = "<div class='col-12 col-sm-12 col-md-12 d-flex justify-content-center'>" +
                    "<div class='alert alert-light-warning' role='alert'>" +
                    "<button type='button' class='btn-close text-warning' style='margin-bottom:-5px;' data-bs-dismiss='alert' aria-hidden='true' aria-label='Close'>×</button>" +
                    "<strong><i class='fa fa-exclamation-triangle text-warning'></i> SAICO Claim Form Alredy Exists!</strong><br/>" +
                    "</div></div>";
                $("#error").html(html);
            }
            }
            else {
            let html = "<div class='col-12 col-sm-12 col-md-12 d-flex justify-content-center'>" +
                "<div class='alert alert-light-danger' role='alert'>" +
                "<button type='button' class='btn-close text-danger' style='margin-bottom:-5px;' data-bs-dismiss='alert' aria-hidden='true' aria-label='Close'>×</button>" +
                "<strong><i class='fa fa-ban text-danger'></i> Validation Error! Please validate before submitting.&nbsp;</strong><br/><ul>";

            $.each(data.message, function (index, value) {
                html += "<li><small>" + value + "</small><li>";
                var elem = $("#" + index);
                if (elem.hasClass("select2-hidden-accessible")) {
                    $("#select2-" + elem.attr("id") + "-container").parent().addClass('error');
                }
                else {
                    $(elem).addClass(" is-invalid");
                }

                setTimeout(function () {
                    if (elem.hasClass("select2-hidden-accessible")) {
                        $("#select2-" + elem.attr("id") + "-container").parent().removeClass('error');
                    }
                    else {
                        $(elem).removeClass("is-invalid");
                    }
                }, 5000);
            });
            html += "</ul></div></div>";
            $("#error").html(html);
            }
            },
            error: function (xhr) {
            $('#btn_Insert_SAICO').removeClass("btn btn-success btn-loaders btn-icon");
            $('#btn_Insert_SAICO').addClass("btn btn-success");
            $('#btn_Insert_SAICO').html("Add");
            Timeout();
            }
            });
            }
            else {
                $('.modal-body').animate({
                    scrollTop: ($('.has-error').offset().top - 300)
                }, 2000);
            }
        });
    //#endregion

</script>
@*}*@


@model BusinessEntities.EMRForms.MSH
@using System.Linq;
@using System.Security.Claims;
@using BusinessEntities;
@{
    ViewBag.Title = "Print MSH Reimbursement Claim Form";
    Layout = "~/Areas/EMR/Views/Shared/_EMR_Layout.cshtml";

    var claims = ClaimsPrincipal.Current.Identities.First().Claims.ToList();
    var emp_designation = claims.Where(c => c.Type == ClaimTypes.Role).Select(c => c.Value).SingleOrDefault();
    EMRInfo emr = (EMRInfo)TempData["emr_data"];
    TempData.Keep("emr_data");
}
<div class="row mb-2 mt-2 text-center">
    <div class="col-md-12">
        <button id="btnPrint" type="button" onclick="printDiv('printDiv')" class="btn btn-primary d-print-none"><i class="si si-printer"></i> Print</button>
    </div>
</div>
<div class="row fs-14" id="printDiv">
    <div class="col-md-12">
        <div class="card overflow-hidden">
            <div class="card-body">
                <div class="text-center">
                    <img src="@Model.set_header_image" />
                </div>
                <div class="row">
                    <div class="col-sm-12 col-md-12 col-lg-12 mb-4 ">
                        <div class="row">
                            <div class="col-sm-12 col-md-12 col-lg-12">
                                <label class="form-label mb-2 text-danger">
                                    TO BE COMPLETED BY THE EMPLOYEE
                                </label>
                            </div>
                            <div class="d-flex col-sm-12 col-md-6 col-lg-6">
                                <div class="col-sm-12 col-md-6 col-lg-4 ps-0">
                                    <label class="form-label ">
                                        Patient Name
                                    </label>
                                </div>
                                <div class="d-flex  justify-content-center w-8  form-label">
                                    :
                                </div>
                                <div class="col-sm-12 col-md-6 col-lg-7">
                                    @if (@emr.pat_name != "")
                                    {
                                        <span class="font-weight-normal1 text-capitalize text-left">@emr.pat_name&nbsp;</span>
                                    }
                                    else
                                    {
                                        <span class="font-weight-normal1 text-capitalize text-left">N/A</span>
                                    }
                                </div>
                            </div>
                            <div class="d-flex col-sm-12 col-md-6 col-lg-6">
                                <div class="col-sm-12 col-md-6 col-lg-4 ps-0">
                                    <label class="form-label ">
                                        Group Name
                                    </label>
                                </div>
                                <div class="d-flex  justify-content-center w-8  form-label">
                                    :
                                </div>
                                <div class="col-sm-12 col-md-6 col-lg-7">
                                    <label class="text-black text-left">@Model.cmr_groupname&nbsp;</label>
                                </div>
                            </div>
                            <div class="d-flex col-sm-12 col-md-6 col-lg-6">
                                <div class="col-sm-12 col-md-6 col-lg-4 ps-0">
                                    <label class="form-label ">
                                        Date of Birth
                                    </label>
                                </div>
                                <div class="d-flex  justify-content-center w-8  form-label">
                                    :
                                </div>
                                <div class="col-sm-12 col-md-6 col-lg-7">
                                    @if (@emr.pat_dob != "")
                                    {
                                        <span class="font-weight-normal1 text-capitalize text-left">@emr.pat_dob&nbsp;</span>
                                    }
                                    else
                                    {
                                        <span class="font-weight-normal1 text-capitalize text-left">N/A</span>
                                    }
                                </div>
                            </div>
                            <div class="d-flex col-sm-12 col-md-6 col-lg-6">
                                <div class="col-sm-12 col-md-6 col-lg-4 ps-0">
                                    <label class="form-label ">
                                        Policy Number
                                    </label>
                                </div>
                                <div class="d-flex  justify-content-center w-8  form-label">
                                    :
                                </div>
                                <div class="col-sm-12 col-md-6 col-lg-7">
                                    @if (@emr.pi_insno != "")
                                    {
                                        <span class="font-weight-normal1 text-capitalize text-left">@emr.pi_insno&nbsp;</span>
                                    }
                                    else
                                    {
                                        <span class="font-weight-normal1 text-capitalize text-left">N/A</span>
                                    }
                                </div>
                            </div>
                            <div class="d-flex col-sm-12 col-md-6 col-lg-6">
                                <div class="col-sm-12 col-md-6 col-lg-4 ps-0">
                                    <label class="form-label ">
                                        Street Address
                                    </label>
                                </div>
                                <div class="d-flex  justify-content-center w-8  form-label">
                                    :
                                </div>
                                <div class="col-sm-12 col-md-6 col-lg-7">
                                    @if (@emr.pat_address != "")
                                    {
                                        <span class="font-weight-normal1 text-capitalize text-left">@emr.pat_address&nbsp;</span>
                                    }
                                    else
                                    {
                                        <span class="font-weight-normal1 text-capitalize text-left">N/A</span>
                                    }
                                </div>
                            </div>
                            <div class="d-flex col-sm-12 col-md-6 col-lg-6">
                                <div class="col-sm-12 col-md-6 col-lg-4 ps-0">
                                    <label class="form-label ">
                                        City
                                    </label>
                                </div>
                                <div class="d-flex  justify-content-center w-8  form-label">
                                    :
                                </div>
                                <div class="col-sm-12 col-md-6 col-lg-7">
                                    @if (@emr.pat_city != "")
                                    {
                                        <span class="font-weight-normal1 text-capitalize text-left">@emr.pat_city&nbsp;</span>
                                    }
                                    else
                                    {
                                        <span class="font-weight-normal1 text-capitalize text-left">N/A</span>
                                    }
                                </div>
                            </div>
                            <div class="d-flex col-sm-12 col-md-6 col-lg-6">
                                <div class="col-sm-12 col-md-6 col-lg-4 ps-0">
                                    <label class="form-label ">
                                        Postal/Zip Code
                                    </label>
                                </div>
                                <div class="d-flex  justify-content-center w-8  form-label">
                                    :
                                </div>
                                <div class="col-sm-12 col-md-6 col-lg-7">
                                    @if (@emr.pat_pobox != "")
                                    {
                                        <span class="font-weight-normal1 text-capitalize text-left">@emr.pat_pobox&nbsp;</span>
                                    }
                                    else
                                    {
                                        <span class="font-weight-normal1 text-capitalize text-left">N/A</span>
                                    }
                                </div>
                            </div>
                            <div class="d-flex col-sm-12 col-md-6 col-lg-6">
                                <div class="col-sm-12 col-md-6 col-lg-4 ps-0">
                                    <label class="form-label ">
                                        Email
                                    </label>
                                </div>
                                <div class="d-flex  justify-content-center w-8  form-label">
                                    :
                                </div>
                                <div class="col-sm-12 col-md-6 col-lg-7">
                                    @if (@emr.pat_email != "")
                                    {
                                        <span class="font-weight-normal1 text-capitalize text-left">@emr.pat_email&nbsp;</span>
                                    }
                                    else
                                    {
                                        <span class="font-weight-normal1 text-capitalize text-left">N/A</span>
                                    }
                                </div>
                            </div>
                            <div class="d-flex col-sm-12 col-md-6 col-lg-6">
                                <div class="col-sm-12 col-md-6 col-lg-4 ps-0">
                                    <label class="form-label ">
                                        Phone (include country code)
                                    </label>
                                </div>
                                <div class="d-flex  justify-content-center w-8  form-label">
                                    :
                                </div>
                                <div class="col-sm-12 col-md-6 col-lg-7">
                                    @if (@emr.pat_mob != "")
                                    {
                                        <span class="font-weight-normal1 text-capitalize text-left">@emr.pat_mob&nbsp;</span>
                                    }
                                    else
                                    {
                                        <span class="font-weight-normal1 text-capitalize text-left">N/A</span>
                                    }
                                </div>
                            </div>
                            <div class="d-flex col-sm-12 col-md-6 col-lg-6">
                                <div class="col-sm-12 col-md-6 col-lg-4 ps-0">
                                    <label class="form-label ">
                                        Phone (include country code)
                                    </label>
                                </div>
                                <div class="d-flex  justify-content-center w-8  form-label">
                                    :
                                </div>
                                <div class="col-sm-12 col-md-6 col-lg-7">
                                    @if (@emr.pat_mob != "")
                                    {
                                        <span class="font-weight-normal1 text-capitalize text-left">@emr.pat_mob&nbsp;</span>
                                    }
                                    else
                                    {
                                        <span class="font-weight-normal1 text-capitalize text-left">N/A</span>
                                    }
                                </div>
                            </div>
                        </div>
                        <div class="row ">
                            <div class="col-sm-12 col-md-12 col-lg-12">
                                <label class="form-label mb-2 text-danger">
                                    CLAIM INFORMATION
                                </label>
                            </div>
                            <div class="col-sm-12 col-md-12 col-lg-12">
                                <p class="text-black text-justify">
                                    All claims must be supported by original documents. Receipts must indicate the date the expense was incurred, the person for whom the service was provided,
                                    who prescribed or provided the service or supply, and the nature of the service or supply. Unless otherwise specified, all claim cheques will be
                                    payable to the Employee, and mailed to his or her address as indicated above.
                                </p>
                                <p class="text-black text-justify">
                                    LIST OF EXPENSES (Each expense must be listed separately. If more space is required, please attach another page)
                                </p>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-12 col-md-12 col-lg-12">
                                <div class="table-responsive">
                                    <table id="tbl_Treatment" class="table table-striped table-bordered text-nowrap" style="width: 100%; cursor: pointer;">
                                        <thead>
                                            <tr style="color: #fff !important; background-color: #808080; border-color: #3C457D; ">
                                                <th class="border-bottom-0 font-weight-semibold text-white">Patient Name</th>
                                                <th class="border-bottom-0 font-weight-semibold text-white">Relationship to Employee</th>
                                                <th class="border-bottom-0 font-weight-semibold text-white">Date of Service YR/MM/DD</th>
                                                <th class="border-bottom-0 font-weight-semibold text-white">Health Expenses<span class="text-danger">*</span></th>
                                                <th class="border-bottom-0 font-weight-semibold text-white">Dental Expenses<span class="text-danger">*</span></th>
                                                <th class="border-bottom-0 font-weight-semibold text-white">Amount Charged</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td>
                                                    <span class="font-weight-normal1 text-capitalize text-left">@emr.pat_name&nbsp;</span>
                                                </td>
                                                <td>
                                                    <span class="font-weight-normal1 text-capitalize text-left">@emr.pat_contact_role&nbsp;</span>
                                                </td>
                                                <td>
                                                    <span class="font-weight-normal1 text-capitalize text-left">@emr.app_fdate&nbsp;</span>
                                                </td>
                                                <td>
                                                    <label class="text-black text-left">@Model.cmr_health&nbsp;</label>
                                                </td>
                                                <td>
                                                    <label class="text-black text-left">@Model.cmr_dental&nbsp;</label>
                                                </td>
                                                <td>
                                                    <label class="text-black text-left">@Model.cmr_amount&nbsp;</label>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td colspan="5">TOTAL AMOUNT CLAIMED FOR ALL SERVICES (INCLUDING CURRENCY):</td>
                                                <td>
                                                    <label class="text-black text-left">@Model.cmr_total&nbsp;</label>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                            <div class="col-sm-12 col-md-12 col-lg-12">
                                <p class="text-black text-justify">
                                    *Claim only the total amount, minus any amount already paid by a medical and/or dental plan.
                                </p>
                                <p class="text-black text-justify">
                                    At MSH INTERNATIONAL, we recognize and respect the importance of privacy. When you submit a claim, the insurers establish a confidential file that is kept
                                    in the offices of the insurers or the offices of an organization authorized by the insurers. We limit access to information in your file to insurer staff
                                    and/or the insurers who require it to perform their duties, to persons to whom you have granted access, and to persons authorized by law. We use this
                                    information for the purpose of assessing your claim and administering the group benefits plan. Personal information is protected from unauthorized use
                                    and disclosure in accordance with the Freedom of Information and Protection of Privacy Act. I also give MSH INTERNATIONAL permission to send communications
                                    pertaining to my claims and the administration of my group benefits plan to the email I supply on this claim form.
                                </p>
                            </div>
                            <div class="col-sm-12 col-md-12 col-lg-12 d-flex">
                                <label class="custom-control custom-radio">
                                    <input type="radio" class="custom-control-input" name="cmr_checkbox[1]" value="1" id="1">
                                    <span class="custom-control-label">Accept</span>
                                </label>
                                <label class="custom-control custom-radio">
                                    <input type="radio" class="custom-control-input" name="cmr_checkbox[1]" value="2" id="2">
                                    <span class="custom-control-label">Not Accept</span>
                                </label>
                            </div>
                            <div class="col-sm-12 col-md-6 col-lg-6 mt-2 ">
                                <img alt="stamp" src="@emr.doc_sign" id="doc_sign" class="avatar avatar-xl bsquare" />
                                <label class="form-label mb-2 text-danger">
                                    Doctor signature
                                </label>
                            </div>
                            <div class="col-sm-12 col-md-6 col-lg-6 mt-2 ">
                                <span class="font-weight-normal1 text-uppercase text-left">@emr.app_fdate&nbsp;</span>
                                <label class="form-label mb-2 text-danger">
                                    Date
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="text-center">
                    <img src="@Model.set_footer_image" />
                </div>
            </div>
        </div>
    </div>
</div>
<script type="text/javascript">
    //#region Partial View Onload
        $(function () {
        GetCheckedValues("@Model.cmr_checkbox");
        });
    //#endregion

    //#region Print
        function printDiv(divName) {
            var printContents = document.getElementById(divName).innerHTML;
            var originalContents = document.body.innerHTML;
            document.body.innerHTML = printContents;
            window.print();
            document.body.innerHTML = originalContents;
        }
    //#endregion

    //#region Get CheckedValues
        var GetCheckedValues = function (checknames) {
            var str = checknames;
            var myarray = str.split(',');
            for (var i = 0; i < myarray.length; i++) {
                $('.custom-control-input').each(function () {
                    if (this.id == myarray[i]) {
                        $("#" +this.id).attr('checked', 'checked');
                        $("#" +this.id).prop("checked", true);
                    }
                });
            }
        }
    //#endregion


</script>

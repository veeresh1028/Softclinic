
@model BusinessEntities.EMRForms.EmiratesDental
@using System.Linq;
@using System.Security.Claims;
@using BusinessEntities;
@{
    var claims = ClaimsPrincipal.Current.Identities.First().Claims.ToList();
    var emp_designation = claims.Where(c => c.Type == ClaimTypes.Role).Select(c => c.Value).SingleOrDefault();
    EMRInfo emr = (EMRInfo)TempData["emr_data"];
    TempData.Keep("emr_data");
}

<form id="form_EmiratesDentalDecision" autocomplete="off" name="EmiratesDental" ondrop="return false;" onpaste="return false;" oncut="return false;" class="fs-14">
    @Html.AntiForgeryToken()
    @Html.HiddenFor(m => m.emdnId, new { @id = "emdnId", @value = "@Model.emdnId" })
    <div class="row">
        <div class="col-sm-12 col-md-12 col-lg-12 text-center">
            <img src="~/images/Reimbursement_Forms/emirates.png" />
        </div>
    </div>
    <div class="row">
        <div class="col-sm-12 col-md-12 col-lg-12 text-center ps-6">
            <p class="text-black text-justify font-weight-bold">
                Submit your completed claim form and supporting documents online:
            </p>
            <p class="text-black text-justify font-weight-bold">
                HRDirect > Profile > Remuneration & Benefits > Medical Benefits > Member Portal > Submit Reimbursement claim
            </p>
        </div>
    </div>
    <div>
        <hr class="new4" />
    </div>
    <!-- End Row-->
    <div class="row">        
        <div class="col-lg-12 col-xl-12 col-md-12 col-sm-12">
            <div class="card">
                <div class="card-header">
                    <h4 class="card-title text-success font-weight-bold">Section A - Employee Details</h4>
                </div>
                <div class="card-body pb-0">
                    <div class="form-horizontal">
                        <div class="form-group row">
                            <label class="col-md-6 col-lg-2 form-label">Name of Employee  :</label>
                            <div class="col-md-6  col-lg-4">
                                <span class="font-weight-normal1 text-capitalize text-left">@emr.doc_name&nbsp;</span>
                            </div>
                            <label class="col-md-6  col-lg-2 form-label">Staff Number  :</label>
                            <div class="col-md-6  col-lg-4">
                                @Html.TextBoxFor(m => m.emdn_2, new { @class = "form-control", @id = "emdn_2", @maxlength = "10" })
                            </div>
                        </div>
                    </div>
                </div>
                <div>
                    <hr class="new4" />
                </div>
                <div class="card-header">
                    <h4 class="card-title text-success font-weight-bold">Section B – Patient Medical Details (To be fully completed by treating dentist)</h4>
                </div>
                <div class="card-body pb-0">
                    <div class="form-horizontal">
                        <div class="form-group row">
                            <label class="col-md-3 col-lg-2 form-label">Patient Name  :</label>
                            <div class="col-md-9 col-lg-4 ">
                                <span class="font-weight-normal1 text-capitalize text-left">@emr.pat_name&nbsp;</span>
                            </div>
                            <label class="col-md-3 col-lg-2 form-label">	Date Of Birth  :</label>
                            <div class="col-md-6 col-lg-4">
                                <span class="font-weight-normal1 text-capitalize text-left">@emr.pat_dob&nbsp;</span>
                            </div>
                        </div>
                        <div class="form-group row">
                            <label class="text-black">Complaints / Onset / History</label>
                            <div class="col-md-12">
                                <label class="text-black text-red text-left" id="complaints" name="">&nbsp;</label>
                            </div>
                        </div>
                        <div class="form-group row">
                            <label class="text-black">Diagnosis</label>
                            <div class="col-md-12">
                                <label class="text-black text-red text-left" id="diagnosis" name="">&nbsp;</label>
                            </div>
                        </div>
                        <div class="form-group row">
                            <label class="text-black">Mark the affected tooth with <span class="font-weight-bold">“X”</span> and specify diagnosis details in the above field</label>
                        </div>
                        <div class="form-group row">
                            <div class="table-responsive">
                                <table id="tbl_1" class="table table-striped table-bordered text-nowrap" style="width: 100%; cursor: pointer;">
                                    <thead>
                                        <tr style="color: #fff !important; background-color: #808080; border-color: #3C457D;">
                                            <th class="border-bottom-0 font-weight-semibold text-white">1</th>
                                            <th class="border-bottom-0 font-weight-semibold text-white">2</th>
                                            <th class="border-bottom-0 font-weight-semibold text-white">3</th>
                                            <th class="border-bottom-0 font-weight-semibold text-white">4</th>
                                            <th class="border-bottom-0 font-weight-semibold text-white">5</th>
                                            <th class="border-bottom-0 font-weight-semibold text-white">6</th>
                                            <th class="border-bottom-0 font-weight-semibold text-white">7</th>
                                            <th class="border-bottom-0 font-weight-semibold text-white">8</th>
                                            <th class="border-bottom-0 font-weight-semibold text-white">9</th>
                                            <th class="border-bottom-0 font-weight-semibold text-white">10</th>
                                            <th class="border-bottom-0 font-weight-semibold text-white">11</th>
                                            <th class="border-bottom-0 font-weight-semibold text-white">12</th>
                                            <th class="border-bottom-0 font-weight-semibold text-white">13</th>
                                            <th class="border-bottom-0 font-weight-semibold text-white">14</th>
                                            <th class="border-bottom-0 font-weight-semibold text-white">15</th>
                                            <th class="border-bottom-0 font-weight-semibold text-white">16</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>@Html.TextBoxFor(m => m.emdn_3, new { @class = "form-control text-uppercase", @id = "emdn_3", @maxlength = "1" })</td>
                                            <td>@Html.TextBoxFor(m => m.emdn_4, new { @class = "form-control text-uppercase", @id = "emdn_4", @maxlength = "1" })</td>
                                            <td>@Html.TextBoxFor(m => m.emdn_5, new { @class = "form-control text-uppercase", @id = "emdn_5", @maxlength = "1" })</td>
                                            <td>@Html.TextBoxFor(m => m.emdn_6, new { @class = "form-control text-uppercase", @id = "emdn_6", @maxlength = "1" })</td>
                                            <td>@Html.TextBoxFor(m => m.emdn_7, new { @class = "form-control text-uppercase", @id = "emdn_7", @maxlength = "1" })</td>
                                            <td>@Html.TextBoxFor(m => m.emdn_8, new { @class = "form-control text-uppercase", @id = "emdn_8", @maxlength = "1" })</td>
                                            <td>@Html.TextBoxFor(m => m.emdn_9, new { @class = "form-control text-uppercase", @id = "emdn_9", @maxlength = "1" })</td>
                                            <td>@Html.TextBoxFor(m => m.emdn_10, new { @class = "form-control text-uppercase", @id = "emdn_10", @maxlength = "1" })</td>
                                            <td>@Html.TextBoxFor(m => m.emdn_11, new { @class = "form-control text-uppercase", @id = "emdn_11", @maxlength = "1" })</td>
                                            <td>@Html.TextBoxFor(m => m.emdn_12, new { @class = "form-control text-uppercase", @id = "emdn_12", @maxlength = "1" })</td>
                                            <td>@Html.TextBoxFor(m => m.emdn_13, new { @class = "form-control text-uppercase", @id = "emdn_13", @maxlength = "1" })</td>
                                            <td>@Html.TextBoxFor(m => m.emdn_14, new { @class = "form-control text-uppercase", @id = "emdn_14", @maxlength = "1" })</td>
                                            <td>@Html.TextBoxFor(m => m.emdn_15, new { @class = "form-control text-uppercase", @id = "emdn_15", @maxlength = "1" })</td>
                                            <td>@Html.TextBoxFor(m => m.emdn_16, new { @class = "form-control text-uppercase", @id = "emdn_16", @maxlength = "1" })</td>
                                            <td>@Html.TextBoxFor(m => m.emdn_17, new { @class = "form-control text-uppercase", @id = "emdn_17", @maxlength = "1" })</td>
                                            <td>@Html.TextBoxFor(m => m.emdn_18, new { @class = "form-control text-uppercase", @id = "emdn_18", @maxlength = "1" })</td>
                                        </tr>
                                        <tr>
                                            <td colspan="16"><hr class="new4" /></td>
                                        </tr>
                                        <tr>
                                            <td>@Html.TextBoxFor(m => m.emdn_19, new { @class = "form-control text-uppercase", @id = "emdn_19", @maxlength = "1" })</td>
                                            <td>@Html.TextBoxFor(m => m.emdn_20, new { @class = "form-control text-uppercase", @id = "emdn_20", @maxlength = "1" })</td>
                                            <td>@Html.TextBoxFor(m => m.emdn_21, new { @class = "form-control text-uppercase", @id = "emdn_21", @maxlength = "1" })</td>
                                            <td>@Html.TextBoxFor(m => m.emdn_22, new { @class = "form-control text-uppercase", @id = "emdn_22", @maxlength = "1" })</td>
                                            <td>@Html.TextBoxFor(m => m.emdn_23, new { @class = "form-control text-uppercase", @id = "emdn_23", @maxlength = "1" })</td>
                                            <td>@Html.TextBoxFor(m => m.emdn_24, new { @class = "form-control text-uppercase", @id = "emdn_24", @maxlength = "1" })</td>
                                            <td>@Html.TextBoxFor(m => m.emdn_25, new { @class = "form-control text-uppercase", @id = "emdn_25", @maxlength = "1" })</td>
                                            <td>@Html.TextBoxFor(m => m.emdn_26, new { @class = "form-control text-uppercase", @id = "emdn_26", @maxlength = "1" })</td>
                                            <td>@Html.TextBoxFor(m => m.emdn_27, new { @class = "form-control text-uppercase", @id = "emdn_27", @maxlength = "1" })</td>
                                            <td>@Html.TextBoxFor(m => m.emdn_28, new { @class = "form-control text-uppercase", @id = "emdn_28", @maxlength = "1" })</td>
                                            <td>@Html.TextBoxFor(m => m.emdn_29, new { @class = "form-control text-uppercase", @id = "emdn_29", @maxlength = "1" })</td>
                                            <td>@Html.TextBoxFor(m => m.emdn_30, new { @class = "form-control text-uppercase", @id = "emdn_30", @maxlength = "1" })</td>
                                            <td>@Html.TextBoxFor(m => m.emdn_31, new { @class = "form-control text-uppercase", @id = "emdn_31", @maxlength = "1" })</td>
                                            <td>@Html.TextBoxFor(m => m.emdn_32, new { @class = "form-control text-uppercase", @id = "emdn_32", @maxlength = "1" })</td>
                                            <td>@Html.TextBoxFor(m => m.emdn_33, new { @class = "form-control text-uppercase", @id = "emdn_33", @maxlength = "1" })</td>
                                            <td>@Html.TextBoxFor(m => m.emdn_34, new { @class = "form-control text-uppercase", @id = "emdn_34", @maxlength = "1" })</td>
                                        </tr>
                                    </tbody>
                                    <thead>
                                        <tr style="color: #fff !important; background-color: #808080; border-color: #3C457D;">
                                            <th class="border-bottom-0 font-weight-semibold text-white">32</th>
                                            <th class="border-bottom-0 font-weight-semibold text-white">31</th>
                                            <th class="border-bottom-0 font-weight-semibold text-white">30</th>
                                            <th class="border-bottom-0 font-weight-semibold text-white">29</th>
                                            <th class="border-bottom-0 font-weight-semibold text-white">28</th>
                                            <th class="border-bottom-0 font-weight-semibold text-white">27</th>
                                            <th class="border-bottom-0 font-weight-semibold text-white">26</th>
                                            <th class="border-bottom-0 font-weight-semibold text-white">25</th>
                                            <th class="border-bottom-0 font-weight-semibold text-white">24</th>
                                            <th class="border-bottom-0 font-weight-semibold text-white">23</th>
                                            <th class="border-bottom-0 font-weight-semibold text-white">22</th>
                                            <th class="border-bottom-0 font-weight-semibold text-white">21</th>
                                            <th class="border-bottom-0 font-weight-semibold text-white">20</th>
                                            <th class="border-bottom-0 font-weight-semibold text-white">19</th>
                                            <th class="border-bottom-0 font-weight-semibold text-white">18</th>
                                            <th class="border-bottom-0 font-weight-semibold text-white">17</th>
                                        </tr>
                                    </thead>
                                </table>
                            </div>
                        </div>
                        <div class="form-group row">
                            <label class="text-black">Planned Treatment</label>
                            <div class="col-md-12">
                                @Html.TextAreaFor(m => m.emdn_35, new { @class = "form-control", @row = "2", @id = "emdn_35" })
                            </div>
                        </div>
                        <div class="form-group row">
                            <label class="text-black">Signature and Stamp</label>
                            <div class="col-md-12">
                                <p class="text-black text-justify">
                                    I declare that I am the patient’s treating doctor/dentist and that theparticulars given are to the best of my knowledge true and correct
                                </p>
                            </div>
                        </div>
                        <div class="form-group row">
                            <div class="col-md-12 text-right">
                                <img alt="stamp" src="@emr.doc_sign" id="doc_sign" class="avatar avatar-xl bsquare" />
                            </div>
                        </div>
                    </div>
                </div>
                <div>
                    <hr class="new4" />
                </div>
                <div class="card-header">
                    <h4 class="card-title text-success font-weight-bold">Section C – Patient / Spouse / Guardian Signature</h4>
                </div>
                <div class="card-body pb-0">
                    <div class="form-horizontal">
                        <div class="form-group row">
                            <p class="text-black text-justify">
                                I hereby authorise the Emirates Group to obtain any and all medical records, reports and test results, either in original hard-copy form or via access to
                                electronic data systems, as may be required to validate my claim. I consent to the Emirates Group disclosing my medical records, reports and test results
                                for the purpose of processing and validating my claim. In addition, I understand any such medical information provided to the Emirates Group will be
                                accessible to Emirates Group employees (including employees of wholly owned subsidiaries) on the Emirates Medical Benefits System Employee Portal via
                                confidential log-in.
                            </p>
                        </div>
                        <div class="form-group row">
                            <label class="col-md-2 form-label">signature:</label>
                            <div class="col-md-3">
                                <div class="form-group mb-3" style="display:none" id="patimg"><img alt="Signature" src="" id="pat_sign" class="avatar avatar-xl bsquare" /></div>
                            </div>
                            <label class="col-md-2 form-label">	Date:</label>
                            <div class="col-md-3">
                                <label class="form-label text-red text-left" id="psb_date_witness" name="">&nbsp;</label>
                            </div>
                        </div>
                    </div>
                </div>
                <div>
                    <hr class="new4" />
                </div>
                <div class="card-header">
                    <h4 class="card-title text-success font-weight-bold">Section D – Employee Checklist (* Mandatory Fields)</h4>
                </div>
                <div class="card-body pb-0">
                    <div class="form-horizontal">
                        <div class="form-group row">
                            <div class="table-responsive">
                                <table id="tbl_1" class="table table-striped table-bordered text-nowrap" style="width: 30%; cursor: pointer;">
                                    <thead>
                                        <tr style="color: #fff !important; background-color: #808080; border-color: #3C457D;">
                                            <th class="border-bottom-0 font-weight-semibold text-white">Employee check</th>
                                            <th class="border-bottom-0 font-weight-semibold text-white">Documents Submitted</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>
                                                <div class="custom-controls d-lg-flex d-md-flex flex-row justify-content-left">
                                                    <label class="custom-control custom-checkbox ms-sm-2 md-md-2 ms-lg-2">
                                                        <input type="checkbox" class="custom-control-input" name="emdn_check" value="1">
                                                        <span class="custom-control-label"></span>
                                                    </label>
                                                </div>
                                            </td>
                                            <td>Claim form</td>
                                        </tr>
                                        <tr>
                                            <td>
                                                <div class="custom-controls d-lg-flex d-md-flex flex-row justify-content-left">
                                                    <label class="custom-control custom-checkbox ms-sm-2 md-md-2 ms-lg-2">
                                                        <input type="checkbox" class="custom-control-input" name="emdn_check" value="2">
                                                        <span class="custom-control-label"></span>
                                                    </label>
                                                </div>
                                            </td>
                                            <td>Payment receipts with costs breakdown</td>
                                        </tr>
                                        <tr>
                                            <td>
                                                <div class="custom-controls d-lg-flex d-md-flex flex-row justify-content-left">
                                                    <label class="custom-control custom-checkbox ms-sm-2 md-md-2 ms-lg-2">
                                                        <input type="checkbox" class="custom-control-input" name="emdn_check" value="3">
                                                        <span class="custom-control-label"></span>
                                                    </label>
                                                </div>
                                            </td>
                                            <td>Copy of x-ray film (.pdf)</td>
                                        </tr>
                                        <tr>
                                            <td>
                                                <div class="custom-controls d-lg-flex d-md-flex flex-row justify-content-left">
                                                    <label class="custom-control custom-checkbox ms-sm-2 md-md-2 ms-lg-2">
                                                        <input type="checkbox" class="custom-control-input" name="emdn_check" value="4">
                                                        <span class="custom-control-label"></span>
                                                    </label>
                                                </div>
                                            </td>
                                            <td>Medical report and prescription</td>
                                        </tr>
                                        <tr>
                                            <td>
                                                <div class="custom-controls d-lg-flex d-md-flex flex-row justify-content-left">
                                                    <label class="custom-control custom-checkbox ms-sm-2 md-md-2 ms-lg-2">
                                                        <input type="checkbox" class="custom-control-input" name="emdn_check" value="5">
                                                        <span class="custom-control-label"></span>
                                                    </label>
                                                </div>
                                            </td>
                                            <td>EK referral (for EK Dental Clinic members)</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>                       
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- End Row -->

    <div class="row ">
        <div class="row mt-2">
            <div class="col-sm-12 col-md-12 col-lg-12 text-center">
                <div class="btn-list btn-animation">
                    <button type="submit" class="btn btn-success" id="btn_Insert_EmiratesDental">Save</button>
                    <button type="button" class="btn btn-outline-dark" id="btn_Reset_EmiratesDental">Reset</button>
                    <div class="btn-group mr-2">
                        <div class="dropdown">
                            <button type="button" class="btn-sm btn-secondary me-2 mb-2 dropdown-toggle" data-bs-toggle="dropdown">
                                <i class="fa fa-paint-brush">&nbsp;&nbsp;</i> Patient
                            </button>
                            <div class="dropdown-menu">
                                <a class="dropdown-item" onclick="openSignaturePad('patient')">Tab</a>
                                <a class="dropdown-item" onclick="openWacomTabSignaturePad('patient')">Wacom Tab</a>
                            </div>
                        </div>
                    </div>
                    <button type="button" class="btn btn-outline-danger me-1" id="btn_Close_EmiratesDental" style="display:none">
                        Close
                    </button>
                </div>
            </div>
        </div>
    </div>
</form>
@*@section myScripts{*@
<script type="text/javascript">
    //#region Page Load
        var formName1 = $(form_EmiratesDentalDecision).closest('form').attr('name');
        $(function () {
            Get_EMRINFO();
            validate();
        });
    //#endregion

    //#region Load Get Diagnosis,treatments,history,invoice
        var Get_EMRINFO = function () {
            $.ajax({
                type: "GET",
                url: "@Url.Action("GetEmrInfo", "ReimbursementForms", new { area = "EMRForms" })?appId=" + "@emr.appId" + "&patId=" + @emr.patId,
                success: function (response) {
                    if (response.length > 0) {
                        $('#diagnosis').text(response[0].diagnosis);
                        $('#complaints').text(response[0].complaints + '/' + response[0].past);
                    }
                },
                error: function (xhr) {
                    console.log(xhr);
                }
            })
        }
    //#endregion

    //#region Wacom Tab Signature
        var openWacomTabSignaturePad = function (id) {
            var _data = {
                "patId": @emr.patId,
                "person": id,
                "form": "EmiratesDental",
                "appId": @emr.appId,
                "formname":"EmiratesDental",
                "formlink":"PrintEmiratesDentalClaim.aspx",
                "eSign":""
            }
            $.ajax({
                type: "GET",
                url: "@Url.Action("WacomTabSignaturePad", "WacomTabSignaturePad", new { area = "Common" })",
                contentType: "application/json",
                dataType: "html",
                data: _data,
                success: function (response) {
                    $("#signature_pad_body").html(response);
                    $("#signature_pad").modal("show");
                },
                error: function (xhr) {
                    console.log("Error :" + xhr.statusText);
                }
            });
        }
    //#endregion

    //#region Signature
        var openSignaturePad = function (id) {
            var _data = {
                "patId": @emr.patId,
                "person": id,
                "form": "EmiratesDental",
                "appId": @emr.appId,
                "formname":"EmiratesDental",
                "formlink":"PrintEmiratesDentalClaim.aspx",
                "eSign":""
            }
            $.ajax({
                type: "GET",
                url: "@Url.Action("SignaturePad", "SignaturePad", new { area = "Common" })",
                contentType: "application/json",
                dataType: "html",
                data: _data,
                success: function (response) {
                    $("#signature_pad_body").html(response);
                    $("#signature_pad").modal("show");
                },
                error: function (xhr) {
                    console.log("Error :" + xhr.statusText);
                }
            });
        }
    //#endregion

    //#region Reset
        $('#btn_Reset_EmiratesDental').on('click', function (e) {
            e.preventDefault();
            clearControls();
        });
    //#endregion

    //#region Clear Controls
        var clearControls = function () {
        $("#emdn_2").val("");
        $("#emdn_3").val("");
        $("#emdn_4").val("");
        $("#emdn_5").val("");
        $("#emdn_6").val("");
        $("#emdn_7").val("");
        $("#emdn_8").val("");
        $("#emdn_9").val("");
        $("#emdn_10").val("");
        $("#emdn_11").val("");
        $("#emdn_12").val("");
        $("#emdn_13").val("");
        $("#emdn_14").val("");
        $("#emdn_15").val("");
        $("#emdn_16").val("");
        $("#emdn_17").val("");
        $("#emdn_18").val("");
        $("#emdn_19").val("");
        $("#emdn_20").val("");
        $("#emdn_21").val("");
        $("#emdn_22").val("");
        $("#emdn_23").val("");
        $("#emdn_24").val("");
        $("#emdn_25").val("");
        $("#emdn_26").val("");
        $("#emdn_27").val("");
        $("#emdn_28").val("");
        $("#emdn_29").val("");
        $("#emdn_30").val("");
        $("#emdn_31").val("");
        $("#emdn_32").val("");
        $("#emdn_33").val("");
        $("#emdn_34").val("");
        $("#emdn_35").val("");
        var elements = document.getElementsByClassName('custom-control-input');
        Array.prototype.forEach.call(elements, function (element) {
            element.checked = false;
        });
    }
    //#endregion

    //#region Insert Button Click
        $('#btn_Insert_EmiratesDental').on('click', function (e) {
            e.preventDefault();
            if ($("#form_EmiratesDentalDecision").valid()) {
                $('#btn_Insert_EmiratesDental').removeClass("btn btn-success");
                $('#btn_Insert_EmiratesDental').addClass("btn btn-success btn-loaders btn-icon");
                $('#btn_Insert_EmiratesDental').html("Saving the Record....");
                var emdn_chkbox = "";
                $('.custom-control-input:checked').each(function (index) {
                    emdn_chkbox = emdn_chkbox + ',' + $(this).val();
                });
                var emdn_checkbox = emdn_chkbox.substring(1);
                var _dataInsert = {
                "emdnId": 0,
                "emdn_appId": @emr.appId,
                "emdn_1": '',
                "emdn_2": $("#emdn_2").val(),
                "emdn_3": $("#emdn_3").val(),
                "emdn_4": $("#emdn_4").val(),
                "emdn_5": $("#emdn_5").val(),
                "emdn_6": $("#emdn_6").val(),
                "emdn_7": $("#emdn_7").val(),
                "emdn_8": $("#emdn_8").val(),
                "emdn_9": $("#emdn_9").val(),
                "emdn_10": $("#emdn_10").val(),
                "emdn_11": $("#emdn_11").val(),
                "emdn_12": $("#emdn_12").val(),
                "emdn_13": $("#emdn_13").val(),
                "emdn_14": $("#emdn_14").val(),
                "emdn_15": $("#emdn_15").val(),
                "emdn_16": $("#emdn_16").val(),
                "emdn_17": $("#emdn_17").val(),
                "emdn_18": $("#emdn_18").val(),
                "emdn_19": $("#emdn_19").val(),
                "emdn_20": $("#emdn_20").val(),
                "emdn_21": $("#emdn_21").val(),
                "emdn_22": $("#emdn_22").val(),
                "emdn_23": $("#emdn_23").val(),
                "emdn_24": $("#emdn_24").val(),
                "emdn_25": $("#emdn_25").val(),
                "emdn_26": $("#emdn_26").val(),
                "emdn_27": $("#emdn_27").val(),
                "emdn_28": $("#emdn_28").val(),
                "emdn_29": $("#emdn_29").val(),
                "emdn_30": $("#emdn_30").val(),
                "emdn_31": $("#emdn_31").val(),
                "emdn_32": $("#emdn_32").val(),
                "emdn_33": $("#emdn_33").val(),
                "emdn_34": $("#emdn_34").val(),
                "emdn_35": $("#emdn_35").val(),
                "emdn_chk": emdn_checkbox,
                "__RequestVerificationToken": $('input[name="__RequestVerificationToken"]').val()
                }
                console.log(_dataInsert);
            $.ajax({
            type: "POST",
            url: "@Url.Action("InsertEmiratesDental", "ReimbursementForms", new { area = "EMRForms" })",
            dataType: 'JSON',
            data: _dataInsert,
            success: function (data) {
            $('#btn_Insert_EmiratesDental').removeClass("btn btn-success btn-loaders btn-icon");
            $('#btn_Insert_EmiratesDental').addClass("btn btn-success");
            $('#btn_Insert_EmiratesDental').html("Add");

            if (data.isSuccess) {
            if (data.isInserted) {
            GetEmiratesDental();
            var alertPlaceholder = document.getElementById("Alert");
            function alert(e, t) {
                var l = document.createElement("div");
                l.innerHTML = '<div class="alert alert-' + t + ' alert-dismissible" role="alert">' + e +
                    '<button type="button" class="btn-close" data-bs-dismiss="alert" aria-hidden="Close">x</button></div>', alertPlaceholder.append(l)
            }
            alert("<i class='fe fe-check-circle text-white'></i> EmiratesDental Claim Form Added Successfully!", "success");
            Timeout();
                Editemiratesdental()
            }
                else {
                    let html = "<div class='col-12 col-sm-12 col-md-12 d-flex justify-content-center'>" +
                        "<div class='alert alert-light-warning' role='alert'>" +
                        "<button type='button' class='btn-close text-warning' style='margin-bottom:-5px;' data-bs-dismiss='alert' aria-hidden='true' aria-label='Close'>×</button>" +
                        "<strong><i class='fa fa-exclamation-triangle text-warning'></i> EmiratesDental Claim Form Alredy Exists!</strong><br/>" +
                        "</div></div>";
                    $("#error").html(html);
                }
            }
            else {
            let html = "<div class='col-12 col-sm-12 col-md-12 d-flex justify-content-center'>" +
                "<div class='alert alert-light-danger' role='alert'>" +
                "<button type='button' class='btn-close text-danger' style='margin-bottom:-5px;' data-bs-dismiss='alert' aria-hidden='true' aria-label='Close'>×</button>" +
                "<strong><i class='fa fa-ban text-danger'></i> Validation Error! Please validate before submitting.&nbsp;</strong><br/><ul>";

            $.each(data.message, function (index, value) {
                html += "<li><small>" + value + "</small><li>";
                var elem = $("#" + index);
                if (elem.hasClass("select2-hidden-accessible")) {
                    $("#select2-" + elem.attr("id") + "-container").parent().addClass('error');
                }
                else {
                    $(elem).addClass(" is-invalid");
                }

                setTimeout(function () {
                    if (elem.hasClass("select2-hidden-accessible")) {
                        $("#select2-" + elem.attr("id") + "-container").parent().removeClass('error');
                    }
                    else {
                        $(elem).removeClass("is-invalid");
                    }
                }, 5000);
            });
            html += "</ul></div></div>";
            $("#error").html(html);
            }
            },
            error: function (xhr) {
            $('#btn_Insert_EmiratesDental').removeClass("btn btn-success btn-loaders btn-icon");
            $('#btn_Insert_EmiratesDental').addClass("btn btn-success");
            $('#btn_Insert_EmiratesDental').html("Add");
            Timeout();
            }
            });
            }
            else {
                $('.modal-body').animate({
                    scrollTop: ($('.has-error').offset().top - 300)
                }, 2000);
            }
        });
    //#endregion

</script>
@*}*@

<style>
    hr.new4 {
        border: 5px solid #5A5A5A;
        margin-top: 0px;
        margin-bottom: 0px;
    }
</style>
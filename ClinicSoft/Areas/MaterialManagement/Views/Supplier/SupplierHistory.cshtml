

@model BusinessEntities.Accounts.Masters.SupplierHistory

<div class="modal-header py-3 px-4">
    <h5 class="modal-title text-primary font-weight-semibold" id="exampleModalLongTitle">
        Supplier History <span class="text-secondary">
            (@Model.supplierDetail.sup_code - @Model.supplierDetail.sup_name) <span class="text-primary">Branch - @Model.supplierDetail.sup_branch_name</span>
        </span>
    </h5>
    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close">
        <span aria-hidden="true">&times;</span>
    </button>
</div>
<div class="modal-body">
    <div class="col-sm-12 col-md-12 col-lg-12">
        @if (Model.supplierPurchaseOrders != null && Model.supplierPurchaseOrders.Count > 0)
        {
            <div class="text-secondary text-center align-content-center" style="font-size:17px; font-weight:bold;">Purchase Order Detail</div>
            <div class="table-responsive" style="min-height:auto">
                <table id="tbl_purchase_order" class="table table-striped table-bordered text-nowrap" style="width: 100%;">
                    <thead>
                        <tr style="color: #fff !important; background-color: #3C457D; border-color: #3C457D;">
                            <th class="border-bottom-0 font-weight-semibold text-white">Purchase Order #</th>
                            <th class="border-bottom-0 font-weight-semibold text-white">Order Date</th>
                            <th class="border-bottom-0 font-weight-semibold text-white">Total Amount</th>
                            <th class="border-bottom-0 font-weight-semibold text-white">Discount</th>
                            <th class="border-bottom-0 font-weight-semibold text-white">Discount Type</th>
                            <th class="border-bottom-0 font-weight-semibold text-white">NET Amount</th>
                            <th class="border-bottom-0 font-weight-semibold text-white">VAT Amount</th>
                            <th class="border-bottom-0 font-weight-semibold text-white">Status</th>
                            <th class="border-bottom-0 font-weight-semibold text-white">Made By</th>
                        </tr>
                        @foreach (var data in Model.supplierPurchaseOrders)
                        {
                            <tr>
                                <td>@data.pur_ocode</td>
                                <td>@data.pur_odate</td>
                                <td class="text-right">@data.pur_total</td>
                                <td class="text-right">@data.pur_disc</td>
                                <td>@data.pur_disc_type</td>
                                <td class="text-right">@data.pur_net</td>
                                <td class="text-right">@data.pur_vat</td>
                                <td>@data.pur_status</td>
                                <td>@data.madeby_name</td>
                            </tr>
                        }
                    </thead>
                </table>
            </div>
        }
        else
        {
            <div class="col-12 col-sm-12 col-md-12 d-flex justify-content-center">
                <div class="alert alert-light-info alert-dismissiblefade show" role="alert">
                    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                    <strong><i class="fa fa-exclamation-circle"></i> Info!&nbsp;</strong>No Purchase Order Available!
                </div>
            </div>
        }
        @if (Model.supplierGRN != null && Model.supplierGRN.Count > 0)
        {
            <div class="text-secondary text-center align-content-center" style="font-size:17px; font-weight:bold;">GRN Detail</div>
            <div class="table-responsive" style="min-height:auto">
                <table id="tbl_grn" class="table table-striped table-bordered text-nowrap" style="width: 100%;">
                    <thead>
                        <tr style="color: #fff !important; background-color: #3C457D; border-color: #3C457D;">
                            <th class="border-bottom-0 font-weight-semibold text-white">GRN #</th>
                            <th class="border-bottom-0 font-weight-semibold text-white">GRN Date</th>
                            <th class="border-bottom-0 font-weight-semibold text-white">Batch No #</th>
                            <th class="border-bottom-0 font-weight-semibold text-white">UOM</th>
                            <th class="border-bottom-0 font-weight-semibold text-white">Recevied Qty</th>
                            <th class="border-bottom-0 font-weight-semibold text-white">Free Qty</th>
                            <th class="border-bottom-0 font-weight-semibold text-white">Status</th>
                            <th class="border-bottom-0 font-weight-semibold text-white">Made By</th>
                        </tr>
                        @foreach (var data in Model.supplierGRN)
                        {
                            <tr>
                                <td>@data.pir_dcode</td>
                                <td>@data.pir_ddate</td>
                                <td>@data.pir_batchno</td>
                                <td>@data.pir_uom</td>
                                <td class="text-right">@data.pir_received</td>
                                <td class="text-right">@data.pir_free_qty</td>
                                <td>@data.pir_status</td>
                                <td>@data.madeby_name</td>
                            </tr>
                        }
                    </thead>
                </table>
            </div>
        }
        else
        {
            <div class="col-12 col-sm-12 col-md-12 d-flex justify-content-center">
                <div class="alert alert-light-info alert-dismissiblefade show" role="alert">
                    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                    <strong><i class="fa fa-exclamation-circle"></i> Info!&nbsp;</strong>No GRN Available!
                </div>
            </div>
        }
        @if (Model.supplierInvoice != null && Model.supplierInvoice.Count > 0)
        {
            <div class="text-secondary text-center align-content-center" style="font-size:17px; font-weight:bold;">Purchase Invoice Detail</div>
            <div class="table-responsive" style="min-height:auto">
                <table id="tbl_invoice" class="table table-striped table-bordered text-nowrap" style="width: 100%;">
                    <thead>
                        <tr style="color: #fff !important; background-color: #3C457D; border-color: #3C457D;">
                            <th class="border-bottom-0 font-weight-semibold text-white">Purchase Invoice #</th>
                            <th class="border-bottom-0 font-weight-semibold text-white">Supplier Invoice #</th>
                            <th class="border-bottom-0 font-weight-semibold text-white">Invoice Date</th>
                            <th class="border-bottom-0 font-weight-semibold text-white">Total Amount</th>
                            <th class="border-bottom-0 font-weight-semibold text-white">Discount</th>
                            <th class="border-bottom-0 font-weight-semibold text-white">Discount Type</th>
                            <th class="border-bottom-0 font-weight-semibold text-white">Net Amount</th>
                            <th class="border-bottom-0 font-weight-semibold text-white">VAT Amount</th>
                            <th class="border-bottom-0 font-weight-semibold text-white">Status</th>
                            <th class="border-bottom-0 font-weight-semibold text-white">Made By</th>
                        </tr>
                        @foreach (var data in Model.supplierInvoice)
                        {
                            <tr>
                                <td>@data.pinv_icode</td>
                                <td>@data.pinv_invno</td>
                                <td>@data.pinv_idate</td>
                                <td class="text-right">@data.pinv_total</td>
                                <td class="text-right">@data.pinv_disc</td>
                                <td>@data.pinv_disc_type</td>
                                <td class="text-right">@data.pinv_net</td>
                                <td class="text-right">@data.pinv_vat</td>
                                <td>@data.pinv_status</td>
                                <td>@data.madeby_name</td>
                            </tr>
                        }
                    </thead>
                </table>
            </div>
        }
        else
        {
            <div class="col-12 col-sm-12 col-md-12 d-flex justify-content-center">
                <div class="alert alert-light-info alert-dismissiblefade show" role="alert">
                    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                    <strong><i class="fa fa-exclamation-circle"></i> Info!&nbsp;</strong>No Purchase Invoice Available!
                </div>
            </div>
        }
        @if (Model.supplierPayment != null && Model.supplierPayment.Count > 0)
        {
            <div class="text-secondary text-center align-content-center" style="font-size:17px; font-weight:bold;">Payments Detail</div>
            <div class="table-responsive" style="min-height:auto">
                <table id="tbl_payment" class="table table-striped table-bordered text-nowrap" style="width: 100%;">
                    <thead>
                        <tr style="color: #fff !important; background-color: #3C457D; border-color: #3C457D;">
                            <th class="border-bottom-0 font-weight-semibold text-white">Payment Code #</th>
                            <th class="border-bottom-0 font-weight-semibold text-white">Payment Date</th>
                            <th class="border-bottom-0 font-weight-semibold text-white">Payment Type</th>
                            <th class="border-bottom-0 font-weight-semibold text-white">Total Paid</th>
                            <th class="border-bottom-0 font-weight-semibold text-white">Status</th>
                            <th class="border-bottom-0 font-weight-semibold text-white">Made By</th>
                        </tr>
                        @foreach (var data in Model.supplierPayment.Where(n => n.pay_type == "Invoice"))
                        {
                            <tr>
                                <td>@data.pay_code</td>
                                <td>@data.pay_date</td>
                                <td>@data.pay_type</td>
                                <td class="text-right">@data.paid</td>
                                <td>@data.pay_status</td>
                                <td>@data.madeby_name</td>
                            </tr>
                        }
                    </thead>
                </table>
            </div>
        }
        else
        {
            <div class="col-12 col-sm-12 col-md-12 d-flex justify-content-center">
                <div class="alert alert-light-info alert-dismissiblefade show" role="alert">
                    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                    <strong><i class="fa fa-exclamation-circle"></i> Info!&nbsp;</strong>No Payment Receipt Available!
                </div>
            </div>
        }
        @if (Model.supplierPayment != null && Model.supplierPayment.Count > 0)
        {
            <div class="text-secondary text-center align-content-center" style="font-size:17px; font-weight:bold;">Advance Payments Detail</div>
            <div class="table-responsive" style="min-height:auto">
                <table id="tbl_payment" class="table table-striped table-bordered text-nowrap" style="width: 100%;">
                    <thead>
                        <tr style="color: #fff !important; background-color: #3C457D; border-color: #3C457D;">
                            <th class="border-bottom-0 font-weight-semibold text-white">Payment Code #</th>
                            <th class="border-bottom-0 font-weight-semibold text-white">Payment Date</th>
                            <th class="border-bottom-0 font-weight-semibold text-white">Payment Type</th>
                            <th class="border-bottom-0 font-weight-semibold text-white">Total Paid</th>
                            <th class="border-bottom-0 font-weight-semibold text-white">Status</th>
                            <th class="border-bottom-0 font-weight-semibold text-white">Made By</th>
                        </tr>
                        @foreach (var data in Model.supplierPayment.Where(n => n.pay_type == "Advance"))
                        {
                            <tr>
                                <td>@data.pay_code</td>
                                <td>@data.pay_date</td>
                                <td>@data.pay_type</td>
                                <td class="text-right">@data.paid</td>
                                <td>@data.pay_status</td>
                                <td>@data.madeby_name</td>
                            </tr>
                        }
                    </thead>
                </table>
            </div>
        }
        else
        {
            <div class="col-12 col-sm-12 col-md-12 d-flex justify-content-center">
                <div class="alert alert-light-info alert-dismissiblefade show" role="alert">
                    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                    <strong><i class="fa fa-exclamation-circle"></i> Info!&nbsp;</strong>No Advance Payment Receipt Available!
                </div>
            </div>
        }
        @if (Model.supplierPayment != null && Model.supplierPayment.Count > 0)
        {
            <div class="text-secondary text-center align-content-center" style="font-size:17px; font-weight:bold;">Refunded Payments Detail</div>
            <div class="table-responsive" style="min-height:auto">
                <table id="tbl_payment" class="table table-striped table-bordered text-nowrap" style="width: 100%;">
                    <thead>
                        <tr style="color: #fff !important; background-color: #3C457D; border-color: #3C457D;">
                            <th class="border-bottom-0 font-weight-semibold text-white">Payment Code #</th>
                            <th class="border-bottom-0 font-weight-semibold text-white">Payment Date</th>
                            <th class="border-bottom-0 font-weight-semibold text-white">Payment Type</th>
                            <th class="border-bottom-0 font-weight-semibold text-white">Total Paid</th>
                            <th class="border-bottom-0 font-weight-semibold text-white">Status</th>
                            <th class="border-bottom-0 font-weight-semibold text-white">Made By</th>
                        </tr>
                        @foreach (var data in Model.supplierPayment.Where(n => n.pay_type == "Refund"))
                        {
                            <tr>
                                <td>@data.pay_code</td>
                                <td>@data.pay_date</td>
                                <td>@data.pay_type</td>
                                <td class="text-right">@data.paid</td>
                                <td>@data.pay_status</td>
                                <td>@data.madeby_name</td>
                            </tr>
                        }
                    </thead>
                </table>
            </div>
        }
        else
        {
            <div class="col-12 col-sm-12 col-md-12 d-flex justify-content-center">
                <div class="alert alert-light-info alert-dismissiblefade show" role="alert">
                    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                    <strong><i class="fa fa-exclamation-circle"></i> Info!&nbsp;</strong>No Refunded Payment Receipt Available!
                </div>
            </div>
        }
    </div>
</div>
<style type="text/css">
    #size {
        max-width: 1200px;
    }
</style>


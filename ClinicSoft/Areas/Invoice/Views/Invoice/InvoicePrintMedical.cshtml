@using System.Linq;
@using System.Security.Claims;
@using BusinessEntities;
@using BusinessEntities.Common
@{
    var claims = ClaimsPrincipal.Current.Identities.First().Claims.ToList();
    var emp_designation = claims.Where(c => c.Type == ClaimTypes.Role).Select(c => c.Value).SingleOrDefault();
    EMRInfo emr = (EMRInfo)TempData["emr_data"];
    TempData.Keep("emr_data");
    ViewBag.Title = "Print Medical Sheet";
    ViewBag.qemr = "VS";
}

<div class="row">
    <div class="col-sm-12 col-md-12 col-lg-12">
        <div class="panel-group accordion-panel" role="tablist" aria-multiselectable="true">
            <div class="panel panel-default active">
                <div class="panel panel-default mt-2">
                    <div class="panel-heading" role="tab" id="headingTwo1">
                        <h4 class="panel-title">
                            <a class="collapsed" role="button" data-bs-toggle="collapse" data-parent="#accordion1" href="#collapseTwo1" aria-expanded="true" aria-controls="collapseTwo1">
                                Vital Signs

                            </a>
                        </h4>
                    </div>
                    <div id="collapseTwo1" class="panel-collapse collapse show" role="tabpanel" aria-labelledby="headingTwo1">
                        <div class="panel-body ">
                            <div class="row">
                                <div class="table-responsive">
                                    <table id="tbl_vital" class="table table-striped table-bordered text-nowrap resize-table" style="width: 100%; cursor: pointer;">
                                        <thead>
                                            <tr style="color: #fff !important; background-color: #3C457D; border-color: #3C457D; ">
                                                <th class="border-bottom-0 font-weight-semibold text-white">#</th>
                                                <th class="border-bottom-0 font-weight-semibold text-white">Temperature</th>
                                                <th class="border-bottom-0 font-weight-semibold text-white">Pulse</th>
                                                <th class="border-bottom-0 font-weight-semibold text-white">BPS</th>
                                                <th class="border-bottom-0 font-weight-semibold text-white">BPD</th>
                                                <th class="border-bottom-0 font-weight-semibold text-white">Height</th>
                                                <th class="border-bottom-0 font-weight-semibold text-white">Weight</th>
                                                <th class="border-bottom-0 font-weight-semibold text-white">BMI</th>
                                                <th class="border-bottom-0 font-weight-semibold text-white">Respiratory</th>
                                                <th class="border-bottom-0 font-weight-semibold text-white">SpO2</th>
                                                <th class="border-bottom-0 font-weight-semibold text-white">Hip</th>
                                                <th class="border-bottom-0 font-weight-semibold text-white">Waist</th>
                                                <th class="border-bottom-0 font-weight-semibold text-white">Head Circumference</th>
                                                <th class="border-bottom-0 font-weight-semibold text-white">Urinalysis</th>
                                                <th class="border-bottom-0 font-weight-semibold text-white">Other Details</th>

                                            </tr>
                                        </thead>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="panel panel-default mt-2">
                        <div class="panel-heading" role="tab" id="headingTwo2">
                            <h4 class="panel-title">
                                <a class="collapsed" role="button" data-bs-toggle="collapse" data-parent="#accordion1" href="#collapseTwo2" aria-expanded="true" aria-controls="collapseTwo2">
                                    Allergies

                                </a>
                            </h4>
                        </div>
                        <div id="collapseTwo2" class="panel-collapse collapse show" role="tabpanel" aria-labelledby="headingTwo2">
                            <div class="panel-body ">
                                <div class="row">
                                    <div class="table-responsive">
                                        <table id="tbl_allergy" class="table table-striped table-bordered text-nowrap" style="width: 100%; cursor: pointer;">
                                            <thead>
                                                <tr style="color: #fff !important; background-color: #3C457D; border-color: #3C457D; ">
                                                    <th class="border-bottom-0 font-weight-semibold text-white">#</th>
                                                    <th class="border-bottom-0 font-weight-semibold text-white">Allergy Type</th>
                                                    <th class="border-bottom-0 font-weight-semibold text-white">Allergy Severity</th>
                                                    <th class="border-bottom-0 font-weight-semibold text-white">Allergies</th>
                                                    <th class="border-bottom-0 font-weight-semibold text-white">Allergy For</th>
                                                    <th class="border-bottom-0 font-weight-semibold text-white">Other Allergy For</th>
                                                </tr>
                                            </thead>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="panel panel-default mt-2">
                        <div class="panel-heading" role="tab" id="headingThree3">
                            <h4 class="panel-title">
                                <a class="collapsed" role="button" data-bs-toggle="collapse" data-parent="#accordion1" href="#collapseThree3" aria-expanded="true" aria-controls="collapseThree3">
                                    Past/Family History&nbsp;
                                </a>
                            </h4>
                        </div>
                        <div id="collapseThree3" class="panel-collapse collapse show" role="tabpanel" aria-labelledby="headingThree3">
                            <div class="panel-body ">
                                <div class="row">

                                    <div class="table-responsive">
                                        <table id="tbl_PastHistory" class="table table-striped table-bordered text-nowrap" style="width: 100%; cursor: pointer;">
                                            <thead>
                                                <tr style="color: #fff !important; background-color: #3C457D; border-color: #3C457D; ">
                                                    <th class="border-bottom-0 font-weight-semibold text-white">#</th>
                                                    <th class="border-bottom-0 font-weight-semibold text-white">Date</th>
                                                    <th class="border-bottom-0 font-weight-semibold text-white">Doctor</th>
                                                    <th class="border-bottom-0 font-weight-semibold text-white">Past<br />History</th>
                                                    <th class="border-bottom-0 font-weight-semibold text-white">Other Past <br /> History</th>
                                                    <th class="border-bottom-0 font-weight-semibold text-white">Family <br />History</th>
                                                    <th class="border-bottom-0 font-weight-semibold text-white">Surgical<br /> History</th>
                                                    <th class="border-bottom-0 font-weight-semibold text-white">Smoking</th>
                                                    <th class="border-bottom-0 font-weight-semibold text-white">Smoking<br /> Habit Qty</th>
                                                    <th class="border-bottom-0 font-weight-semibold text-white">Smoking<br /> details</th>
                                                    <th class="border-bottom-0 font-weight-semibold text-white">Alcohol</th>
                                                    <th class="border-bottom-0 font-weight-semibold text-white">Alcohol<br /> Habit Qty</th>
                                                    <th class="border-bottom-0 font-weight-semibold text-white">Alcohol<br /> details</th>
                                                    <th class="border-bottom-0 font-weight-semibold text-white">Drug</th>
                                                    <th class="border-bottom-0 font-weight-semibold text-white">Drug<br /> Habit Qty</th>
                                                    <th class="border-bottom-0 font-weight-semibold text-white">Drug<br /> details</th>
                                                </tr>
                                            </thead>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="panel panel-default mt-2">
                        <div class="panel-heading" role="tab" id="headingThree4">
                            <h4 class="panel-title">
                                <a class="collapsed" role="button" data-bs-toggle="collapse" data-parent="#accordion1" href="#collapseThree4" aria-expanded="true" aria-controls="collapseThree4">

                                    Chief Complaints

                                </a>
                            </h4>
                        </div>
                        <div id="collapseThree4" class="panel-collapse collapse show" role="tabpanel" aria-labelledby="headingThree4">
                            <div class="panel-body ">
                                <div class="row">
                                    <div class="table-responsive">
                                        <table id="tbl_complaints" class="table table-striped table-bordered text-nowrap" style="width: 100%; cursor: pointer;">
                                            <thead>
                                                <tr style="color: #fff !important; background-color: #3C457D; border-color: #3C457D; ">
                                                    <th class="border-bottom-0 font-weight-semibold text-white">#</th>
                                                    <th class="border-bottom-0 font-weight-semibold text-white">Complaints</th>
                                                </tr>
                                            </thead>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="panel panel-default mt-2">
                        <div class="panel-heading" role="tab" id="headingThree5">
                            <h4 class="panel-title">
                                <a class="collapsed" role="button" data-bs-toggle="collapse" data-parent="#accordion1" href="#collapseThree5" aria-expanded="true" aria-controls="collapseThree5">
                                    HPI
                                </a>
                            </h4>
                        </div>
                        <div id="collapseThree5" class="panel-collapse collapse show" role="tabpanel" aria-labelledby="headingThree5">
                            <div class="panel-body ">
                                <div class="row">
                                    <div class="table-responsive">
                                        <table id="tbl_HPI" class="table table-striped table-bordered text-nowrap" style="width: 100%; cursor: pointer;">
                                            <thead>
                                                <tr style="color: #fff !important; background-color: #3C457D; border-color: #3C457D; ">
                                                    <th class="border-bottom-0 font-weight-semibold text-white">#</th>
                                                    <th class="border-bottom-0 font-weight-semibold text-white">Location</th>
                                                    <th class="border-bottom-0 font-weight-semibold text-white">Quality</th>
                                                    <th class="border-bottom-0 font-weight-semibold text-white">Severity</th>
                                                    <th class="border-bottom-0 font-weight-semibold text-white">Duration</th>
                                                    <th class="border-bottom-0 font-weight-semibold text-white">Timing</th>
                                                    <th class="border-bottom-0 font-weight-semibold text-white">Context</th>
                                                    <th class="border-bottom-0 font-weight-semibold text-white">Modifying Factor</th>
                                                    <th class="border-bottom-0 font-weight-semibold text-white">Symptoms</th>
                                                    <th class="border-bottom-0 font-weight-semibold text-white">Others</th>
                                                </tr>
                                            </thead>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="panel panel-default mt-2">
                        <div class="panel-heading" role="tab" id="headingThree6">
                            <h4 class="panel-title">
                                <a class="collapsed" role="button" data-bs-toggle="collapse" data-parent="#accordion1" href="#collapseThree6" aria-expanded="true" aria-controls="collapseThree6">
                                    Review of Systems
                                </a>
                            </h4>
                        </div>
                        <div id="collapseThree6" class="panel-collapse collapse show" role="tabpanel" aria-labelledby="headingThree6">
                            <div class="panel-body ">
                                <div class="row">
                                    <div class="table-responsive">
                                        <table id="tbl_ReviewofSystems" class="table table-striped table-bordered text-nowrap" style="width: 100%; cursor: pointer;">
                                            <thead>
                                                <tr style="color: #fff !important; background-color: #3C457D; border-color: #3C457D; ">
                                                    <th class="border-bottom-0 font-weight-semibold text-white">#</th>
                                                    <th class="border-bottom-0 font-weight-semibold text-white">Date</th>
                                                    <th class="border-bottom-0 font-weight-semibold text-white">Doctor</th>
                                                    <th class="border-bottom-0 font-weight-semibold text-white">Const</th>
                                                    <th class="border-bottom-0 font-weight-semibold text-white">Skin</th>
                                                    <th class="border-bottom-0 font-weight-semibold text-white">Eye</th>
                                                    <th class="border-bottom-0 font-weight-semibold text-white">ENT</th>
                                                    <th class="border-bottom-0 font-weight-semibold text-white">Respi</th>
                                                    <th class="border-bottom-0 font-weight-semibold text-white">Cardio</th>
                                                    <th class="border-bottom-0 font-weight-semibold text-white">Gastro<br />Intestinal</th>
                                                    <th class="border-bottom-0 font-weight-semibold text-white">Genito<br />Urinary</th>
                                                    <th class="border-bottom-0 font-weight-semibold text-white">Neuro</th>
                                                    <th class="border-bottom-0 font-weight-semibold text-white">Musculo<br />skeletal</th>
                                                    <th class="border-bottom-0 font-weight-semibold text-white">Phych</th>
                                                    <th class="border-bottom-0 font-weight-semibold text-white">Endo</th>
                                                    <th class="border-bottom-0 font-weight-semibold text-white">Hemato<br />Lymphatic</th>
                                                    <th class="border-bottom-0 font-weight-semibold text-white">Allergy<br />Immuno</th>
                                                    <th class="border-bottom-0 font-weight-semibold text-white">Menst<br />History</th>
                                                    <th class="border-bottom-0 font-weight-semibold text-white">Addi<br />ROS</th>
                                                    <th class="border-bottom-0 font-weight-semibold text-white">Note</th>
                                                </tr>
                                            </thead>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="panel panel-default mt-2">
                        <div class="panel-heading" role="tab" id="headingThree7">
                            <h4 class="panel-title">
                                <a class="collapsed" role="button" data-bs-toggle="collapse" data-parent="#accordion1" href="#collapseThree7" aria-expanded="true" aria-controls="collapseThree7">
                                    Nurse Notes
                                </a>
                            </h4>
                        </div>
                        <div id="collapseThree7" class="panel-collapse collapse show" role="tabpanel" aria-labelledby="headingThree7">
                            <div class="panel-body ">
                                <div class="row">
                                    <div class="table-responsive">
                                        <table id="tbl_nursenote" class="table table-striped table-bordered text-nowrap resize-table" style="width: 100%; cursor: pointer;">
                                            <thead>
                                                <tr style="color: #fff !important; background-color: #3C457D; border-color: #3C457D; ">
                                                    <th class="border-bottom-0 font-weight-semibold text-white">#</th>
                                                    <th class="border-bottom-0 font-weight-semibold text-white">Nurse Notes</th>
                                                    <th class="border-bottom-0 font-weight-semibold text-white">Date Recorded</th>
                                                </tr>
                                            </thead>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="panel panel-default mt-2">
                        <div class="panel-heading" role="tab" id="headingThree8">
                            <h4 class="panel-title">
                                <a class="collapsed" role="button" data-bs-toggle="collapse" data-parent="#accordion1" href="#collapseThree8" aria-expanded="true" aria-controls="collapseThree8">
                                    Narrative Diagnosis
                                </a>
                            </h4>
                        </div>
                        <div id="collapseThree8" class="panel-collapse collapse show" role="tabpanel" aria-labelledby="headingThree8">
                            <div class="panel-body ">
                                <div class="row">
                                    <div class="table-responsive">
                                        <table id="tbl_narrative" class="table table-striped table-bordered text-nowrap" style="width: 100%; cursor: pointer;">
                                            <thead>
                                                <tr style="color: #fff !important; background-color: #3C457D; border-color: #3C457D; ">
                                                    <th class="border-bottom-0 font-weight-semibold text-white">#</th>
                                                    <th class="border-bottom-0 font-weight-semibold text-white">Narrative Diagnosis</th>
                                                    <th class="border-bottom-0 font-weight-semibold text-white">Final Diagnosis</th>
                                                </tr>
                                            </thead>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="panel panel-default mt-2">
                        <div class="panel-heading" role="tab" id="headingThree9">
                            <h4 class="panel-title">
                                <a class="collapsed" role="button" data-bs-toggle="collapse" data-parent="#accordion1" href="#collapseThree9" aria-expanded="true" aria-controls="collapseThree9">
                                    Diagnosis
                                </a>
                            </h4>
                        </div>
                        <div id="collapseThree9" class="panel-collapse collapse show" role="tabpanel" aria-labelledby="headingThree9">
                            <div class="panel-body ">
                                <div class="row">
                                    <div class="table-responsive">
                                        <table id="tbl_patdignosis" class="table table-striped table-bordered text-nowrap resize-table" style="width: 100%; cursor: pointer;">
                                            <thead>
                                                <tr style="color: #fff !important; background-color: #3C457D; border-color: #3C457D; ">
                                                    <th class="border-bottom-0 font-weight-semibold text-white">#</th>
                                                    <th class="border-bottom-0 font-weight-semibold text-white">Type</th>
                                                    <th class="border-bottom-0 font-weight-semibold text-white">Code</th>
                                                    <th class="border-bottom-0 font-weight-semibold text-white">Diagnosis</th>
                                                    <th class="border-bottom-0 font-weight-semibold text-white">Notes</th>
                                                    <th class="border-bottom-0 font-weight-semibold text-white">year</th>
                                                </tr>
                                            </thead>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="panel panel-default mt-2">
                        <div class="panel-heading" role="tab" id="headingThree10">
                            <h4 class="panel-title">
                                <a class="collapsed" role="button" data-bs-toggle="collapse" data-parent="#accordion1" href="#collapseThree10" aria-expanded="true" aria-controls="collapseThree10">
                                    Patient treatments
                                </a>
                            </h4>
                        </div>
                        <div id="collapseThree10" class="panel-collapse collapse show" role="tabpanel" aria-labelledby="headingThree10">
                            <div class="panel-body ">
                                <div class="row">
                                    <div class="table-responsive">
                                        <table id="tbl_cashtreatments" class="table table-striped table-bordered text-nowrap resize-table" style="width: 100%; cursor: pointer;">
                                            <thead>
                                                <tr style="color: #fff !important; background-color: #3C457D; border-color: #3C457D; ">
                                                    <th class="border-bottom-0 font-weight-semibold text-white text-center"></th>
                                                    <th class="border-bottom-0 font-weight-semibold text-white">#</th>
                                                    <th class="border-bottom-0 font-weight-semibold text-white">ID</th>
                                                    <th class="border-bottom-0 font-weight-semibold text-white">CPT<br /> Code</th>
                                                    <th class="border-bottom-0 font-weight-semibold text-white">Start<br /> Time</th>
                                                    <th class="border-bottom-0 font-weight-semibold text-white">End <br />Time</th>
                                                    <th class="border-bottom-0 font-weight-semibold text-white">Treatment</th>
                                                    <th class="border-bottom-0 font-weight-semibold text-white">Qty</th>
                                                    <th class="border-bottom-0 font-weight-semibold text-white">Session</th>
                                                    <th class="border-bottom-0 font-weight-semibold text-white">EXP.<br /> Date</th>
                                                    <th class="border-bottom-0 font-weight-semibold text-white">Unit<br /> Price</th>
                                                    <th class="border-bottom-0 font-weight-semibold text-white">Gross</th>
                                                    <th class="border-bottom-0 font-weight-semibold text-white">Discount</th>
                                                    <th class="border-bottom-0 font-weight-semibold text-white">Net</th>
                                                    <th class="border-bottom-0 font-weight-semibold text-white">VAT<br /> Amount</th>
                                                    <th class="border-bottom-0 font-weight-semibold text-white">NET+VAT</th>
                                                    <th class="border-bottom-0 font-weight-semibold text-white">Status</th>
                                                    <th class="border-bottom-0 font-weight-semibold text-white">Lab<br /> Status</th>
                                                    <th class="border-bottom-0 font-weight-semibold text-white">Doctor<br /> Notes</th>
                                                    <th class="border-bottom-0 font-weight-semibold text-white">Coupon</th>
                                                    <th class="border-bottom-0 font-weight-semibold text-white">Coupon<br />Disc</th>
                                                    <th class="border-bottom-0 font-weight-semibold text-white"></th>
                                                </tr>
                                            </thead>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="panel panel-default mt-2">
                        <div class="panel-heading" role="tab" id="headingThree11">
                            <h4 class="panel-title">
                                <a class="collapsed" role="button" data-bs-toggle="collapse" data-parent="#accordion1" href="#collapseThree11" aria-expanded="true" aria-controls="collapseThree11">
                                    Prescription
                                </a>
                            </h4>
                        </div>
                        <div id="collapseThree11" class="panel-collapse collapse show" role="tabpanel" aria-labelledby="headingThree11">
                            <div class="panel-body ">
                                <div class="row">
                                    <div class="table-responsive">
                                        <table id="tbl_prescription" class="table table-striped table-bordered text-nowrap resize-table" style="width: 100%; cursor: pointer;">
                                            <thead>
                                                <tr style="color: #fff !important; background-color: #3C457D; border-color: #3C457D; ">
                                                    <th class="border-bottom-0 font-weight-semibold text-white text-center"></th>
                                                    <th class="border-bottom-0 font-weight-semibold text-white">#</th>
                                                    <th class="border-bottom-0 font-weight-semibold text-white">ID</th>
                                                    <th class="border-bottom-0 font-weight-semibold text-white">Code</th>
                                                    <th class="border-bottom-0 font-weight-semibold text-white">Generic</th>
                                                    <th class="border-bottom-0 font-weight-semibold text-white">Brand</th>
                                                    <th class="border-bottom-0 font-weight-semibold text-white">Dosage</th>
                                                    <th class="border-bottom-0 font-weight-semibold text-white">Strength</th>
                                                    <th class="border-bottom-0 font-weight-semibold text-white">Use <br />(Units)</th>
                                                    <th class="border-bottom-0 font-weight-semibold text-white">Frequency<br /> Value</th>
                                                    <th class="border-bottom-0 font-weight-semibold text-white">Frequency</th>
                                                    <th class="border-bottom-0 font-weight-semibold text-white">Duration</th>
                                                    <th class="border-bottom-0 font-weight-semibold text-white">Quantity</th>
                                                    <th class="border-bottom-0 font-weight-semibold text-white">Route for Admin</th>
                                                    <th class="border-bottom-0 font-weight-semibold text-white">Instructions</th>
                                                </tr>
                                            </thead>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="panel panel-default mt-2">
                        <div class="panel-heading" role="tab" id="headingThree12">
                            <h4 class="panel-title">
                                <a class="collapsed" role="button" data-bs-toggle="collapse" data-parent="#accordion1" href="#collapseThree12" aria-expanded="true" aria-controls="collapseThree12">
                                    Progress Notes
                                </a>
                            </h4>
                        </div>
                        <div id="collapseThree12" class="panel-collapse collapse show" role="tabpanel" aria-labelledby="headingThree12">
                            <div class="panel-body ">
                                <div class="row">
                                    <div class="table-responsive">
                                        <table id="tbl_ProgNote" class="table table-striped table-bordered text-nowrap" style="width: 100%; cursor: pointer;">
                                            <thead>
                                                <tr style="color: #fff !important; background-color: #3C457D; border-color: #3C457D; ">
                                                    <th class="border-bottom-0 font-weight-semibold text-white">#</th>
                                                    <th class="border-bottom-0 font-weight-semibold text-white">Progress Notes</th>
                                                    <th class="border-bottom-0 font-weight-semibold text-white">Next visit plan </th>
                                                    <th class="border-bottom-0 font-weight-semibold text-white">Other instructions </th>
                                                    <th class="border-bottom-0 font-weight-semibold text-white">Date Recorded</th>
                                                </tr>
                                            </thead>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="panel panel-default mt-2">
                        <div class="panel-heading" role="tab" id="headingThree13">
                            <h4 class="panel-title">
                                <a class="collapsed" role="button" data-bs-toggle="collapse" data-parent="#accordion1" href="#collapseThree13" aria-expanded="true" aria-controls="collapseThree13">
                                    Addendum
                                </a>
                            </h4>
                        </div>
                        <div id="collapseThree13" class="panel-collapse collapse show" role="tabpanel" aria-labelledby="headingThree13">
                            <div class="panel-body ">
                                <div class="row">
                                    <div class="table-responsive">
                                        <table id="tbl_addendum" class="table table-striped table-bordered text-nowrap resize-table" style="width: 100%; cursor: pointer;">
                                            <thead>
                                                <tr style="color: #fff !important; background-color: #3C457D; border-color: #3C457D; ">
                                                    <th class="border-bottom-0 font-weight-semibold text-white">#</th>
                                                    <th class="border-bottom-0 font-weight-semibold text-white">Addendum For</th>
                                                    <th class="border-bottom-0 font-weight-semibold text-white">Addendum</th>
                                                    <th class="border-bottom-0 font-weight-semibold text-white">Date Recorded</th>
                                                </tr>
                                            </thead>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    //#region Page Load
    $(function () {
        var appId = "@emr.appId";

        if (appId !== "") {
            GetHPI();
            GetVitalSigns();
            GetAllergies();
            GetPastHistory();
            GetCheifComplaints();
            GetReviewofSystems();
            GetNurseNotes();
            GetNarrativeDiagnosis();
            GetPatDiagnosis();
            GetCashTreatment();
            GetPrescription();
            GetProgressNotes();
            GetAddendum();
        }
    });
    //#endregion

    //#region Load HPI
        var GetHPI = function () {
            $.ajax({
                type: "GET",
                url: "@Url.Action("GetAllHPI", "HistoryofPresentIllness", new { area = "NurseStation" })?appId=" + "@emr.appId",
                success: function (response) {

                    if (response.isAuthorized != false) {
                        var table;
                        if ($.fn.dataTable.isDataTable('#tbl_HPI')) {
                            table = $('#tbl_HPI').DataTable();
                            table.clear();
                            table.rows.add(response).draw();
                        }
                        else {
                            console.log(response);
                            BindDataTableHPI(response);
                        }
                    }
                    else {
                        console.log("You are not Authorized!");
                    }
                },
                error: function (xhr) {
                    console.log(xhr);
                }
            })
        }
    //#endregion Load HPI
    //#region Bind Datatable
    var BindDataTableHPI = function (response) {
          var table = $("#tbl_HPI").DataTable({
              fixedHeader: {
                  header: true,
                  footer: true
              },
              processing: true,
              "deferRender": true,
              "pageLength": 100,
              "retrieve": true,
              lengthChange: true,
              "aaData": response,
              "aoColumns": [
                  {
                      "mData": "hpiId",
                      "orderable": false,
                      "searchable": false,
                      "className": "text-center",
                      "render": function (data, type, row, meta) {
                          let _index = (meta.row) + 1;
                          if (_index >= 10) {
                              return "<a href='javascript:void(0)' class='fs-13 font-weight-bold'>" + _index + "</a>";
                          }
                          else {
                              return "<a href='javascript:void(0)' class='fs-13 font-weight-bold'>0" + _index + "</a>";
                          }
                      }
                  },
                  {
                      "mData": "hpi_loc",
                      "className": "text-left"
                  },
                  {
                      "mData": "hpi_qua",
                      "className": 'text-left',

                  },
                  {
                      "mData": "hpi_sev",
                      "className": "text-left"
                  },
                  {
                      "mData": "hpi_dur",
                      "className": "text-left"
                  },
                  {
                      "mData": "hpi_tim",
                      "className": "text-left"
                  },
                  {
                      "mData": "hpi_con",
                      "className": "text-left"
                  },
                  {
                      "mData": "hpi_mod",
                      "className": "text-left"
                  },
                  {
                      "mData": "hpi_sym",
                      "className": "text-left"
                  },
                  {
                      "mData": "hpi_other",
                      "className": "text-left"
                  },

              ],
              order: [[1, 'asc']],
              "searching": false,
              scrollX: true,
              scrollY: 500,
              "bPaginate": false,
              "bLengthChange": false,
              "bInfo": false,
          });
          table.buttons().container().appendTo('#tbl_HPI_wrapper .col-md-6:eq(0)');
      };
    //#endregion Bind Datatable
    //#region Load VitalSigns
        var GetVitalSigns = function () {
            $.ajax({
                type: "GET",
                url: "@Url.Action("GetAllVitalSigns", "VitalSigns", new { area = "NurseStation" })?appId=" + "@emr.appId",
                success: function (response) {

                    if (response.isAuthorized != false) {
                        var table;
                        if ($.fn.dataTable.isDataTable('#tbl_vital')) {
                            table = $('#tbl_vital').DataTable();
                            table.clear();
                            table.rows.add(response).draw();
                        }
                        else {
                            console.log(response);
                            BindDataTableVital(response);
                        }
                    }
                    else {
                        console.log("You are not Authorized!");
                    }
                },
                error: function (xhr) {
                    console.log(xhr);
                }
            })
        }
    //#endregion Load VitalSigns

     //#region Bind Datatable
        var BindDataTableVital = function (response) {
            var table = $("#tbl_vital").DataTable({
                fixedHeader: {
                    header: true,
                    footer: true
                },
                processing: true,
                "deferRender": true,
                "pageLength": 50,
                "retrieve": true,
                lengthChange: true,
                "aaData": response,
                "aoColumns": [
                    {
                        "mData": "signId",
                        "orderable": false,
                        "searchable": false,
                        "className": "text-center",
                        "render": function (data, type, row, meta) {
                            let _index = (meta.row) + 1;
                            if (_index >= 10) {
                                return "<a href='javascript:void(0)' class='fs-13 font-weight-bold'>" + _index + "</a>";
                            }
                            else {
                                return "<a href='javascript:void(0)' class='fs-13 font-weight-bold'>0" + _index + "</a>";
                            }
                        }
                    },
                    {
                        "mData": "sign_temp",
                        "className": "text-left"
                    },
                    {
                        "mData": "sign_pulse",
                        "className": 'text-left',

                    },
                    {
                        "mData": "sign_bp",
                        "className": "text-left"
                    },
                    {
                        "mData": "sign_bpd",
                        "className": "text-left"
                    },
                    {
                        "mData": "sign_height",
                        "className": "text-left"
                    },
                    {
                        "mData": "sign_weight",
                        "className": "text-left"
                    },
                    {
                        "mData": "sign_bmi",
                        "className": "text-left"
                    },
                    {
                        "mData": "sign_resp",
                        "className": "text-left"
                    },
                    {
                        "mData": "sign_spo2",
                        "className": "text-left"
                    },
                    {
                        "mData": "sign_hip",
                        "className": "text-left"
                    },
                    {
                        "mData": "sign_waist",
                        "className": "text-left"
                    },
                    {
                        "mData": "sign_head",
                        "className": "text-left"
                    },
                    {
                        "mData": "sign_uri",
                        "className": "text-left"
                    },
                    {
                        "mData": "sign_notes",
                        "className": "text-left"
                    },

                ],
                order: [[1, 'asc']],
                "searching": false,
                "bPaginate": false,
                "bLengthChange": false,
                "bInfo": false,
                scrollX: true,
                scrollY: 500,
                scrollCollapse: true,



            });

        };
    //#endregion Bind Datatable

    //#region Load Allergies
        var GetAllergies = function () {
            $.ajax({
                type: "GET",
                url: "@Url.Action("GetAllAllergies", "Allergies", new { area = "NurseStation" })?appId=" + "@emr.appId",
                success: function (response) {

                    if (response.isAuthorized != false) {
                        var table;
                        if ($.fn.dataTable.isDataTable('#tbl_allergy')) {
                            table = $('#tbl_allergy').DataTable();
                            table.clear();
                            table.rows.add(response).draw();
                        }
                        else {
                            console.log(response);
                            BindDataTableallergy(response);
                        }
                    }
                    else {
                        console.log("You are not Authorized!");
                    }
                },
                error: function (xhr) {
                    console.log(xhr);
                }
            })
        }
    //#endregion Load Allergies

    //#region Bind Datatable
        var BindDataTableallergy = function (response) {
            var table = $("#tbl_allergy").DataTable({
                fixedHeader: {
                    header: true,
                    footer: true
                },
                processing: true,
                "deferRender": true,
                "pageLength": 100,
                "retrieve": true,
                lengthChange: true,
                "aaData": response,
                "aoColumns": [
                    {
                        "mData": "allId",
                        "orderable": false,
                        "searchable": false,
                        "className": "text-center",
                        "render": function (data, type, row, meta) {
                            let _index = (meta.row) + 1;
                            if (_index >= 10) {
                                return "<a href='javascript:void(0)' class='fs-13 font-weight-bold'>" + _index + "</a>";
                            }
                            else {
                                return "<a href='javascript:void(0)' class='fs-13 font-weight-bold'>0" + _index + "</a>";
                            }
                        }
                    },
                    {
                        "mData": "all_type",
                        "className": "text-left"
                    },
                    {
                        "mData": "allergies",
                        "className": 'text-left',

                    },
                    {
                        "mData": "all_severity",
                        "className": "text-left"
                    },
                    {
                        "mData": "all_for",
                        "className": "text-left"
                    },
                    {
                        "mData": "all_pexam",
                        "className": "text-left"
                    },

                ],
                order: [[1, 'asc']],
                "searching": false,
                scrollX: true,
                scrollY: 500,
                "bPaginate": false,
                "bLengthChange": false,
                "bInfo": false,
                scrollCollapse: true,

            });
            table.buttons().container().appendTo('#tbl_allergy_wrapper .col-md-6:eq(0)');
        };
    //#endregion Bind Datatable

    //#region Load PastHistory
        var GetPastHistory = function () {
            $.ajax({
                type: "GET",
                 url: "@Url.Action("GetAllPastHistory", "PastHistory", new { area = "NurseStation" })?appId=" + "@emr.appId",
                success: function (response) {
                    if (response.isAuthorized != false) {
                        var table;
                        if ($.fn.dataTable.isDataTable('#tbl_PastHistory')) {
                            table = $('#tbl_PastHistory').DataTable();
                            table.clear();
                            table.rows.add(response).draw();
                        }
                        else {
                            console.log(response);
                            BindDataTablePast(response);
                        }
                    }
                    else {
                        console.log("You are not Authorized!");
                    }
                },
                error: function (xhr) {
                    console.log(xhr);
                }
            })
        }
    //#endregion Load PastHistory
    //#region  Bind Datatable
    var BindDataTablePast = function (response) {
        var table = $("#tbl_PastHistory").DataTable({
            fixedHeader: {
                header: true,
                footer: true
            },
            processing: true,
            "deferRender": true,
            "pageLength": 100,
            "retrieve": true,
            lengthChange: true,
            "aaData": response,
            "aoColumns": [
                {
                    "mData": "pfId",
                    "orderable": false,
                    "searchable": false,
                    "className": "text-center",
                    "render": function (data, type, row, meta) {
                        let _index = (meta.row) + 1;
                        if (_index >= 10) {
                            return "<a href='javascript:void(0)' class='fs-13 font-weight-bold'>" + _index + "</a>";
                        }
                        else {
                            return "<a href='javascript:void(0)' class='fs-13 font-weight-bold'>0" + _index + "</a>";
                        }
                    }
                },
                {
                    "mData": "app_fdate",
                    "className": "text-left",
                    "render": function (data) {
                        return moment(data).format('DD-MM-YYYY')
                    }
                },
                {
                    "mData": "doctor_name",
                    "className": "text-left"
                },
                {
                    "mData": "pf_past",
                    "className": 'text-justify text-wrap'
                },
                {
                    "mData": "pf_other",
                    "className": 'text-left',

                },
                {
                    "mData": "pf_family",
                    "className": "text-left"
                },
                {
                    "mData": "pf_surgical",
                    "className": "text-left"
                },
                {
                    "mData": "pf_smok",
                    "className": "text-left"
                },
                {
                    "mData": "pf_smok_habit",
                    "className": "text-left"
                },
                {
                    "mData": "pf_smok_details",
                    "className": "text-left"
                },
                {
                    "mData": "pf_alco",
                    "className": "text-left"
                },
                {
                    "mData": "pf_alco_habit",
                    "className": "text-left"
                },
                {
                    "mData": "pf_alco_details",
                    "className": "text-left"
                },
                {
                    "mData": "pf_drug",
                    "className": "text-left"
                },
                {
                    "mData": "pf_drug_habit",
                    "className": "text-left"
                },
                {
                    "mData": "pf_drug_details",
                    "className": "text-left"
                },

            ],
            order: [[0, 'asc']],
            "searching": false,
            scrollX: true,
            scrollY: 500,
            "bPaginate": false,
            "bLengthChange": false,
            "bInfo": false,
        });
    };
    //#endregion  Bind Datatable
    //#region Load CheifComplaints
        var GetCheifComplaints = function () {
            $.ajax({
                type: "GET",
                url: "@Url.Action("GetAllCheifComplaints", "CheifComplaints", new { area = "EMR" })?appId=" + "@emr.appId",
                success: function (response) {

                    if (response.isAuthorized != false) {
                        var table;
                        if ($.fn.dataTable.isDataTable('#tbl_complaints')) {
                            table = $('#tbl_complaints').DataTable();
                            table.clear();
                            table.rows.add(response).draw();
                        }
                        else {
                            console.log(response);
                            BindDataTablecomplaints(response);
                        }
                    }
                    else {
                        console.log("You are not Authorized!");
                    }
                },
                error: function (xhr) {
                    console.log(xhr);
                }
            })
        }
    //#endregion Load CheifComplaints

       //#region Bind Datatable
    var BindDataTablecomplaints = function (response) {
            var table = $("#tbl_complaints").DataTable({
                fixedHeader: {
                    header: true,
                    footer: true
                },
                processing: true,
                "deferRender": true,
                "pageLength": 100,
                "retrieve": true,
                lengthChange: true,
                "aaData": response,
                "aoColumns": [
                    {
                        "mData": "compId",
                        "orderable": false,
                        "searchable": false,
                        "className": "text-center",
                        "render": function (data, type, row, meta) {
                            let _index = (meta.row) + 1;
                            if (_index >= 10) {
                                return "<a href='javascript:void(0)' class='fs-13 font-weight-bold'>" + _index + "</a>";
                            }
                            else {
                                return "<a href='javascript:void(0)' class='fs-13 font-weight-bold'>0" + _index + "</a>";
                            }
                        }
                    },

                    {
                        "mData": "complaint",
                        "className": 'text-left',

                    },

                ],
                order: [[1, 'asc']],
                "searching": false,
                scrollX: true,
                scrollY: 500,
                "bPaginate": false,
                "bLengthChange": false,
                "bInfo": false,

            });
        };
    //#endregion Bind Datatable

     //#region Load PreviousReviewofSystems
     var GetReviewofSystems = function () {
         $.ajax({
             type: "GET",
             url: "@Url.Action("GetAllReviewofSystems", "ReviewofSystems", new { area = "NurseStation" })?appId=" + "@emr.appId",
             success: function (response) {
                 if (response.isAuthorized != false) {
                     var table;
                     if ($.fn.dataTable.isDataTable('#tbl_ReviewofSystems')) {
                         table = $('#tbl_ReviewofSystems').DataTable();
                         table.clear();
                         table.rows.add(response).draw();
                     }
                     else {
                         console.log(response);
                         BindDataTableROS(response);
                     }
                 }
                 else {
                     console.log("You are not Authorized!");
                 }
             },
             error: function (xhr) {
                 console.log(xhr);
             }
         })
     }
     //#endregion Load ReviewofSystems
    //#region  Bind Datatable
    var BindDataTableROS = function (response) {
        var table = $("#tbl_ReviewofSystems").DataTable({
            fixedHeader: {
                header: true,
                footer: true
            },
            processing: true,
            "deferRender": true,
            "pageLength": 100,
            "retrieve": true,
            lengthChange: true,
            "aaData": response,
            "aoColumns": [
                {
                    "mData": "rsId",
                    "orderable": false,
                    "searchable": false,
                    "className": "text-center",
                    "render": function (data, type, row, meta) {
                        let _index = (meta.row) + 1;
                        if (_index >= 10) {
                            return "<a href='javascript:void(0)' class='fs-13 font-weight-bold'>" + _index + "</a>";
                        }
                        else {
                            return "<a href='javascript:void(0)' class='fs-13 font-weight-bold'>0" + _index + "</a>";
                        }
                    }
                },
                {
                    "mData": "app_fdate",
                    "className": "text-left",
                    "render": function (data) {
                        return moment(data).format('DD-MM-YYYY')
                    }
                },
                {
                    "mData": "doctor_name",
                    "className": 'text-justify text-wrap'
                },
                {
                    "mData": "rs_1",
                    "className": 'text-justify text-wrap'
                },
                {
                    "mData": "rs_2",
                    "className": 'text-justify text-wrap'

                },
                {
                    "mData": "rs_3",
                    "className": 'text-justify text-wrap'
                },
                {
                    "mData": "rs_4",
                    "className": 'text-justify text-wrap'
                },
                {
                    "mData": "rs_5",
                    "className": 'text-justify text-wrap'
                },
                {
                    "mData": "rs_6",
                    "className": 'text-justify text-wrap'
                },
                {
                    "mData": "rs_7",
                    "className": 'text-justify text-wrap'
                },
                {
                    "mData": "rs_8",
                    "className": 'text-justify text-wrap'
                },
                {
                    "mData": "rs_9",
                    "className": 'text-justify text-wrap'
                },
                {
                    "mData": "rs_10",
                    "className": 'text-justify text-wrap'
                },
                {
                    "mData": "rs_11",
                    "className": 'text-justify text-wrap'
                },
                {
                    "mData": "rs_12",
                    "className": 'text-justify text-wrap'
                },
                {
                    "mData": "rs_13",
                    "className": 'text-justify text-wrap'
                },
                {
                    "mData": "rs_14",
                    "className": 'text-justify text-wrap'
                },
                {
                    "mData": "rs_15",
                    "className": 'text-justify text-wrap'
                },
                {
                    "mData": "rs_16",
                    "className": 'text-justify text-wrap'
                },
                {
                    "mData": "rs_comments",
                    "className": 'text-justify text-wrap'
                },

            ],
            order: [[1, 'asc']],
            "searching": false,
            scrollX: true,
            scrollY: 500,
            "bPaginate": false,
            "bLengthChange": false,
            "bInfo": false,

        });
        table.buttons().container().appendTo('#tbl_PreReviewofSystems_wrapper .col-md-6:eq(0)');
    };
 //#endregion  Bind Datatable


     //#region Load NurseNotes
        var GetNurseNotes = function () {
            $.ajax({
                type: "GET",
                url: "@Url.Action("GetAllNurseNotes", "NurseNotes", new { area = "NurseStation" })?appId=" + "@emr.appId",
                success: function (response) {

                    if (response.isAuthorized != false) {
                        var table;
                        if ($.fn.dataTable.isDataTable('#tbl_nursenote')) {
                            table = $('#tbl_nursenote').DataTable();
                            table.clear();
                            table.rows.add(response).draw();
                        }
                        else {
                            console.log(response);
                            BindDataTableNurseNote(response);
                        }
                    }
                    else {
                        console.log("You are not Authorized!");
                    }
                },
                error: function (xhr) {
                    console.log(xhr);
                }
            })
                .done(function () {
                    resizedt();
                });
        }
    //#endregion Load NurseNotes

    //#region Bind Datatable
    var BindDataTableNurseNote = function (response) {
        var table = $("#tbl_nursenote").DataTable({
            fixedHeader: {
                header: true,
                footer: true
            },
            processing: true,
            "deferRender": true,
            "pageLength": 100,
            "retrieve": true,
            lengthChange: true,
            "aaData": response,
            "aoColumns": [
                {
                    "mData": "nurseId",
                    "orderable": false,
                    "searchable": false,
                    "className": "text-center",
                    "render": function (data, type, row, meta) {
                        let _index = (meta.row) + 1;
                        if (_index >= 10) {
                            return "<a href='javascript:void(0)' class='fs-13 font-weight-bold'>" + _index + "</a>";
                        }
                        else {
                            return "<a href='javascript:void(0)' class='fs-13 font-weight-bold'>0" + _index + "</a>";
                        }
                    }
                },

                {
                    "mData": "nurse_notes",
                    "className": 'text-left',

                },
                {
                    "mData": "nurse_date_created",
                    "className": "text-left",
                    "render": function (data) {
                        return moment(data).format('DD-MM-YYYY')
                    }
                },

            ],
            order: [[1, 'asc']],
            "searching": false,
            scrollX: true,
            scrollY: 500,
            "bPaginate": false,
            "bLengthChange": false,
            "bInfo": false,
        });
        table.buttons().container().appendTo('#tbl_nursenote_wrapper .col-md-6:eq(0)');
    };
//#endregion Bind Datatable

  //#region Load NarrativeDiagnosis
      var GetNarrativeDiagnosis = function () {
          $.ajax({
              type: "GET",
              url: "@Url.Action("GetAllNarrativeDiagnosis", "NarrativeDiagnosis", new { area = "EMR" })?appId=" + "@emr.appId",
              success: function (response) {

                  if (response.isAuthorized != false) {
                      var table;
                      if ($.fn.dataTable.isDataTable('#tbl_narrative')) {
                          table = $('#tbl_narrative').DataTable();
                          table.clear();
                          table.rows.add(response).draw();
                      }
                      else {
                          console.log(response);
                          BindDataTableNarrative(response);
                      }
                  }
                  else {
                      console.log("You are not Authorized!");
                  }
              },
              error: function (xhr) {
                  console.log(xhr);
              }
          })
      }
  //#endregion Load NarrativeDiagnosis

   //#region Bind Datatable
     var BindDataTableNarrative = function (response) {
         var table = $("#tbl_narrative").DataTable({
             fixedHeader: {
                 header: true,
                 footer: true
             },
             processing: true,
             "deferRender": true,
             "pageLength": 100,
             "retrieve": true,
             lengthChange: true,
             "aaData": response,
             "aoColumns": [
                 {
                     "mData": "ntdId",
                     "orderable": false,
                     "searchable": false,
                     "className": "text-center",
                     "render": function (data, type, row, meta) {
                         let _index = (meta.row) + 1;
                         if (_index >= 10) {
                             return "<a href='javascript:void(0)' class='fs-13 font-weight-bold'>" + _index + "</a>";
                         }
                         else {
                             return "<a href='javascript:void(0)' class='fs-13 font-weight-bold'>0" + _index + "</a>";
                         }
                     }
                 },

                 {
                     "mData": "ntd_1",
                     "className": 'text-left',

                 },
                 {
                     "mData": "ntd_2",
                     "className": 'text-left',

                 },


             ],
             order: [[1, 'asc']],
             "searching": false,
             scrollX: true,
             scrollY: 500,
             "bPaginate": false,
             "bLengthChange": false,
             "bInfo": false,
         });
         table.buttons().container().appendTo('#tbl_narrative_wrapper .col-md-6:eq(0)');
     };
 //#endregion Bind Datatable

   //#region Load PatientDiagnosis
      var GetPatDiagnosis = function () {
          $.ajax({
              type: "GET",
              url: "@Url.Action("GetAllPatientDiagnosis", "PatientDiagnosis", new { area = "EMR" })?appId=" + "@emr.appId",
              success: function (response) {

                  if (response.isAuthorized != false) {
                      var table;
                      if ($.fn.dataTable.isDataTable('#tbl_patdignosis')) {
                          table = $('#tbl_patdignosis').DataTable();
                          table.clear();
                          table.rows.add(response).draw();
                      }
                      else {
                          console.log(response);
                          BindDataTableDiag(response);
                      }
                  }
                  else {
                      console.log("You are not Authorized!");
                  }
              },
              error: function (xhr) {
                  console.log(xhr);
              }
          }).done(function () {
              resizedt();
          });
      }
  //#endregion Load PatientDiagnosis

   //#region Bind Datatable
     var BindDataTableDiag = function (response) {
         var table = $("#tbl_patdignosis").DataTable({
             fixedHeader: {
                 header: true,
                 footer: true
             },
             processing: true,
             "deferRender": true,
             "pageLength": 100,
             "retrieve": true,
             lengthChange: true,
             "aaData": response,
             "aoColumns": [
                 {
                     "mData": "padId",
                     "orderable": false,
                     "searchable": false,
                     "className": "text-center",
                     "render": function (data, type, row, meta) {
                         let _index = (meta.row) + 1;
                         if (_index >= 10) {
                             return "<a href='javascript:void(0)' class='fs-13 font-weight-bold'>" + _index + "</a>";
                         }
                         else {
                             return "<a href='javascript:void(0)' class='fs-13 font-weight-bold'>0" + _index + "</a>";
                         }
                     }
                 },

                 {
                     "mData": "pad_type",
                     "className": 'text-left',

                 },
                 {
                     "mData": "diag_code",
                     "className": 'text-left',

                 },
                 {
                     "mData": "diag_name",
                     "className": 'text-left',

                 },
                 {
                     "mData": "pad_notes",
                     "className": 'text-left',

                 },
                 {
                     "mData": "pad_year",
                     "className": 'text-left',

                 },

             ],
             order: [[1, 'asc']],
             "searching": false,
             scrollX: true,
             scrollY: 500,
             "bPaginate": false,
             "bLengthChange": false,
             "bInfo": false,
         });
         table.buttons().container().appendTo('#tbl_patdignosis_wrapper .col-md-6:eq(0)');
     };
 //#endregion Bind Datatable

   //#region Load CashTreatments
    var GetCashTreatment = function () {
        $.ajax({
            type: "GET",
            url: "@Url.Action("GetAllPatientTreatments", "PatientTreatments", new { area = "EMR" })?appId=" + "@emr.appId" + "&pt_type=Cash",
            success: function (response) {
                if (response.isAuthorized != false) {
                    var table;
                    if ($.fn.dataTable.isDataTable('#tbl_cashtreatments')) {
                        table = $('#tbl_cashtreatments').DataTable();
                        table.clear();
                        table.rows.add(response).draw();
                    }
                    else {
                        BindDataTableCashTreat(response);
                    }
                }
                else {
                    console.log("You are not Authorized!");
                }
            },
            error: function (xhr) {
                console.log(xhr);
            }
        }).done(function () {
            resizedt();;
        });
    }
  //#endregion

   //#region Bind Datatable
     var BindDataTableCashTreat = function (response) {

         var table = $("#tbl_cashtreatments").DataTable({
             fixedHeader: {
                 header: true,
                 footer: true
             },
             processing: true,
             "deferRender": true,
             "pageLength": 100,
             "retrieve": true,
             lengthChange: true,
             "aaData": response,
             "aoColumns": [
                 {
                     "mData": "ptId",
                     "orderable": false,
                     "className": "select-checkbox text-center inbox-small-cells",
                     'checkboxes': {
                         'selectRow': true
                     }
                 },
                 {
                     "mData": "ptId",
                     "orderable": false,
                     "searchable": false,
                     "className": "text-center",
                     "render": function (data, type, row, meta) {
                         let _index = (meta.row) + 1;
                         if (_index >= 10) {
                             return "<a href='javascript:void(0)' class='fs-13 font-weight-bold'>" + _index + "</a>";
                         }
                         else {
                             return "<a href='javascript:void(0)' class='fs-13 font-weight-bold'>0" + _index + "</a>";
                         }
                     }
                 },

                 {
                     "mData": "ptId",
                     "className": 'text-left',

                 },
                 {
                     "mData": "tr_code",
                     "className": 'text-left',

                 },
                 {
                     "mData": "pt_date_received",
                     "render": function (pt_date_received, type, full, meta) {
                         if (type === 'display' || type === 'filter') {
                             return moment(pt_date_received).format(' HH:mm');
                         }
                         return pt_date_received;
                     }

                 },
                 {
                     "mData": "pt_date_collected",
                     "render": function (pt_date_collected, type, full, meta) {
                         if (type === 'display' || type === 'filter') {
                             return moment(pt_date_collected).format(' HH:mm');
                         }
                         return pt_date_collected;
                     }

                 },

                 {
                     "mData": "tr_name_type",
                     "className": 'text-wrap text-justify',

                 },
                 {
                     "mData": "pt_qty",
                     "className": 'text-left',

                 },
                 {
                     "mData": "pt_ses",
                     "className": 'text-left',

                 },
                 {
                     "mData": "pt_pack_exp_date",
                     "render": function (pt_pack_exp_date, type, full, meta) {
                         if (type === 'display' || type === 'filter') {
                             return moment(pt_pack_exp_date).format('DD-MM-YYYY');
                         }
                         return pt_pack_exp_date;
                     }

                 },
                 {
                     "mData": "pt_uprice",
                     "className": 'text-right',
                     "render": $.fn.dataTable.render.number(',', '.', 2)
                 },
                  {
                      "mData": "pt_total",
                     "className": 'text-right',
                     "render": $.fn.dataTable.render.number(',', '.', 2)
                 },
                  {
                      "mData": "pt_disc",
                     "className": 'text-right',
                     "render": $.fn.dataTable.render.number(',', '.', 2)
                 },
                  {
                      "mData": "pt_net",
                     "className": 'text-right',
                     "render": $.fn.dataTable.render.number(',', '.', 2)
                 },
                 {
                     "mData": "pt_vat",
                     "className": 'text-right',
                     "render": $.fn.dataTable.render.number(',', '.', 2)
                 },
                 {
                     "mData": "pt_net_vat",
                     "className": 'text-right',
                     "render": $.fn.dataTable.render.number(',', '.', 2)
                 },
                 {
                     "mData": "pt_status",
                     "className": 'text-left',

                 },
                 {
                     "mData": "pt_lab_status",
                     "className": 'text-left',

                 },
                 {
                     "mData": "pt_tdn_notes",
                     "className": 'text-left',

                 },
                 {
                     "mData": "pt_coupon",
                     "className": 'text-left',

                 },
                 {
                     "mData": "pt_coupon_disc",
                     "className": 'text-left',

                 },
                 //hiden column
                 {
                     "mData": "tr_type",
                     "visible": false

                 }
             ],
             order: [[1, 'asc']],
             "searching": false,
             scrollX: true,
             scrollY: 500,
             "bPaginate": false,
             "bLengthChange": false,
             "bInfo": false,
         });
         table.buttons().container().appendTo('#tbl_cashtreatments_wrapper .col-md-6:eq(0)');
     };
   //#endregion Bind Datatable

   //#region Load Prescription
     var GetPrescription = function () {
         $.ajax({
             type: "GET",
             url: "@Url.Action("GetAllPrescription", "Prescription", new { area = "EMR" })?appId=" + "@emr.appId" + "&pre_med_type=CASH",
             success: function (response) {

                 if (response.isAuthorized != false) {
                     var table;
                     if ($.fn.dataTable.isDataTable('#tbl_prescription')) {
                         table = $('#tbl_prescription').DataTable();
                         table.clear();
                         table.rows.add(response).draw();
                     }
                     else {
                         console.log(response);
                         BindDataTablePresc(response);
                     }
                 }
                 else {
                     console.log("You are not Authorized!");
                 }
             },
             error: function (xhr) {
                 console.log(xhr);
             }
         }).done(function () {
             resizedt();
         });
     }
   //#endregion Load Prescription

   //#region Bind Datatable
      var BindDataTablePresc = function (response) {
          var table = $("#tbl_prescription").DataTable({
              fixedHeader: {
                  header: true,
                  footer: true
              },
              processing: true,
              "deferRender": true,
              "pageLength": 100,
              "retrieve": true,
              lengthChange: true,
              "aaData": response,
              "aoColumns": [
                  {
                      "mData": "preId",
                      "orderable": false,
                      "className": "select-checkbox text-center inbox-small-cells",
                      'checkboxes': {
                          'selectRow': true
                      }
                  },
                  {
                      "mData": "preId",
                      "orderable": false,
                      "searchable": false,
                      "className": "text-center",
                      "render": function (data, type, row, meta) {
                          let _index = (meta.row) + 1;
                          if (_index >= 10) {
                              return "<a href='javascript:void(0)' class='fs-13 font-weight-bold'>" + _index + "</a>";
                          }
                          else {
                              return "<a href='javascript:void(0)' class='fs-13 font-weight-bold'>0" + _index + "</a>";
                          }
                      }
                  },

                  {
                      "mData": "preId",
                      "className": 'text-left',

                  },
                  {
                      "mData": "item_code",
                      "className": 'text-left',

                  },
                  {
                      "mData": "item_name",
                      "className": 'text-justify text-wrap',

                  },
                  {
                      "mData": "item_brand",
                      "className": 'text-justify text-wrap',

                  },
                  {
                      "mData": "item_dosage",
                      "className": 'text-justify text-wrap',

                  },{
                      "mData": "item_strength",
                      "className": 'text-left',

                  },{
                      "mData": "pre_temp3",
                      "className": 'text-left',

                  },{
                      "mData": "pre_temp4",
                      "className": 'text-left',

                  },{
                      "mData": "pre_temp5",
                      "className": 'text-left',

                  },{
                      "mData": "pre_duration",
                      "className": 'text-left',

                  },{
                      "mData": "pre_qty_type",
                      "className": 'text-left',

                  },{
                      "mData": "ra_code_desc",
                      "className": 'text-left',

                  },{
                      "mData": "pre_instr",
                      "className": 'text-justify text-wrap',

                  },

              ],
              order: [[1, 'asc']],
              "searching": false,
              scrollX: true,
              scrollY: 500,
              "bPaginate": false,
              "bLengthChange": false,
              "bInfo": false,
          });
          table.buttons().container().appendTo('#tbl_prescription_wrapper .col-md-6:eq(0)');
      };
  //#endregion Bind Datatable

   //#region Load ProgressNotes
     var GetProgressNotes = function () {
         $.ajax({
             type: "GET",
             url: "@Url.Action("GetAllProgressNotes", "ProgressNotes", new { area = "EMR" })?appId=" + "@emr.appId",
             success: function (response) {

                 if (response.isAuthorized != false) {
                     var table;
                     if ($.fn.dataTable.isDataTable('#tbl_ProgNote')) {
                         table = $('#tbl_ProgNote').DataTable();
                         table.clear();
                         table.rows.add(response).draw();
                     }
                     else {
                         console.log(response);
                         BindDataTableProgress(response);
                     }
                 }
                 else {
                     console.log("You are not Authorized!");
                 }
             },
             error: function (xhr) {
                 console.log(xhr);
             }
         })
     }
    //#endregion Load ProgressNotes

    //#region Bind Datatable
       var BindDataTableProgress = function (response) {
           var table = $("#tbl_ProgNote").DataTable({
               fixedHeader: {
                   header: true,
                   footer: true
               },
               processing: true,
               "deferRender": true,
               "pageLength": 100,
               "retrieve": true,
               lengthChange: true,
               "aaData": response,
               "aoColumns": [
                   {
                       "mData": "mnId",
                       "orderable": false,
                       "searchable": false,
                       "className": "text-center",
                       "render": function (data, type, row, meta) {
                           let _index = (meta.row) + 1;
                           if (_index >= 10) {
                               return "<a href='javascript:void(0)' class='fs-13 font-weight-bold'>" + _index + "</a>";
                           }
                           else {
                               return "<a href='javascript:void(0)' class='fs-13 font-weight-bold'>0" + _index + "</a>";
                           }
                       }
                   },
                   {
                       "mData": "mn_notes",
                       "className": 'text-left',

                   },
                   {
                       "mData": "mn_visitPlan",
                       "className": 'text-left',

                   },
                   {
                       "mData": "mn_instructions",
                       "className": 'text-left',

                   },
                   {
                       "mData": "mn_date_created",
                       "className": "text-left",
                       "render": function (data) {
                           return moment(data).format('DD-MM-YYYY')
                       }
                   },

               ],
               order: [[1, 'asc']],
               "searching": false,
               scrollX: true,
               scrollY: 500,
               "bPaginate": false,
               "bLengthChange": false,
               "bInfo": false,
           });
           table.buttons().container().appendTo('#tbl__ProgNotewrapper .col-md-6:eq(0)');
       };
   //#endregion Bind Datatable

    //#region Load Addendum
     var GetAddendum = function () {
         $.ajax({
             type: "GET",
             url: "@Url.Action("GetAllAddendum", "Addendum", new { area = "EMR" })?appId=" + "@emr.appId",
             success: function (response) {

                 if (response.isAuthorized != false) {
                     var table;
                     if ($.fn.dataTable.isDataTable('#tbl_addendum')) {
                         table = $('#tbl_addendum').DataTable();
                         table.clear();
                         table.rows.add(response).draw();
                     }
                     else {
                         console.log(response);
                         BindDataTableAddendum(response);
                     }
                 }
                 else {
                     console.log("You are not Authorized!");
                 }
             },
             error: function (xhr) {
                 console.log(xhr);
             }
         })
         .done(function () {
                 resizedt();
             });
     }
 //#endregion Load Addendum

  //#region Bind Datatable
     var BindDataTableAddendum = function (response) {
         var table = $("#tbl_addendum").DataTable({
             fixedHeader: {
                 header: true,
                 footer: true
             },
             processing: true,
             "deferRender": true,
             "pageLength": 100,
             "retrieve": true,
             lengthChange: true,
             "aaData": response,
             "aoColumns": [
                 {
                     "mData": "addeId",
                     "orderable": false,
                     "searchable": false,
                     "className": "text-center",
                     "render": function (data, type, row, meta) {
                         let _index = (meta.row) + 1;
                         if (_index >= 10) {
                             return "<a href='javascript:void(0)' class='fs-13 font-weight-bold'>" + _index + "</a>";
                         }
                         else {
                             return "<a href='javascript:void(0)' class='fs-13 font-weight-bold'>0" + _index + "</a>";
                         }
                     }
                 },
                 {
                     "mData": "adde_for_name",
                     "className": 'text-left',

                 },
                 {
                     "mData": "adde_notes",
                     "className": 'text-left',

                 },
                 {
                     "mData": "adde_date_created",
                     "className": "text-left",
                     "render": function (data) {
                         return moment(data).format('DD-MM-YYYY')
                     }
                 },

             ],
             order: [[1, 'asc']],
             "searching": false,
             scrollX: true,
             scrollY: 500,
             "bPaginate": false,
             "bLengthChange": false,
             "bInfo": false,
         });
         table.buttons().container().appendTo('#tbl_addendum_wrapper .col-md-6:eq(0)');
     };
 //#endregion Bind Datatable
    //#region Alert Timeout
        function Timeout() {
            window.setTimeout(function () {
                $(".alert").fadeTo(500, 0).slideUp(500, function () {
                    $(this).remove();
                });
            }, 4200);
        }
    //#endregion Alert Timeout
    //#region Resize Datatable
        function resizedt() {
            setTimeout(function () {
                $.fn.dataTable.tables({ visible: true, api: true }).columns.adjust();
            }, 350);
        }
    //#endregion Resize Datatable

</script>


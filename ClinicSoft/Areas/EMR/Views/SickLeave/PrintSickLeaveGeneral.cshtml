@using BusinessEntities;
@model BusinessEntities.EMR.SickLeaveGeneral
@{
    ViewBag.Title = "Print Invoice";
    Layout = "~/Areas/EMR/Views/Shared/_EMR_Layout.cshtml";
    EMRInfo emr = (EMRInfo)TempData["emr_data"];
    TempData.Keep("emr_data");
}
<div class="row mb-2 mt-2 text-center">
    <div class="col-md-12">
        <button id="btnPrint" type="button" onclick="printDiv('printDiv')" class="btn btn-primary d-print-none"><i class="si si-printer"></i> Print</button>
    </div>
</div>
<div class="row" id="printDiv">
    <div class="col-md-12">
        <div class="card overflow-hidden">
            <div class="card-body">
                <div class="text-center">
                    <img src="@Model.set_header_image" />
                </div>
                <div class="row ">
                    <div class="col-sm-12 col-md-12 col-lg-12">
                        <div class="row">
                            <div class="col-sm-6 col-md-6 col-lg-6">
                                <div>
                                    <h4 class="page-title mb-0 text-primary">
                                        Sick Leave (General)
                                    </h4>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-12 col-md-6 col-lg-12">
                                <div class="row border ">
                                    <div class="col-sm-12 col-md-12 col-lg-12">
                                        <div class="row">
                                            <div class="col-sm-2 col-md-2 col-lg-2">
                                                <div class="form-group mb-3"><label class="form-label text-black text-align-left"> Patient Name:&nbsp;</label></div>
                                            </div>
                                            <div class="col-sm-2 col-md-2 col-lg-2">
                                                <label class="form-label text-red text-left text-capitalize">@emr.pat_name&nbsp;</label>
                                            </div>
                                            <div class="col-sm-2 col-md-2 col-lg-2">
                                                <div class="form-group mb-3"><label class="form-label text-black"> Emirates ID:&nbsp;</label></div>
                                            </div>
                                            <div class="col-sm-6 col-md-6 col-lg-6">
                                                <label class="form-label text-red text-left">@emr.pat_emirateid&nbsp;</label>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-sm-2 col-md-2 col-lg-2">
                                                <div class="form-group mb-3 text-align-left"><label class="form-label text-black ">File No :&nbsp;</label></div>

                                            </div>

                                            <div class="col-sm-2 col-md-2 col-lg-2">
                                                <label class="form-label text-red text-left">@emr.pat_code&nbsp;</label>
                                            </div>
                                            <div class="col-sm-2 col-md-2 col-lg-2">
                                                <div class="form-group mb-3"><label class="form-label text-black"> DOB&nbsp;</label></div>

                                            </div>
                                            <div class="col-sm-2 col-md-2 col-lg-2">
                                                <label class="form-label text-red text-left">@emr.pat_dob&nbsp;</label>
                                            </div>

                                            <div class="col-sm-2 col-md-2 col-lg-2">
                                                <div class="form-group mb-3"><label class="form-label text-black"> Nationality:&nbsp;</label></div>
                                            </div>
                                            <div class="col-sm-2 col-md-2 col-lg-2">
                                                <label class="form-label text-red text-left">@emr.pat_nationality&nbsp;</label>
                                            </div>

                                        </div>
                                        <div class="row">
                                            <div class="col-sm-2 col-md-2 col-lg-2">
                                                <div class="form-group mb-3"><label class="form-label text-black">Gender&nbsp;</label></div>

                                            </div>

                                            <div class="col-sm-2 col-md-2 col-lg-2">
                                                <label class="form-label text-red text-left">@emr.pat_gender&nbsp;</label>
                                            </div>
                                            <div class="col-sm-2 col-md-2 col-lg-2">
                                                <div class="form-group mb-3"><label class="form-label text-black">Doctor's Name	:&nbsp;</label></div>

                                            </div>
                                            <div class="col-sm-2 col-md-2 col-lg-2">
                                                <label class="form-label text-red text-left">@emr.doc_name&nbsp;</label>
                                            </div>

                                            <div class="col-sm-2 col-md-2 col-lg-2">
                                                <div class="form-group mb-3"><label class="form-label text-black">Date&nbsp;</label></div>
                                            </div>
                                            <div class="col-sm-2 col-md-2 col-lg-2">
                                                <label class="form-label text-red text-left">@emr.app_fdate&nbsp;</label>
                                            </div>

                                        </div>
                                    </div>
                                </div>

                            </div>
                        </div>
                        <div class="row mb-5 mt-5">
                            <div class="col-sm-12 col-md-6 col-lg-12">
                                <div class="text-justify fs-14">
                                    This is to certify that the above-named patient is suffering from &nbsp;
                                    <label class="text-black text-left" id="ppat_Diagnosis" name="">&nbsp;</label>&nbsp;
                                    and he/she is getting treatment since &nbsp;
                                    <label>@Model.sl_date1.ToString("dd/MM/yyyy")&nbsp;</label>
                                    He/she is not fit for work and advised to take rest for &nbsp;
                                    <label>@Model.sl_rest&nbsp;</label>
                                    Days with effect from&nbsp;
                                    <label>@Model.sl_date2.ToString("dd/MM/yyyy")&nbsp;</label>

                                </div>


                            </div>
                        </div>
                        <div class="col-sm-12 col-md-12 col-lg-12">
                            <div class="form-group mb-3">
                                <p style="text-align:justify">
                                    Sincerely Yours,
                                </p>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-11 col-md-12 col-lg-4">
                                <span class="text-capitalize text-left text-red">@emr.doc_name&nbsp;</span>
                                <span class="text-capitalize text-left text-red">@emr.emp_license&nbsp;</span>
                                <label class="form-label mb-2">
                                    Doctor Name & Licence
                                </label>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-11 col-md-12 col-lg-4">
                                <img alt="stamp" src="@emr.doc_sign" id="doc_sign" class="avatar avatar-xl bsquare" />
                                <label class="form-label mb-2">
                                    Signature/Stamp
                                </label>
                            </div>
                        </div>

                    </div>
                </div>
                <div class="text-center">
                    <img src="@Model.set_footer_image" />
                </div>
            </div>
        </div>
    </div>
</div>
<script type="text/javascript">

    function printDiv(divName) {
        var printContents = document.getElementById(divName).innerHTML;
        var originalContents = document.body.innerHTML;
        document.body.innerHTML = printContents;
        window.print();
        document.body.innerHTML = originalContents;
    }
    $(function () {
        Get_AllPatientDiagnosis();
    });
  //#region Load Get All Diagnosis
    var Get_AllPatientDiagnosis = function () {
        $.ajax({
            type: "GET",
            url: "@Url.Action("GetAllPatientDiagnosis", "ReimbursementForms", new { area = "EMRForms" })?appId=" + "@emr.appId" + "&patId=" + @emr.patId,
            success: function (response) {
                if (response.length > 0) {
                    $('#ppat_Diagnosis').text(response[0].Diagnosis);
                }
            },
            error: function (xhr) {
                console.log(xhr);
            }
        })
    }
//#endregion
</script>

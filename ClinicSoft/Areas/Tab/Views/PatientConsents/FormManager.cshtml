@model BusinessEntities.Tab.FormManager

@{
    ViewBag.Title = "Form Manager";
}

<style type="text/css">
    #sizeFM {
        max-width: 600px;
    }
</style>

<div class="modal-header py-3 px-4">
    <h5 class="modal-title text-primary font-weight-semibold">Form Manager for Visit ID : <span class="text-dark">@Model.appId</span></h5>
    <button type="button" class="btn-close btnCloseCreate" data-bs-dismiss="modal" aria-label="Close">
        <span aria-hidden="true">&times;</span>
    </button>
</div>

<div class="modal-body p-4">
    <div class="row mt-5">
        <div class="col-lg-12 col-md-12">
            <div class="card">
                <div class="card-body shadow-lg rounded-3">
                    <svg xmlns="http://www.w3.org/2000/svg" height="24px" width="24px" fill="currentColor" class="card-custom-icon header-icon bi bi-file-earmark-text" viewBox="0 0 16 16">
                        <path d="M5.5 7a.5.5 0 0 0 0 1h5a.5.5 0 0 0 0-1zM5 9.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5m0 2a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 0 1h-2a.5.5 0 0 1-.5-.5" />
                        <path d="M9.5 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V4.5zm0 1v2A1.5 1.5 0 0 0 11 4.5h2V14a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1z" />
                    </svg>
                    <p class=" mb-1 text-white">Forms</p>
                    <a class="nav-link" onclick="viewGeneralConsentForms(@Model.appId)" href="javascript:void(0)"><h2 class="mb-1 font-weight-semibold">General Consent Forms</h2></a>
                    <span class="mb-1 text-white"><span class="text-white"><i class="fa fa-caret-up  me-1"></i> 0.8%</span> Forms</span>
                </div>
            </div>
        </div>

        <div class="col-lg-12 col-md-12">
            <div class="card">
                <div class="card-body shadow-lg rounded-3">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="card-custom-icon header-icon bi bi-clipboard2-pulse" viewBox="0 0 16 16">
                        <path d="M9.5 0a.5.5 0 0 1 .5.5.5.5 0 0 0 .5.5.5.5 0 0 1 .5.5V2a.5.5 0 0 1-.5.5h-5A.5.5 0 0 1 5 2v-.5a.5.5 0 0 1 .5-.5.5.5 0 0 0 .5-.5.5.5 0 0 1 .5-.5z" />
                        <path d="M3 2.5a.5.5 0 0 1 .5-.5H4a.5.5 0 0 0 0-1h-.5A1.5 1.5 0 0 0 2 2.5v12A1.5 1.5 0 0 0 3.5 16h9a1.5 1.5 0 0 0 1.5-1.5v-12A1.5 1.5 0 0 0 12.5 1H12a.5.5 0 0 0 0 1h.5a.5.5 0 0 1 .5.5v12a.5.5 0 0 1-.5.5h-9a.5.5 0 0 1-.5-.5z" />
                        <path d="M9.979 5.356a.5.5 0 0 0-.968.04L7.92 10.49l-.94-3.135a.5.5 0 0 0-.926-.08L4.69 10H4.5a.5.5 0 0 0 0 1H5a.5.5 0 0 0 .447-.276l.936-1.873 1.138 3.793a.5.5 0 0 0 .968-.04L9.58 7.51l.94 3.135A.5.5 0 0 0 11 11h.5a.5.5 0 0 0 0-1h-.128z" />
                    </svg>
                    <p class=" mb-1 text-white">Forms</p>
                    <a class="nav-link" onclick="viewTreatmentForms(@Model.appId)" href="javascript:void(0)">
                        <h2 class="mb-1 font-weight-semibold">Treatment Consent Forms</h2>
                    </a>
                    <span class="mb-1 text-white"><span class="text-white"><i class="fa fa-caret-up  me-1"></i> 19.8</span> Forms</span>
                </div>
            </div>
        </div>

        @{
            if (Model.app_type == "Insurance")
            {
                <div class="col-lg-12 col-md-12">
                    <div class="card">
                        <div class="card-body shadow-lg rounded-3">
                            <svg xmlns="http://www.w3.org/2000/svg" height="24px" width="24px" fill="currentColor" class="card-custom-icon header-icon bi bi-file-medical" viewBox="0 0 16 16">
                                <path d="M8.5 4.5a.5.5 0 0 0-1 0v.634l-.549-.317a.5.5 0 1 0-.5.866L7 6l-.549.317a.5.5 0 1 0 .5.866l.549-.317V7.5a.5.5 0 1 0 1 0v-.634l.549.317a.5.5 0 1 0 .5-.866L9 6l.549-.317a.5.5 0 1 0-.5-.866l-.549.317zM5.5 9a.5.5 0 0 0 0 1h5a.5.5 0 0 0 0-1zm0 2a.5.5 0 0 0 0 1h5a.5.5 0 0 0 0-1z" />
                                <path d="M2 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2zm10-1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1" />
                            </svg>
                            <p class=" mb-1 text-white">Forms</p>
                            <a class="nav-link" onclick="viewClaimForms(@Model.appId)" href="javascript:void(0)">
                                <h2 class="mb-1 font-weight-semibold">Claim Forms</h2>
                            </a>
                            <span class="mb-1 text-white"><span class="text-white"><i class="fa fa-caret-up  me-1"></i> 0.8%</span> Forms</span>
                        </div>
                    </div>
                </div>

                <div class="col-lg-12 col-md-12">
                    <div class="card">
                        <div class="card-body shadow-lg rounded-3">
                            <svg xmlns="http://www.w3.org/2000/svg" height="24px" width="24px" fill="currentColor" class="card-custom-icon header-icon bi bi-journal-medical" viewBox="0 0 16 16">
                                <path fill-rule="evenodd" d="M8 4a.5.5 0 0 1 .5.5v.634l.549-.317a.5.5 0 1 1 .5.866L9 6l.549.317a.5.5 0 1 1-.5.866L8.5 6.866V7.5a.5.5 0 0 1-1 0v-.634l-.549.317a.5.5 0 1 1-.5-.866L7 6l-.549-.317a.5.5 0 0 1 .5-.866l.549.317V4.5A.5.5 0 0 1 8 4M5 9.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5m0 2a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5" />
                                <path d="M3 0h10a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2v-1h1v1a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H3a1 1 0 0 0-1 1v1H1V2a2 2 0 0 1 2-2" />
                                <path d="M1 5v-.5a.5.5 0 0 1 1 0V5h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1zm0 3v-.5a.5.5 0 0 1 1 0V8h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1zm0 3v-.5a.5.5 0 0 1 1 0v.5h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1z" />
                            </svg>
                            <p class="fs-13 mb-1 text-white">Forms</p>
                            <a class="nav-link" onclick="viewReiumbursementForms(@Model.appId)" href="javascript:void(0)">
                                <h2 class="mb-1 font-weight-semibold">Reiumbursement Forms</h2>
                            </a>
                            <span class="mb-1 text-white"><span class="text-white"><i class="fa fa-caret-down  me-1"></i> 43.2</span> Forms</span>
                        </div>
                    </div>
                </div>
            }
        }
    </div>
</div>

<script type="">
    //#region Page Load
    $(function () {

    });
    //#endregion

    //#region View General Consent Forms
    function viewGeneralConsentForms(appId) {
        $("#spinner2").show();

        $.ajax({
            url: "@Url.Action("GetTabPatientInfo", "PatientConsents", new { area = "Tab" })?appId=" + appId,
            method: "POST",
            dataType: "json",
            success: function (response) {
                if (response.result) {
                    window.open("@Url.Action("GeneralConsentForms", "ConsentForms", new { area = "Tab" })");
                }
                else {
                    console.log("Internal Server Error!");
                }
            },
            error: function (xhr) {
                console.log(xhr, xhr.statusText);

                $("#spinner2").hide();
            },
            complete: function () {
                $("#spinner2").hide();
            }
        });
    }
    //#endregion

    //#region View Claim Forms
    function viewClaimForms(appId) {
        $("#spinner2").show();

        $.ajax({
            url: "@Url.Action("GetTabPatientInfo", "PatientConsents", new { area = "Tab" })?appId=" + appId,
            method: "POST",
            dataType: "json",
            success: function (response) {
                if (response.result) {
                    window.open("@Url.Action("ClaimForms", "ConsentForms", new { area = "Tab" })");
                }
                else {
                    console.log("Internal Server Error!");
                }
            },
            error: function (xhr) {
                console.log(xhr, xhr.statusText);

                $("#spinner2").hide();
            },
            complete: function () {
                $("#spinner2").hide();
            }
        });
    }
    //#endregion

    //#region View Treatment Forms
    function viewTreatmentForms(appId) {
        $("#spinner2").show();

        $.ajax({
            url: "@Url.Action("GetTabPatientInfo", "PatientConsents", new { area = "Tab" })?appId=" + appId,
            method: "POST",
            dataType: "json",
            success: function (response) {
                if (response.result) {
                    window.open("@Url.Action("TreatmentForms", "ConsentForms", new { area = "Tab" })");
                }
                else {
                    console.log("Internal Server Error!");
                }
            },
            error: function (xhr) {
                console.log(xhr, xhr.statusText);

                $("#spinner2").hide();
            },
            complete: function () {
                $("#spinner2").hide();
            }
        });
    }
    //#endregion

    //#region View Reiumbursement Forms
    function viewReiumbursementForms(appId) {
        $("#spinner2").show();

        $.ajax({
            url: "@Url.Action("GetTabPatientInfo", "PatientConsents", new { area = "Tab" })?appId=" + appId,
            method: "POST",
            dataType: "json",
            success: function (response) {
                if (response.result) {
                    window.open("@Url.Action("ReiumbursementForms", "ConsentForms", new { area = "Tab" })");
                }
                else {
                    console.log("Internal Server Error!");
                }
            },
            error: function (xhr) {
                console.log(xhr, xhr.statusText);

                $("#spinner2").hide();
            },
            complete: function () {
                $("#spinner2").hide();
            }
        });
    }
    //#endregion
</script>
using BusinessEntities;
using System;
using System.Collections.Generic;
using System.Linq;
using System.Runtime.Remoting.Lifetime;
using System.Security.Policy;
using System.Text;
using System.Threading.Tasks;
using static System.Net.Mime.MediaTypeNames;
using System.Web.UI.WebControls;
using System.Configuration;
using System.IO;
using System.Reflection.Emit;
using DataAccessLayer.Masters;
using DataAccessLayer.EMR;
using BusinessEntities.Masters.Rights;
using BusinessEntities.EMR;

namespace BusinessLogicLayer.ConcentForms
{
    public class ConcentFormPDF
    {
        //CrownBridge
        public static string HtmlCrownBridge(int appId, EMRInfo emr, int setId)
        {
            BusinessEntities.ConsentForms.CrownBridge pdf = BusinessLogicLayer.ConcentForms.CrownBridge.GetCrownBridgeData(appId).FirstOrDefault();
            BusinessEntities.Common.eSignature psign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "patient", "CrownBridge").FirstOrDefault();
            BusinessEntities.Common.eSignature wsign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "witness", "CrownBridge").FirstOrDefault();
            BusinessEntities.Common.PDFHeaderFooter hf = BusinessLogicLayer.Common.PDF.GetHeaderFooterByBranch(setId);

            string header = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "header_images", hf.header.ToString());
            string footer = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "footer_images", hf.footer.ToString());

            StringBuilder sb = new StringBuilder();

            string pdfIcc1 = pdf.icc_4;
            string radioHtml1 = "<input type='radio'  class='custom-control-input' name='icc_4' value='Yes' id='1'> <span class='custom-control-label'>I have been given the opportunity to ask questions and give my consent for the proposed treatment as Described above.</span>";
            string radioHtml2 = "<input type='radio' class='custom-control-input' name='icc_4' value='No' id='2'> <span class='custom-control-label'>I refuse to give my consent for the proposed treatment(s) as described above and have been explained the potential consequences associated with this refusal.</span>";

            if (pdfIcc1 == "Yes")
            {
                radioHtml1 = radioHtml1.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdfIcc1 == "No")
            {
                radioHtml2 = radioHtml2.Replace("<input type='radio'", "<input type='radio' checked");
            }

            sb.Append("<html>");
            sb.Append("    <head><title> <u>Informed Consent for Crown and Bridge Prosthetics</u></title></head>");
            sb.Append("    <body style='font-family: Verdana, Geneva, Tahoma, sans-serif;'>");

            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + header + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'  colspan='9'>");
            sb.Append("            <h1>INFORMED CONSENT FOR CROWN AND BRIDGE PROSTHETICS</h1>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Patient Name</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000' colspan='4'>" + emr.pat_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Emirates ID</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_emirateid + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>File No</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_code + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>DOB</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_dob + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Nationality</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_nationality + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Gender</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_gender + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Doctor's Name</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.doc_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Date</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.app_fdate + "</td>");
            sb.Append("    </tr>");
            sb.Append("</table>");

            sb.Append("<div style='width:100%; text-align:justify; font-size: 12px; margin-top: 50px;margin-bottom: 50px;'>");

            sb.Append("<table style='width:100%; font-size:12px; border:0 solid #000000'>");
            sb.Append("  <tr>");
            sb.Append("      <td style='width:50%;'>Tooth(s) # :" + pdf.icc_1 + "</td>");
            sb.Append("      <td style='width:50%;'>Bridge(s) # :" + pdf.icc_2 + "</td>");
            sb.Append("  </tr>");
            sb.Append("</table>");
            sb.Append("<p style='text-align:justify;'>I have been advised of and understand that treatment of dental conditions requiring crowns and / or fixed bridgework involves certain risks and possible unsuccessful results, including the possibility of failure. Even when care and diligence is exercised in the treatment of conditions requiring crowns and bridgework and fabrication of the same, there are no promises or guarantees of anticipated results or the length of time the crown and / or fixed bridgework will last. I agree to assume the risks associated with crowns and / or fixed bridgework, which include but are not limited to the following:</p>");
            sb.Append("<ol>");
            sb.Append("  <li>");
            sb.Append("    <u style='text-align:justify;'> Reduction of tooth structure:</u>");
            sb.Append("    <p style='text-align:justify;'> To replace decayed or otherwise traumatized teeth, it is necessary to modify the existing tooth or teeth so that crowns(caps) and / or bridges may be placed upon them.Tooth preparation will be done as conservatively as practical, but I understand that normally at least some of my existing tooth structure will be removed.</p>");
            sb.Append("  </li>");
            sb.Append("  <li>");
            sb.Append("    <u style='text-align:justify;'>Injury: </u>");
            sb.Append("    <p style='text-align:justify;'>During the reduction of tooth structure or adjustments done to temporary restorations, it is possible for the tongue, cheek or other oral tissues to be inadvertently abraded or lacerated (cut). </p>");
            sb.Append("  </li>");
            sb.Append("  <li>");
            sb.Append("    <u style='text-align:justify;'>Numbness following use of anesthesia: </u>");
            sb.Append("    <p style='text-align:justify;'>In order to reduce tooth structure without causing undue pain during the procedure, it is necessary to administer local anesthetic. Such administration may cause reactions or side effects, which include, but are not limited to, bruising, hematoma, cardiac stimulation, temporary or, rarely permanent numbness of the tongue, lips, teeth, jaws, and / or facial tissues and muscle soreness. </p>");
            sb.Append("  </li>");
            sb.Append("  <li>");
            sb.Append("    <u style='text-align:justify;'>Sensitivity of teeth: </u>");
            sb.Append("    <p style='text-align:justify;'>Often, after the preparation of teeth for the reception of either crowns or bridges, the teeth may exhibit sensitivity, which can range from milk to severe. The sensitivity may last only for a short period of time or may last for much longer periods. If it is persistent, notify us so that we can determine the cause of the sensitivity and seek to treat that condition. </p>");
            sb.Append("  </li>");
            sb.Append("  <li>");
            sb.Append("    <u style='text-align:justify'>Following crown preparation and placement for either individual teeth or bridge abutments, the involved tooth or teeth may require root canal treatment: </u>");
            sb.Append("    <p style='text-align:justify;'>Teeth,after being crowned, may develop a condition known as pulpitis or pulpal degeneration. Usually this cannot be predetermined. The tooth or teeth may been traumatized from an accident, deep decay, extensive preparation, or other causes. It is often necessary to do root canal treatments in these teeth, particularly if teeth remain appreciably sensitive for a long period of time following crowning. Infrequently, the tooth (teeth) may abscess or otherwise not heal completely. In this event, periapical surgery or even extraction may be necessary. </p>");
            sb.Append("  </li>");
            sb.Append("    <span style='text-align:justify;'>Patient's Initials:" + pdf.icc_3 + "</span>");
            sb.Append("    <br/><br/>");
            sb.Append("  <li>");
            sb.Append("    <u style='text-align:justify;'> Breakage:</u>");
            sb.Append("    <p style='text-align:justify;'>Crowns and bridges may possibly chip and break. Many factors could contribute to this situation such as chewing excessively hard materials, changes in biting forces, traumatic blows to the mouth etc. Undetectable cracks may develop in crowns from these causes, but the crowns / bridges themselves may not actually break until sometime later. Breakage or chipping because of defective materials or construction is somewhat uncommon. If it occurs, it usually occurs soon after placement. </p>");
            sb.Append("  </li>");
            sb.Append("  <li>");
            sb.Append("    <u style='text-align:justify;'>Uncomfortable or strange feeling: </u>");
            sb.Append("    <p style='text-align:justify;'>Crowns and bridges are artificial and therefore feel different from natural teeth. Most patients become accustomed to this feeling over time. In limited situations, muscle soreness or tenderness of the temporomandibular (TMI)-jawjoint-may persist for indeterminable periods of time, following placement of the prosthesis. </p>");
            sb.Append("  </li>");
            sb.Append("  <li>");
            sb.Append("    <u style='text-align:justify;'>Esthetics or appearance: </u>");
            sb.Append("    <p style='text-align:justify;'>Patients will be given the opportunity to observe the appearance of crowns and bridges in place prior to final cementation. When satisfactory, this fact is acknowledged by an entry into the patients chart initialed by the patient. </p>");
            sb.Append("  </li>");
            sb.Append("  <li>");
            sb.Append("    <u style='text-align:justify;'>Longevity of crowns and bridges: </u>");
            sb.Append("    <p style='text-align:justify;'>Many variables determine how long crowns and bridges can be expected to last. Among these are of the factors mentioned in the preceding paragraphs, including the general health of the patient, oral hygiene, regular dental checkups and diet. As a result, no guarantees can be made or assumed to be made regarding the longevity of the crowns and bridges. </p>");
            sb.Append("  </li>");
            sb.Append("  <li>");
            sb.Append("    <span style='text-align:justify;'>I consent to photography, filming, recording, and x-rays of the procedure. </span>");
            sb.Append("    <p style='text-align:justify;'>It is the patient's responsibility to seek attention from the dentist should any undue or unexpected problems occur. The patient must diligently follow any and all instructions, including the scheduling and attending all appointments. Failure to keep the cementations appointments can result in ultimate failure of the crown / bridge to fit properly. </p>");
            sb.Append("    <p style='text-align:justify;'>You have the right to refuse or discontinue treatment. You will be informed about the consequence of your decision to refuse or discontinue treatment and about available care and the treatment alternatives. </p>");
            sb.Append("  </li>");
            sb.Append("</ol>");
            sb.Append("    <u style='text-align:justify;'>Informed Consent: </u>");
            sb.Append("    <p style='text-align:justify;'>I have been given the opportunity to ask any questions regarding the nature and purpose of crown and / or bridge treatment and have received answers to my satisfaction. I voluntarily assume any and all possible risks, including risk of substantial harm, if any, which may be associated with any phase of this treatment in hopes of obtaining the desired result, which may or may not be achieved. The fee (s) (if applicable), for this service have been explained to me and are satisfactory. By signing this form, I am freely giving my consent to allow and authorize Dr." + emr.doc_name + " and / or his associates to render treatment and administering or any medications and / or anesthetics deemed necessary for my treatment. </p>");
            sb.Append(radioHtml1);
            sb.Append("<br>");
            sb.Append(radioHtml2);
            sb.Append("</div>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;'  colspan='3'>");
            sb.Append("            <p>Sign here, only if all of your questions have been answered to your satisfaction</p>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("            Patient");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 34%;'>");
            sb.Append("            Witness");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("            Dentist");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000'>");
            sb.Append("            <img src='" + psign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000'>");
            sb.Append("            <img src='" + wsign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;'>");
            sb.Append("            <img src='" + emr.doc_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000;border-top:1px solid #000000;'>");
            sb.Append("            Patient Name");
            sb.Append("             <br/>" + emr.pat_name + "<br/>");
            sb.Append("<br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000;border-top:1px solid #000000;'>");
            sb.Append("<br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-top:1px solid #000000;'>");
            sb.Append("            " + emr.app_doctor_department + "<br/>");
            sb.Append("<br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("</table>");

            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + footer + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");
            sb.Append("    </body>");
            sb.Append("</html>");

            String htmlString = sb.ToString();

            return htmlString;
        }

        //DentalSurgery
        public static string HtmlDentalSurgery(int appId, EMRInfo emr, int setId)
        {

            BusinessEntities.ConcentForms.DentalSurgery pdf = BusinessLogicLayer.ConcentForms.DentalSurgery.GetDentalSurgeryData(appId).FirstOrDefault();
            BusinessEntities.Common.eSignature psign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "patient", "DentalSurgery").FirstOrDefault();
            BusinessEntities.Common.eSignature wsign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "witness", "DentalSurgery").FirstOrDefault();
            BusinessEntities.Common.PDFHeaderFooter hf = BusinessLogicLayer.Common.PDF.GetHeaderFooterByBranch(setId);

            string header = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "header_images", hf.header.ToString());
            string footer = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "footer_images", hf.footer.ToString());


            StringBuilder sb = new StringBuilder();

            sb.Append("<html>");
            sb.Append("    <head><title> <u>PATIENT CONSENT FOR DENTAL SURGERY</u></title></head>");
            sb.Append("    <body style='font-family: Verdana, Geneva, Tahoma, sans-serif;'>");

            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + header + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000' colspan='9'>");
            sb.Append("            <h1>PATIENT CONSENT FOR DENTAL SURGERY</h1>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Patient Name</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000' colspan='4'>" + emr.pat_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Emirates ID</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_emirateid + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>File No</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_code + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>DOB</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_dob + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Nationality</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_nationality + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Gender</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_gender + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Doctor's Name</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.doc_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Date</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.app_fdate + "</td>");
            sb.Append("    </tr>");
            sb.Append("</table>");

            sb.Append("<div style='width:100%; text-align:justify; font-size: 12px; margin-top: 50px;margin-bottom: 50px;'>");
            sb.Append("<ol>");
            sb.Append("<li><p>I, the undersigned, hereby consent to" + emr.doc_name + " performing the following procedure(s):<br/>" + pdf.pds_1 + "</p></li>");
            sb.Append("<li><p>I acknowledge that the procedure(s), its implications and possible complications have been explained to me, along with the alternatives including not having any treatment.</p></li>");
            sb.Append("<li><p>I have been advised of possible complications of this procedure that are able to be reasonably anticipated, which are:</p>");
            sb.Append("<ul style='list-style-type:disc;'>");
            sb.Append("<li><p>Injury to a nerve, resulting in numbness or tingling of the chin, lip, cheek, gums, and/or tongue to the operated side. This may persist for several weeks, months, or, in remote instances, permanently.</p></li>");
            sb.Append("<li><p>Postoperative infection requiring additional treatment.</p></li>");
            sb.Append("<li><p>Opening of the sinus (a normal cavity situated above the upper teeth) requiring additional surgery.</p></li>");
            sb.Append("<li><p>Restricted mouth opening for several days or weeks, with possible dislocation of the Temporomandibular (jaw) joint.</p></li>");
            sb.Append("<li><p>Injury to adjacent teeth and fillings.</p></li>");
            sb.Append("<li><p>In rare circumstances, breakage of the jaw.</p></li>");
            sb.Append("<li><p>Postoperative discomfort, swelling, and bleeding that may necessitate several days of recuperation.</p></li>");
            sb.Append("<li><p>Decision to leave a small piece of root in the jaw when its removal requires extensive surgery.</p></li>");
            sb.Append("<li><p>Stretching of the corners of the mouth with resultant cracking and bruising.</p></li>");
            sb.Append("</ul>");
            sb.Append("<p><u>Wisdom Teeth Extractions (in addition to the above):</u></p>");
            sb.Append("<p>Unforeseen conditions may arise during the procedure that requires a different procedure than as set forth above. Upon my consent, I will authorize the doctor and any associates to perform such procedures when, in their professional judgment, they are necessary.</p>");
            sb.Append("<p>I understand that the medications, drugs, anesthetic, and prescriptions taken for this procedure may cause drowsiness and lack of awareness and coordination. I also understand that I should not consume alcohol or other drugs because they can increase these effects.I have been advised not to work and not to operate any vehicle, automobile, or hazardous devices while taking such medication s until I am fully recovered from their effects. I have also been advised not to smoke for two weeks after the surgery. By signing below,I give my permission for the anesthetic and oral surgical procedures agreed upon by myself and Dr. Rena. The proposed surgery and risks have been fully explained to my satisfaction and I have had the opportunity to ask questions. I also verify that to my knowledge I have given an accurate report of my physical and mental health history. I have also reported any prior allergic or unusual reactions to drugs, food, insect bites, anesthetics, pollens, dust, blood or body diseases, gum or skin reactions, abnormal bleeding or any other conditions related to my health</p>");
            sb.Append("</li>");
            sb.Append("<li><p>I acknowledge receiving a copy of the post-operative instructions, which have been explained to me. I understand all the advice given to me by my Dental Surgeon. After my discharge, I will notify my dentist if I experience any acute pain, heavy bleeding from the surgical site, respiratory problems, or any other post-operative problems.</p></li>");
            sb.Append("<li><p>I understand that no guarantee can be given of the results of surgery on the human body, but that the doctor and office staff will do their best to achieve excellent results.</p></li>");
            sb.Append("<li><p>consent to photography, filming, recording, and x-rays of the procedure to be performed for the advancement of implant dentistry, provided my identity is not revealed.</p></li>");
            sb.Append("<li><p>I request and authorize medical/dental services for me, including implants and other surgery. I fully understand that during, and following the contemplated procedure, surgery, or treatment,conditions may become apparent which warrant, in the judgment of the doctor, additional or alternative treatment pertinent to the success of comprehensive treatment. I also approve any modification in design, materials, or care, if it is felt this is for my best interest.</p></li>");
            sb.Append("<p>Patients Initial's:" + pdf.pds_2 + "</p>");
            sb.Append("<li><p>I certify that I have read or had read to me the contents of this form. I have read or had read to me and will follow any patient instructions related to this procedure.I understand the potential risks, complications and side effects involved with any dental treatment or procedure and have decided to proceed with this procedure after considering the possibility of both known and unknown risks, complications, side effects and alternatives to the procedure. I declare that I have had the opportunity to ask questions and all of my questions have been answered to my satisfaction.You have the right to refuse or discontinue treatment. You will be informed about the consequence of your decision to refuse or discontinue treatment and about available care and the treatment alternatives.</p></li>");
            sb.Append("</ol>");
            sb.Append("</div>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;'  colspan='3'>");
            sb.Append("            <p>Sign here, only if all of your questions have been answered to your satisfaction</p>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("             Patient/Parent/Guardian");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 34%;'>");
            sb.Append("            Witness");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("            Dental Surgeon");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000'>");
            sb.Append("            <img src='" + psign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000'>");
            sb.Append("            <img src='" + wsign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;'>");
            sb.Append("            <img src='" + emr.doc_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000;border-top:1px solid #000000;'>");
            sb.Append("            If Guardian, relation to the Patient ");

            if (string.IsNullOrEmpty(pdf.pds_3))
            {
                sb.Append(" N/A ");
            }
            else
            {
                sb.Append("<br/>" + pdf.pds_3);
            }

            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000;border-top:1px solid #000000;'>");
            sb.Append("            Witness Name");
            sb.Append("             <br/>" + pdf.pds_4);
            sb.Append("             <br/><br/> Witness ID");
            sb.Append("             <br/>" + pdf.pds_5);
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-top:1px solid #000000;'>");
            sb.Append("Doctor Name<br/>");
            sb.Append("            " + emr.app_doctor_department + "<br/>");
            sb.Append("<br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("</table>");

            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + footer + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    </body>");
            sb.Append("</html>");

            String htmlString = sb.ToString();

            return htmlString;
        }

        //OrthodonticConsent
        public static string HtmlOrthodonticConsent(int appId, EMRInfo emr, int setId)
        {
            BusinessEntities.ConcentForms.OrthodonticConsent pdf = BusinessLogicLayer.ConcentForms.OrthodonticConsent.GetOrthodonticConsentData(appId).FirstOrDefault();
            BusinessEntities.Common.eSignature psign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "patient", "OrthodonticConsent").FirstOrDefault();
            BusinessEntities.Common.eSignature wsign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "witness", "OrthodonticConsent").FirstOrDefault();
            BusinessEntities.Common.PDFHeaderFooter hf = BusinessLogicLayer.Common.PDF.GetHeaderFooterByBranch(setId);

            string header = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "header_images", hf.header.ToString());
            string footer = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "footer_images", hf.footer.ToString());

            StringBuilder sb = new StringBuilder();

            string pdfCoce1 = pdf.coce_1;
            string radioHtml1 = "<input type='radio' class='custom-control-input' name='coce_1' value='Yes' id='1'> <span class='custom-control-label'>I have been given the opportunity to ask questions and give my consent for the proposed treatment as Described above.</span>";
            string radioHtml2 = "<input type='radio' class='custom-control-input' name='coce_1' value='No' id='2'> <span class='custom-control-label'>I refuse to give my consent for the proposed treatment(s) as described above and have been explained the potential consequences associated with this refusal.</span>";

            if (pdfCoce1 == "Yes")
            {
                radioHtml1 = radioHtml1.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdfCoce1 == "No")
            {
                radioHtml2 = radioHtml2.Replace("<input type='radio'", "<input type='radio' checked");
            }

            sb.Append("<html>");
            sb.Append("    <head><title> <u>PATIENT CONSENT TO BEGIN ORTHODONTIC TREATMENT</u></title></head>");
            sb.Append("    <body style='font-family: Verdana, Geneva, Tahoma, sans-serif;'>");

            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + header + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'  colspan='9'>");
            sb.Append("            <h1>PATIENT CONSENT TO BEGIN ORTHODONTIC TREATMENT</h1>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Patient Name</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000' colspan='4'>" + emr.pat_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Emirates ID</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_emirateid + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>File No</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_code + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>DOB</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_dob + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Nationality</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_nationality + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Gender</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_gender + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Doctor's Name</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.doc_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Date</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.app_fdate + "</td>");
            sb.Append("    </tr>");
            sb.Append("</table>");

            sb.Append("<div style='width:100%; text-align:justify; font-size: 12px; margin-top: 50px;margin-bottom: 50px;'>");
            sb.Append("<p style='text-align:justify;'>The following information is routinely supplied to anyone considering Orthodontic treatment in our Clinic. While recognizing the benefits of a pleasing smile and healthy teeth, you should also be aware that Orthodontic treatment, like any other treatment of the body, has some inherent risks and limitations.These are seldom enough to contra-indicate treatment, but should be considered in making a decision to start Orthodontics.</p>");
            sb.Append("<p style='text-align:justify;'>Please feel free to ask any questions during the treatment.</p>");
            sb.Append("<p><u style='text-align:justify;'> The patients responsibility:</p></u>");
            sb.Append("<ul>");
            sb.Append("<li>");
            sb.Append("<p style='text-align:justify;'>  It is the patient's responsibility to follow the brushing and oral hygiene instructions that are given, so that no harm will come to the teeth and surrounding tissues;</p>");
            sb.Append("</li>");
            sb.Append("<li>");
            sb.Append("<p style='text-align:justify;'>  To come to all appointments on the proper day and time;</p>");
            sb.Append("</li>");
            sb.Append("<li>");
            sb.Append("<p style='text-align:justify;'>  To wear headgear, elastics and retainers, if they are necessary, so that treatment tie will be as short as possible and so we can achieve the best results;</p>");
            sb.Append("</li>");
            sb.Append("<li>");
            sb.Append("<p style='text-align:justify;'>   There will be additional Orthodontic charges for replacement of appliances (such as retainers or braces) that are lost or damaged due to repeated patient neglect, or any excessive extension of treatment due to lack of patient co-operation;</p>");
            sb.Append("</li>");
            sb.Append("<li>");
            sb.Append("<p style='text-align:justify;'>  100% patient co-operation is very, very important.</p>");
            sb.Append("</li>");
            sb.Append("</ul>");
            sb.Append("    <u style='text-align:justify;'>Oral Hygiene: </u>");
            sb.Append("    <p style='text-align:justify;'>Decalcification (permanent marking), decay, or gum disease can occur if patients do not brush their teeth properly and thoroughly during treatment period. Excellent oral hygiene and plaque removal is a must. Sugars and between meal snacks should be reduced as much as possible.</p>");
            sb.Append("    <u style='text-align:justify;'>A non-vital or dead tooth is a possibility</u>");
            sb.Append("    <p style='text-align:justify;'>A tooth that has been traumatized from the deep filling or even a minor blow can die over a long period of time with or without Orthodontic treatment. An undetected non-vital tooth may flare up during Orthodontic movement, requiring endodontic (root canal) treatment to maintain in.</p>");
            sb.Append("    <u style='text-align:justify;'>Root Resorption:</u>");
            sb.Append("    <p style='text-align:justify;'>In some cases, the root ends of the teeth are shortened during treatment. This is called root resorption. Under healthy circumstances the shortened roots are no disadvantage. However, in the event of gum disease in later life the root resorption may reduce the longevity of the affected teeth. It should be noted that not all root resorption arises from Orthodontic treatment. Trauma, cuts, impaction, endocrine disorders, idiopathic reasons can also cause root resorption.</p>");
            sb.Append("    <u style='text-align:justify;'>Growth Issues:</u>");
            sb.Append("    <p style='text-align:justify;'>Occasionally a person who has grown normally and in average proportions may not continue to do so. If growth becomes disproportionate, the jaw relation can be affected and original treatment objectives may have to be compromised. Skeletal growth disharmony is a biologic process beyond the Orthodontist's control. Some orthodontic patients will require oral surgery to obtain a reasonable treatment result to complete their case. Most patients with poor growth, poor responses to treatment, or poor co-operation may also require oral surgery to complete their cases.</p>");
            sb.Append("    <u style='text-align:justify;'>Gum Tissues:</u>");
            sb.Append("    <p style='text-align:justify;'>The bone-gum relationship around teeth is always dependent upon whether there is enough bone to support the gum tissue properly. Many times when very crowded teeth are straightened there is a lack of bone and supporting gum tissues surrounding the teeth. Therefore, the gum tissue contour and support may not be adequate and require periodontal intervention</p>");
            sb.Append("    <u style='text-align:justify;'>Treatment Time:</u>");
            sb.Append("    <p style='text-align:justify;'>The total time for treatment can be delayed beyond our estimate. Lack of, or poorly directed facial growth, poor elastic wear, or headgear co-operation, broken appliances and missed appointments are all important factors that could lengthen treatment time ad affect the quality of the result.</p>");
            sb.Append("    <u style='text-align:justify;'>Extra-oral appliances:</u>");
            sb.Append("    <p style='text-align:justify;'>Instructions must be followed very carefully. A Facebow or Headgear that is pulled outward while elastic force is attached can cause damage to the face or eyes. However, we use appliances with a 'snap away' safety feature to reduce this possibility. Always remember to release the forces before removing the facebow from your teeth. To reduce the possibility of injury, contact sports and similar activities must not be performed while a headgear is worn.</p>");
            sb.Append("    <u style='text-align:justify;'>TMJ:</u>");
            sb.Append("    <p style='text-align:justify;'>There is a risk that problems may occur in the temporomandibular joints (TMJ). Although this is rare, it is a possibility. Tooth alignment or bite correction sometimes can improve tooth related causes of TMJ pain, but is not in all cases. Tension appears to play a role in the frequency and severity of joint pains, and there are many other causes of TMJ dysfunction.</p>");
            sb.Append("    <u style='text-align:justify;'>Very unusual occurrences:</u>");
            sb.Append("    <p style='text-align:justify;'>Swallowed appliances, chipped teeth, dislodged restorations and allergies to latex or nickel rarely occur but possible.</p>");
            sb.Append("    <u style='text-align:justify;'>Expectations:</u>");
            sb.Append("    <p style='text-align:justify;'>All orthodontic patients can expect improvement with their particular problem, but, in many cases, absolute perfection is impossible due to lack of muscle balance, tooth shapes and sizes and varying degrees of co-operation during treatment, along with heredity aspects that affects everyone's specific treatment results</p>");
            sb.Append("    <u style='text-align:justify;'>Relapse:</u>");
            sb.Append("    <p style='text-align:justify;'>Teeth have a tendency to return to their original position after orthodontic treatment. This is called relapse. Very severe problems have a higher tendency to relapse and the most common area for relapse is the lower front teeth. After band removal, a positioner or retainers are placed to minimize relapse. Full co-operation in wearing these appliances is vital. We will make our correction to the highest standards and in many cases over correct in order to accommodate the rebound tendencies. When retention is discontinued some relapse is still possible.</p>");
            sb.Append("    <p style='text-align:justify;'>I consent to the taking of photographs, study models and x-rays before, during and after orthodontic treatment to assist in the planning and progress treatment objectives. If the case proves to be of special scientific interest, the doctor reserves the right to present the records in scientific papers or demonstrations to the profession</p>");
            sb.Append("    <p style='text-align:justify;'>I certify that I have read or had read to me the contents of this Form and do realize the risks and limitations involved, and consent to orthodontic treatment.</p>");
            sb.Append("    <p style='text-align:justify;'>Teeth have a tendency to return to their original position after orthodontic treatment. This is called relapse. Very severe problems have a higher tendency to relapse and the most common area for relapse is the lower front teeth. After band removal, a positioner or retainers are placed to minimize relapse. Full co-operation in wearing these appliances is vital. We will make our correction to the highest standards and in many cases over correct in order to accommodate the rebound tendencies. When retention is discontinued some relapse is still possible.</p>");
            sb.Append("    <p style='text-align:justify;'>I will not hold the dentist, dental staff, or anyone associated with the dental practice responsible for changes in my overall health stemming from this condition. I have had the chance to ask questions and express concerns about my dental condition, the treatment options, and my refusal of treatment. The undersigned provider has answered all my questions and addressed all my concerns. I understand the full scope of the situation and am making an informed decision.</p>");
            sb.Append("    <u style='text-align:justify;'>Informed Consent:</u>");
            sb.Append("    <p style='text-align:justify;'>I have been given the opportunity to ask any questions regarding the nature and purpose of root canal treatment and have received answers to my satisfaction. I voluntarily assume any and all possible risks, including risk of substantial harm, if any, which may be associated with any phase of this treatment in hopes of obtaining the desired result, which may or may not be achieved. The fee (s) (if applicable), for this service have been explained to me and are satisfactory. By signing this form, I am freely giving my consent to allow and authorize Dr." + emr.doc_name + " and / or his / her associates to render treatment and administering or any medications and / or anesthetics deemed necessary for my treatment.</p>");
            sb.Append("    <p style='text-align:justify;'>I have been given the opportunity to ask any questions regarding the nature and purpose of crown and / or bridge treatment and have received answers to my satisfaction. I voluntarily assume any and all possible risks, including risk of substantial harm, if any, which may be associated with any phase of this treatment in hopes of obtaining the desired result, which may or may not be achieved. The fee (s) (if applicable), for this service have been explained to me and are satisfactory. By signing this form, I am freely giving my consent to allow and authorize Dr." + emr.doc_name + " and / or his associates to render treatment and administering or any medications and / or anesthetics deemed necessary for my treatment.</p>");
            sb.Append(radioHtml1);
            sb.Append("<br>");
            sb.Append(radioHtml2);
            sb.Append("</div>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;'  colspan='3'>");
            sb.Append("            <p>Sign here, only if all of your questions have been answered to your satisfaction</p>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("            Patient");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 34%;'>");
            sb.Append("            Witness");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("            Dentist");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000'>");
            sb.Append("            <img src='" + psign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000'>");
            sb.Append("            <img src='" + wsign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;'>");
            sb.Append("            <img src='" + emr.doc_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000;border-top:1px solid #000000;'>");
            sb.Append("            Patient Name");
            sb.Append("             <br/>" + emr.pat_name + "<br/>");
            sb.Append("<br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000;border-top:1px solid #000000;'>");
            sb.Append("<br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-top:1px solid #000000;'>");
            sb.Append("            " + emr.app_doctor_department + "<br/>");
            sb.Append("<br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("</table>");

            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + footer + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");
            sb.Append("    </body>");
            sb.Append("</html>");

            String htmlString = sb.ToString();

            return htmlString;
        }

        //ToothWhitening
        public static string HtmlToothWhitening(int appId, EMRInfo emr, int setId)
        {
            BusinessEntities.ConcentForms.ToothWhitening pdf = BusinessLogicLayer.ConcentForms.ToothWhitening.GetToothWhiteningData(appId).FirstOrDefault();
            BusinessEntities.Common.eSignature psign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "patient", "ToothWhitening").FirstOrDefault();
            BusinessEntities.Common.eSignature wsign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "witness", "ToothWhitening").FirstOrDefault();
            BusinessEntities.Common.PDFHeaderFooter hf = BusinessLogicLayer.Common.PDF.GetHeaderFooterByBranch(setId);

            string header = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "header_images", hf.header.ToString());
            string footer = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "footer_images", hf.footer.ToString());

            StringBuilder sb = new StringBuilder();


            sb.Append("<html>");
            sb.Append("    <head><title> <u>INFORMED CONSENT FOR TOOTH WHITENING TREATMENT</u></title></head>");
            sb.Append("    <body style='font-family: Verdana, Geneva, Tahoma, sans-serif;'>");

            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + header + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'  colspan='9'>");
            sb.Append("            <h1>INFORMED CONSENT FOR TOOTH WHITENING TREATMENT</h1>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Patient Name</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000' colspan='4'>" + emr.pat_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Emirates ID</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_emirateid + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>File No</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_code + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>DOB</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_dob + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Nationality</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_nationality + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Gender</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_gender + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Doctor's Name</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.doc_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Date</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.app_fdate + "</td>");
            sb.Append("    </tr>");
            sb.Append("</table>");

            sb.Append("<div style='width:100%; text-align:justify; font-size: 12px; margin-top: 50px;margin-bottom: 50px;'>");
            sb.Append("<p>This information's have been given to me so that I can make an informed decision about having my teeth whitened. I have the right to ask questions about any procedure before agreeing to undergo the procedure.</p>");
            sb.Append("    <u>DESCRIPTION OF THE PROCEDURE</u>");
            sb.Append("    <p>In-office tooth whitening is a procedure designed to lighten the color of my teeth using a hydrogen peroxide gel. During the procedure, the whitening gel will be applied to my teeth for three (3), 15minute sessionsbefore and after the treatment, the shade of my upper -front teeth will be assessed and recorded.</p>");
            sb.Append("    <u>ALTERNATIVE TREATMENTS:</u>");
            sb.Append("    <p>I understand there are alternative treatments for whitening my teeth for which my dentist can provide me additional information. These treatments include:Whitening Toothpastes/Gels, Take-Home Whitening Kits</p>");
            sb.Append("    <u>RISKS OF TREATMENT</u>");
            sb.Append("    <p>I also understand that whitening treatment results may vary or regress due to a variety of circumstances. I understand that almost all natural teeth can benefit from whiteningtreatments and significant whitening can be achieved in most cases. I understand that whitening treatments are not intended to lighten artificial teeth, caps, crowns, veneers or porcelain, composite or other restorative materials and that people with darkly stained yellow or yellow-brown teeth frequently achieve better results than people with gray or bluish-gray teeth. I understand that teeth with multiple colorations, bands, splotches or spots due to tetracycline use or fluorosis do not whiten as well, may need multipletreatments or may not whiten at all. I understand that teeth with many fillings, cavities, chips or cracks will not lighten and are usually best treated with other non-bleaching alternatives. I understand that Provisionals or temporaries made from acrylics may become discolored after exposure to treatment.</p>");
            sb.Append("    <p>I understand that treatment is not recommended for patients with known sensitivity to resins, peroxides or glycols.</p>");
            sb.Append("    <p>I understand that the results of my Treatment cannot be guaranteed.</p>");
            sb.Append("    <p>I understand that in-office whitening treatments are considered generally safe by most dental professionals. I understand that some of the potential complications of this treatment include, but are not limited to:</p>");
            sb.Append("    <u>Tooth Sensitivity/Pain-</u>");
            sb.Append("    <p>During the first 24 hours after treatment, many patients can experience some tooth sensitivity or pain. This is normal. Normally, tooth sensitivity or pain following a treatment subsides after a few days, but it may persist for longer periods of time in susceptible individuals. People with existing sensitivity, recession, exposed dentin, exposed root surfaces and occlusal wear facets (severely worn teeth), damaged or missing enamel, cracked teeth, abfractions (micro -cracks), open cavities, leaking fillings, or other dental conditions that cause sensitivity or allow penetration of the gel into the tooth may find that those conditions increase or prolong tooth sensitivity or pain after treatment.</p>");
            sb.Append("    <u>Gum/Lip/Cheek Inflammation -</u>");
            sb.Append("    <p>Whitening may cause inflammation of your gums, lips, or cheek margins. The inflammation is usually temporary which will subside in a few days but may persist longer and may result in significant pain or discomfort.</p>");
            sb.Append("    <u>Dry/Chapped Lips -</u>");
            sb.Append("    <p>The treatment involves three 15-minute sessions during which the mouth is kept open continuously for the entire treatment by a plastic retractor. This could result in dryness or chapping of the lips or cheek margins, which can be treated by application of lip balm, petroleum jelly or Vitamin E cream</p>");
            sb.Append("    <u>Cavities or Leaking Fillings-</u>");
            sb.Append("    <p>Most dental whitening is indicated for the outside of the teeth, except for patients who have already undergone a rootcanal procedure.</p>");
            sb.Append("    <p>If any open cavities or fillings that are leaking and allowing gel to penetrate the tooth are present, significant pain and damage to the tooth could result. I understand that if my teeth have these conditions, I should have my cavities filled or my fillings re-done before undergoing the treatment.</p>");
            sb.Append("    <u>Cervical Abrasion/Erosion-</u>");
            sb.Append("    <p>These are conditions which affect the roots of the teeth when the gums recede .These areasappear darker because they lack the enamel that covers the rest of the teeth. Even if these areas are not currently sensitive, they can allow the whitening gel to penetrate the teethcausing sensitivity, pain and possible damage to the nerve. I understand that if my teeth have these conditions, I should not undergo the treatment</p>");
            sb.Append("    <u>Root Resorption-</u>");
            sb.Append("    <p>Whitening may cause inflammation of your gums, lips, or cheek margins. The inflammation is usually temporary which will subside in a few days but may persist longer and may result in significant pain or discomfort.</p>");
            sb.Append("    <u>Gum/Lip/Cheek Inflammation -</u>");
            sb.Append("    <p>This is a condition where the root of the tooth starts to dissolve either from the inside or outside. Although the cause of this is still uncertain, I understand that there is evidence that indicates the incidence of root resorption is higher in patients who have undergone root canals followed by whitening procedures.</p>");
            sb.Append("    <u>Relapse-</u>");
            sb.Append("    <p>After the treatment, it is natural for the teeth that underwent the whitening procedure to regress somewhat in their shading. This is natural and should be very gradual, but it can be accelerated by exposing the teeth to various staining agents. Treatment usually involves wearing a take-home tray or repeating the treatment.</p>");
            sb.Append("    <p>I understand that the results of the treatment are not intended to be permanent, repeat or take-home treatments may be needed for me to maintain the tooth shade I desire for my teeth.</p>");
            sb.Append("    <p>I understand that after treatment, I will be required to refrain from consuming any substances that could discolor my teeth for the first48 hoursafter treatment. These substances include: coffee, tea, colas, ALLtobacco products, mustard or ketchup, red wine, soy sauce, berry pie, red sauces and lipstick. I understand that there are other substances that could discolor my teeth which I should avoid during the first 48 hours after treatment. If I have any questions regarding any such substance, I understand that I can discuss with my dentist.</p>");
            sb.Append("    <p>The safety, efficacy, potential complications and risks of treatment can be explained to me by my dentist and I understand that more information on this will be provided to me upon my request. Since it is impossible to state every complication that may occur as a result of treatment, the list of complications in this form is incomplete.</p>");
            sb.Append("    <p>I consent to photography, filming, recording, and x-rays of the procedure to be performed for the advancement of dentistry, provided my identity is not revealed</p>");
            sb.Append("    <p>The basic procedures of treatment and the advantages and disadvantages, risks and known possible complications of alternative treatments have been explained to me by my dentist and my dentist has answered all my questions to my satisfaction.</p>");
            sb.Append("    <p>In signing this informed consent I am stating I have read this informed consent (or it has been read to me) and I fully understand it and the possible risks, complication and benefits that can result from the treatment and that I agree to undergo the treatment as described by my dentist.</p>");

            sb.Append("</div>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;'  colspan='3'>");
            sb.Append("            <p>Sign here, only if all of your questions have been answered to your satisfaction</p>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("        Patient");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 34%;'>");
            sb.Append("            Witness");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("            Dentist");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000'>");
            sb.Append("            <img src='" + psign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000'>");
            sb.Append("            <img src='" + wsign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;'>");
            sb.Append("            <img src='" + emr.doc_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000;border-top:1px solid #000000;'>");
            sb.Append("            Patient Name");
            sb.Append("             <br/>" + emr.pat_name + "<br/>");
            sb.Append("<br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000;border-top:1px solid #000000;'>");
            sb.Append("<br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-top:1px solid #000000;'>");
            sb.Append("            " + emr.app_doctor_department + "<br/>");
            sb.Append("<br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("</table>");

            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + footer + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");
            sb.Append("    </body>");
            sb.Append("</html>");

            String htmlString = sb.ToString();

            return htmlString;
        }

        //AfterSurgery
        public static string HtmlAfterSurgery(int appId, EMRInfo emr, int setId)
        {
            BusinessEntities.ConsentForms.AfterSurgery pdf = BusinessLogicLayer.ConsentForms.AfterSurgery.GetAfterSurgeryData(appId).FirstOrDefault();
            BusinessEntities.Common.eSignature psign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "patient", "AfterSurgery").FirstOrDefault();
            BusinessEntities.Common.eSignature wsign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "witness", "AfterSurgery").FirstOrDefault();
            BusinessEntities.Common.PDFHeaderFooter hf = BusinessLogicLayer.Common.PDF.GetHeaderFooterByBranch(setId);

            string header = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "header_images", hf.header.ToString());
            string footer = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "footer_images", hf.footer.ToString());

            StringBuilder sb = new StringBuilder();


            sb.Append("<html>");
            sb.Append("    <head><title> <u>IMPORTANT INSTRUCTION AFTER THE SURGERY</u></title></head>");
            sb.Append("    <body style='font-family: Verdana, Geneva, Tahoma, sans-serif;'>");

            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + header + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'  colspan='9'>");
            sb.Append("            <h1>IMPORTANT INSTRUCTION AFTER THE SURGERY</h1>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Patient Name</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000' colspan='4'>" + emr.pat_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Emirates ID</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_emirateid + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>File No</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_code + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>DOB</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_dob + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Nationality</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_nationality + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Gender</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_gender + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Doctor's Name</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.doc_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Date</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.app_fdate + "</td>");
            sb.Append("    </tr>");
            sb.Append("</table>");

            sb.Append("<div style='width:100%; text-align:justify; font-size: 12px; margin-top: 50px;margin-bottom: 50px;'>");
            sb.Append("<ol>");
            sb.Append("<li><p>Don't eat for 2hours after the surgery</p></li>");
            sb.Append("<li><p>Apply cold compress on your face on the same side of the implant area</p></li>");
            sb.Append("<li><p>Hot foods/drinks are not allowed; you can eat/ drink cold stuffs (ex.ice tea, cold juice).</p></li>");
            sb.Append("<li><p>Don't sleep right away; stay awake for 2 hours after the surgery</p></li>");
            sb.Append("<li><p>Don't sleep lying flat; keep your head elevated after the surgery</p></li>");
            sb.Append("<li><p>Please avoid smoking cigar because it may affect the integration of the implant with the bone, it may cause failure of the treatment.</p></li>");
            sb.Append("<li><p>Gargle with Luke warm water with little salt the following day</p></li>");
            sb.Append("<li><p>You can eat normal (hot/cold) the following day</p></li>");
            sb.Append("<li><p>Brush your teeth and gums as normal, keep the implant area clean</p></li>");
            sb.Append("<li><p>Avoid using ultrasonic scalar for cleaning/ scaling</p></li>");
            sb.Append("<li><p>Please bring your OPG (x-ray) next appointment so the doctor can check the condition of the implant</p></li>");
            sb.Append("<li><p>Any emergency or question please call and inform your doctor.</p></li>");
            sb.Append("</ol>");
            sb.Append("</div>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;'  colspan='2'>");
            sb.Append("            <p>Sign here, only if all of your questions have been answered to your satisfaction</p>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("            Patient");
            sb.Append("        </td>");
            //sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 34%;'>");
            //sb.Append("            Witness");
            //sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("            Doctor");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000'>");
            sb.Append("            <img src='" + psign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            //sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000'>");
            //sb.Append("            <img src='" + wsign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            //sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;'>");
            sb.Append("            <img src='" + emr.doc_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000;border-top:1px solid #000000;'>");
            sb.Append("            Patient Name");
            sb.Append("             <br/>" + emr.pat_name + "<br/>");
            sb.Append("<br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            //sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000;border-top:1px solid #000000;'>");
            //sb.Append("<br/>Date<br/>");
            //sb.Append(emr.app_fdate);
            //sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-top:1px solid #000000;'>");
            sb.Append("            " + emr.app_doctor_department + "<br/>");
            sb.Append("<br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("</table>");

            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + footer + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");
            sb.Append("    </body>");
            sb.Append("</html>");

            String htmlString = sb.ToString();

            return htmlString;
        }

        //OrthoElastic
        public static string HtmlOrthoElastic(int appId, EMRInfo emr, int setId)
        {
            BusinessEntities.ConcentForms.OrthoElastic pdf = BusinessLogicLayer.ConcentForms.OrthoElastic.GetOrthoElasticData(appId).FirstOrDefault();
            BusinessEntities.Common.eSignature psign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "patient", "OrthoElastic").FirstOrDefault();
            BusinessEntities.Common.eSignature wsign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "witness", "OrthoElastic").FirstOrDefault();
            BusinessEntities.Common.PDFHeaderFooter hf = BusinessLogicLayer.Common.PDF.GetHeaderFooterByBranch(setId);

            string header = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "header_images", hf.header.ToString());
            string footer = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "footer_images", hf.footer.ToString());

            StringBuilder sb = new StringBuilder();


            sb.Append("<html>");
            sb.Append("    <head><title> <u>ORTHO ELASTIC INSTRUCTIONS</u></title></head>");
            sb.Append("    <body style='font-family: Verdana, Geneva, Tahoma, sans-serif;'>");

            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + header + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'  colspan='9'>");
            sb.Append("            <h1>ORTHO ELASTIC INSTRUCTIONS</h1>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Patient Name</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000' colspan='4'>" + emr.pat_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Emirates ID</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_emirateid + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>File No</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_code + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>DOB</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_dob + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Nationality</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_nationality + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Gender</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_gender + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Doctor's Name</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.doc_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Date</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.app_fdate + "</td>");
            sb.Append("    </tr>");
            sb.Append("</table>");

            sb.Append("<div style='width:100%; text-align:justify; font-size: 12px; margin-top: 50px;margin-bottom: 50px;'>");
            sb.Append("<center>ELASTICS</center>");
            sb.Append("<p>Elastics move the teeth in a direction which cannot be accomplished with braces alone.</p>");
            sb.Append("<p>Your teeth and jaws may be tender the first few days of wearing the elastics. This is normal and should begin to disappear within a week. If it persists longer, please call our office. Rinsing with hot salt water will help take away the tenderness.</p>");
            sb.Append("<p>It may seem hard for you to put on the elastics at first; however it will become easier with practice</p>");
            sb.Append("<p>Change the elastics routinely even if they are not broken. After a while, elastics lose their strength. Change them at least after each meal and before bedtime.</p>");
            sb.Append("<p>Carry extra elastics with you at all times. If you dont have enough elastic to last until next appointment, please stop by our office and pick more up. We dont want you to run out.</p>");
            sb.Append("<p>Elastics wear is an important key to speed of your treatment and the final results we can achieve. The diagram below shows the correct placement. Please call us if you have any question or concern. Good luck with your elastics</p>");
            sb.Append("</div>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;'  colspan='2'>");
            sb.Append("            <p>Sign here, only if all of your questions have been answered to your satisfaction</p>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("            Patient");
            sb.Append("        </td>");
            //sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 34%;'>");
            //sb.Append("            Witness");
            //sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("            Doctor");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000'>");
            sb.Append("            <img src='" + psign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            //sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000'>");
            //sb.Append("            <img src='" + wsign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            //sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;'>");
            sb.Append("            <img src='" + emr.doc_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000;border-top:1px solid #000000;'>");
            sb.Append("            Patient Name");
            sb.Append("             <br/>" + emr.pat_name + "<br/>");
            sb.Append("<br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            //sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000;border-top:1px solid #000000;'>");
            //sb.Append("<br/>Date<br/>");
            //sb.Append(emr.app_fdate);
            //sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-top:1px solid #000000;'>");
            sb.Append("            " + emr.app_doctor_department + "<br/>");
            sb.Append("<br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("</table>");

            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + footer + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");
            sb.Append("    </body>");
            sb.Append("</html>");

            String htmlString = sb.ToString();

            return htmlString;
        }

        //OrthoInstructions
        public static string HtmlOrthoInstructions(int appId, EMRInfo emr, int setId)
        {
            BusinessEntities.ConcentForms.OrthoInstructions pdf = BusinessLogicLayer.ConcentForms.OrthoInstructions.GetOrthoInstructionsData(appId).FirstOrDefault();
            BusinessEntities.Common.eSignature psign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "patient", "OrthoInstructions").FirstOrDefault();
            BusinessEntities.Common.eSignature wsign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "witness", "OrthoInstructions").FirstOrDefault();
            BusinessEntities.Common.PDFHeaderFooter hf = BusinessLogicLayer.Common.PDF.GetHeaderFooterByBranch(setId);

            string header = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "header_images", hf.header.ToString());
            string footer = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "footer_images", hf.footer.ToString());

            StringBuilder sb = new StringBuilder();


            sb.Append("<html>");
            sb.Append("    <head><title> <u>ORTHO INSTRUCTIONS</u></title></head>");
            sb.Append("    <body style='font-family: Verdana, Geneva, Tahoma, sans-serif;'>");

            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + header + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'  colspan='9'>");
            sb.Append("            <h1>ORTHO INSTRUCTIONS</h1>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Patient Name</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000' colspan='4'>" + emr.pat_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Emirates ID</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_emirateid + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>File No</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_code + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>DOB</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_dob + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Nationality</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_nationality + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Gender</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_gender + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Doctor's Name</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.doc_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Date</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.app_fdate + "</td>");
            sb.Append("    </tr>");
            sb.Append("</table>");

            sb.Append("<div style='width:100%; text-align:justify; font-size: 12px; margin-top: 50px;margin-bottom: 50px;'>");
            sb.Append("<center>Instruction for fixed orthodontic appliance</center>");
            sb.Append("<p>All damage happened to your appliance deteriorate the result of your treatment and / or prolong its duration</p>");
            sb.Append("<p>");
            sb.Append("<span>Avoid the followings:</span>");
            sb.Append("<br/>- Putting pencil or hard objects inside your mouth.<br/>");
            sb.Append("- Cutting wires or scotches with your teeth.<br/>");
            sb.Append("- Cutting hard foods (apples, carrots, hard braid, sandwich, biscuits, pistachios) it is preferable to cut them in small pieces and eat slowly.<br/>");
            sb.Append("- Eating or chewing sticky foods like nougat, caramel and chewing-gums.");
            sb.Append("</p>");
            sb.Append("<p>");
            sb.Append("<span>In case of damage to your appliance</span>");
            sb.Append("<br/>");
            sb.Append("If bands or bracket broken and they dont disturb your tongue or gum and you have appointment within the next 10 days, it is better to wait till your next appointment; if not (the broken bracket heart you or the wire cut your gum) you are invited to call the clinic to take an emergency appointment.");
            sb.Append("</p>");
            sb.Append("<p>Coming to the clinic without any appointment make you wait till the last appointment of that day being finished.</p>");
            sb.Append("<p>If part of your appliance scratching or irritate your cheeks or lips you can put small piece of wax, we give you some in the beginning of our treatment, over that part of your appliance, if you finish the wax you can get them from the pharmacy</p>");
            sb.Append("<p>If any problem happens to you during your travailing away, you can consult any dentist or orthodontist in that area</p>");
            sb.Append("<p>");
            sb.Append("<span>Hygiene:</span>");
            sb.Append("<br/>");
            sb.Append("Orthodontic appliance fixed or removable doesnt damage the enamel of teeth, but the remnants of foods around the appliance are very dangerous if they are not cleaned away by brushing. That is why it is important that you brush your teeth for at least 3 minutes after each meal you eat");
            sb.Append("</p>");
            sb.Append("<p>The way of brushing must be in a round movement around the brackets and in a vibrating one in the gum area. The small tooth brush could help you to finish the brushing in the difficult areas. The brushing should be followed by asolution of mouth wash every night</p>");
            sb.Append("<p>The sugar is the element that transfer to acid very rapidly inside the oral cavity, so dont eat too much sweet candy; if you did, you have to brush your teeth immediately</p>");
            sb.Append("</div>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;'  colspan='2'>");
            sb.Append("            <p>Sign here, only if all of your questions have been answered to your satisfaction</p>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("            Patient");
            sb.Append("        </td>");
            //sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 34%;'>");
            //sb.Append("            Witness");
            //sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("            Doctor");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000'>");
            sb.Append("            <img src='" + psign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            //sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000'>");
            //sb.Append("            <img src='" + wsign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            //sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;'>");
            sb.Append("            <img src='" + emr.doc_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000;border-top:1px solid #000000;'>");
            sb.Append("            Patient Name");
            sb.Append("             <br/>" + emr.pat_name + "<br/>");
            sb.Append("<br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            //sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000;border-top:1px solid #000000;'>");
            //sb.Append("<br/>Date<br/>");
            //sb.Append(emr.app_fdate);
            //sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-top:1px solid #000000;'>");
            sb.Append("            " + emr.app_doctor_department + "<br/>");
            sb.Append("<br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("</table>");

            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + footer + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");
            sb.Append("    </body>");
            sb.Append("</html>");

            String htmlString = sb.ToString();

            return htmlString;
        }

        //OrthoConsent
        public static string HtmlOrthoConsent(int appId, EMRInfo emr, int setId)
        {
            BusinessEntities.ConcentForms.OrthoConsent pdf = BusinessLogicLayer.ConcentForms.OrthoConsent.GetOrthoConsentData(appId).FirstOrDefault();
            BusinessEntities.Common.eSignature psign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "patient", "OrthoConsent").FirstOrDefault();
            BusinessEntities.Common.eSignature wsign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "witness", "OrthoConsent").FirstOrDefault();
            BusinessEntities.Common.PDFHeaderFooter hf = BusinessLogicLayer.Common.PDF.GetHeaderFooterByBranch(setId);

            string header = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "header_images", hf.header.ToString());
            string footer = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "footer_images", hf.footer.ToString());

            StringBuilder sb = new StringBuilder();


            sb.Append("<html>");
            sb.Append("    <head><title> <u>INFORMED CONSENT FOR ORTHODONTIC TREATMENT</u></title></head>");
            sb.Append("    <body style='font-family: Verdana, Geneva, Tahoma, sans-serif;'>");

            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + header + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'  colspan='9'>");
            sb.Append("            <h1>INFORMED CONSENT FOR ORTHODONTIC TREATMENT</h1>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Patient Name</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000' colspan='4'>" + emr.pat_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Emirates ID</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_emirateid + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>File No</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_code + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>DOB</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_dob + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Nationality</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_nationality + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Gender</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_gender + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Doctor's Name</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.doc_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Date</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.app_fdate + "</td>");
            sb.Append("    </tr>");
            sb.Append("</table>");

            sb.Append("<div style='width:100%; text-align:justify; font-size: 12px; margin-top: 50px;margin-bottom: 50px;'>");
            sb.Append("<center>Please read the following information carefully and ask about anything you do not understand.It will be our pleasure to explain it further.</center>");
            sb.Append("<p>Informed consent indicates your awareness of the negative as well as the positive aspects of orthodontic treatment. In the majority of cases, orthodontic treatment is an elective procedure. This means that one possible option is no treatment at all. Other alternative treatment plans may include: extraction of teeth, non-extraction ofteeth,prosthetic restoration or even surgery. Treatment of your teeth, like any other treatment of the body, has inherent risks and limitations. These risks are seldom serious enough to contraindicate treatment, but they should be considered in making the decision to undergo orthodontic treatment</p>");
            sb.Append("<p><b>The patients responsibility</b>- It is the patients responsibility to follow the brushing and oral hygiene instructions that are given, so that no harm will come to the teeth and surrounding tissues; to come to all appointments on the proper day and time ; to adhere to the list of food restrictionsin order to keep from damaging the teeth and orthodontic appliance;to wear headgear,elastics and retainers,if they are necessary,so that treatment time will be as short as possible and so we can achieve the best results ; and to visit the general dentist at least every six months for an examination and cleaning . There will be additional orthodontic charges for replacement of appliances (such as retainers or braces ) that are lost or damaged due to repeated patient neglect ,or any excessive extension of treatment due lack of patient co-operation .100% patient co-operation is very, very important.</p>");
            sb.Append("<p><b>Oral hygiene</b>- decalcification (permanent markings), decay,or gum disease can occur if patients do not brush their teeth properly and thoroughly during treatment period. Excellent oral hygiene and plaque removal is a must. Sugars and between meal snacks should be reduced as much as possible. Visit your family dentist regularly</p>");
            sb.Append("<p><b>A non vital or dead tooth is a possibility</b>- A tooth that has been traumatized from a deep filling or even a minor blow can die over a long period of time with or without orthodontic treatment. an undetected non vital tooth may flare up during orthodontic movement,requiring endodontic (root canal) treatment to maintain it</p>");
            sb.Append("<p><b>Root resorption </b>- In some cases,the root ends of the teeth are shortened during treatment .this is called root resorption. Under healthy circumstances the shortened roots are no disadvantage. However,in the event of gum discase in later life the root resorption may reduce the longevity of the affected teeth. It should be noted that not all root resorption arises from orthodontic treatment. Trauma,cuts,impaction,endocrine disorders, idiopathic reasons can also cause root resorption.</p>");
            sb.Append("<p><b>Growth issues</b>- Occasionally a person who has grown normally and in average proportions may not continue to do so. If growth becomes disproportionate,the jaw relation can be affected and original treatment objectives may have to be compromised.Skeletal growth disharmony is a biologic process beyond the orthodontists control.Some orthodontic patients will require oral surgery to obtain a reasonable treatment result to complete their case. Most patients we can inform ahead of time prior to starting any treatment that this is necessary. Some patients with poor growth, poor response to treatment, or poor co- operation may also require oral surgery to complete their cases</p>");
            sb.Append("<p><b>Gum tissues</b>- The bone-gum relationship around teeth is always dependent upon whether there is enough bone to support the gum tissue properly. Many times when very crowded teeth are straightened there is a lack of bone and supporting gum tissue surrounding the teeth. Therefore, the gum tissue contour and support may not be adequate and require periodontal intervention.</p>");
            sb.Append("<p><b>Treatment time</b>- The total time for treatment can be delayed beyond our estimate.Lack of, or poorly directed facial growth, poor elastic wear, or headgear co-operation, broken appliances and missed appointments are all important factors that could lengthen treatment time and affect the quality of the result</p>");
            sb.Append("<p><b>Extra-oral appliances</b>- Instructions must be followed very carefully. A Facebow or headgear that is pulled outward while elastic force is attached can cause damage to the face or eyes. However, we use appliances with a snap away safety feature to reduce this possibility. Always remember to release the forces before removing the facebow from your teeth. To reduce the possibility of injury, contact sports and similar activities should not be performed while a headgear is worn.</p>");
            sb.Append("<p><b>TMJ</b>- There is a risk that problems may occur in the temporomandibular joints(TMJ). Although this is rare, it is a possibility. Tooth alignment or bite correction sometimes can improve tooth related causes of TMJ pain, but this is not in all cases.Tension appears to play a role in the frequency and severity of joint pains, and there are many other causes of TMJ dysfunction.</p>");
            sb.Append("<p><b>Very unusual occurrences </b>- Swallowed appliances, chipped teeth, dislodged restorations and allergies to latex or nickel rarely occur but are possible</p>");
            sb.Append("<p><b>Termination of treatment</b>- It is understood that treatment can be terminated for failure to cooperate, missing appointments, not wearing appliances,excessive breakage, failure to keep financial commitments,relocation, personal conflicts or for any other reason the doctor feels necessary. If termination is necessary, the patient will be given ample time to locate another orthodontist to continue treatmentor the braces will be removed.</p>");
            sb.Append("<p><b>Expectations </b>- All orthodontic patients can expect improvement with their particularproblem, but, in many cases, absolute perfection is impossible due to lack of muscle balance, tooth shapes and sizes and varying degrees of co-operation during treatment, along with heredity aspects that affects everyones specific treatment results</p>");
            sb.Append("<p><b>Relapse </b>- Teeth have a tendency to return to their original position after orthodontic treatment this is called relapse. Very severe problems have a higher tendency to relapse and the most common area for relapse is the lower front teeth.after band removal, a positioner or retainers are placed to minimize relapse .full co-operation in wearing these appliances is vital .we will make our correction to the highest standards and in many cases over correct in order to accommodate the rebound tendencies . When retention is discontinued some relapse is still possible</p>");
            sb.Append("<p><b>Termination of treatment </b>- It is understood that treatment can be terminated for failure to cooperate, missing appointments, not wearing appliances,excessive breakage, failure to keep financial commitments,relocation, personal conflicts or for any other reason the doctor feels necessary. If termination is necessary, the patient will be given ample time to locate another orthodontist to continue treatmentor the braces will be removed.</p>");
            sb.Append("<p>I consent to the taking of photographs , study models and x-rays before , during and after orthodontic treatment to assist in the planning and progress treatment objectives if the case proves to be of special scientific interest , the doctor reserves the right to present the records in scientific papers or demonstrations to the profession</p>");
            sb.Append("<p>I certify that I have read or had read to me the contents of this form and do realize the risks and limitations involved, and consent to orthodontic treatment.</p>");
            sb.Append("</div>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;'  colspan='2'>");
            sb.Append("            <p>Sign here, only if all of your questions have been answered to your satisfaction</p>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("            Patient/Parent/Guardian");
            sb.Append("        </td>");
            //sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 34%;'>");
            //sb.Append("            Witness");
            //sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("            Doctor");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000'>");
            sb.Append("            <img src='" + psign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            //sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000'>");
            //sb.Append("            <img src='" + wsign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            //sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;'>");
            sb.Append("            <img src='" + emr.doc_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000;border-top:1px solid #000000;'>");
            sb.Append("            Patient Name");
            sb.Append("             <br/>" + emr.pat_name + "<br/>");
            sb.Append("<br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            //sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000;border-top:1px solid #000000;'>");
            //sb.Append("<br/>Date<br/>");
            //sb.Append(emr.app_fdate);
            //sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-top:1px solid #000000;'>");
            sb.Append("            " + emr.app_doctor_department + "<br/>");
            sb.Append("<br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("</table>");

            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + footer + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");
            sb.Append("    </body>");
            sb.Append("</html>");

            String htmlString = sb.ToString();

            return htmlString;
        }

        //ImplantPost
        public static string HtmlImplantPost(int appId, EMRInfo emr, int setId)
        {
            BusinessEntities.ConcentForms.ImplantPost pdf = BusinessLogicLayer.ConcentForms.ImplantPost.GetImplantPostData(appId).FirstOrDefault();
            BusinessEntities.Common.eSignature psign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "patient", "ImplantPost").FirstOrDefault();
            BusinessEntities.Common.eSignature wsign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "witness", "ImplantPost").FirstOrDefault();
            BusinessEntities.Common.PDFHeaderFooter hf = BusinessLogicLayer.Common.PDF.GetHeaderFooterByBranch(setId);

            string header = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "header_images", hf.header.ToString());
            string footer = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "footer_images", hf.footer.ToString());

            StringBuilder sb = new StringBuilder();


            sb.Append("<html>");
            sb.Append("    <head><title> <u>INSTRUCTION AFTER IMPLANT SURGERY</u></title></head>");
            sb.Append("    <body style='font-family: Verdana, Geneva, Tahoma, sans-serif;'>");

            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + header + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'  colspan='9'>");
            sb.Append("            <h1>INSTRUCTION AFTER IMPLANT SURGERY</h1>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Patient Name</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000' colspan='4'>" + emr.pat_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Emirates ID</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_emirateid + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>File No</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_code + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>DOB</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_dob + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Nationality</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_nationality + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Gender</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_gender + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Doctor's Name</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.doc_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Date</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.app_fdate + "</td>");
            sb.Append("    </tr>");
            sb.Append("</table>");

            sb.Append("<div style='width:100%; text-align:justify; font-size: 12px; margin-top: 50px;margin-bottom: 50px;'>");
            sb.Append("<center>INSTRUCTION AFTER IMPLANT SURGERY</center>");
            sb.Append("<ol>");
            sb.Append("<li><p>Don't eat for 2hours after the surgery</p></li>");
            sb.Append("<li><p>Apply cold compress on your face on the same side of the implant area</p></li>");
            sb.Append("<li><p>Hot foods/drinks are not allowed; you can eat/ drink cold stuffs (ex.ice tea, cold juice).</p></li>");
            sb.Append("<li><p>Don't sleep right away; stay awake for 2 hours after the surgery</p></li>");
            sb.Append("<li><p>Don't sleep lying flat; keep your head elevated after the surgery</p></li>");
            sb.Append("<li><p>Please avoid smoking cigar because it may affect the integration of the implant with the bone, it may cause failure of the treatment.</p></li>");
            sb.Append("<li><p>Gargle with Luke warm water with little salt the following day</p></li>");
            sb.Append("<li><p>You can eat normal (hot/cold) the following day</p></li>");
            sb.Append("<li><p>Brush your teeth and gums as normal, keep the implant area clean</p></li>");
            sb.Append("<li><p>Avoid using ultrasonic scalar for cleaning/ scaling</p></li>");
            sb.Append("<li><p>Make appointment for your suture removal and please bring your OPG (x-ray) on that time.</p></li>");
            sb.Append("<li><p>Call clinic after 2 months for follow up appointment. Bring your new O.P.G. for evaluation of Implant Bone Regeneration. Based on prognosis of the case, doctor will proceed to next procedure.</p></li>");
            sb.Append("<li><p>Any emergency or question please call and inform your doctor.</p></li>");
            sb.Append("</ol>");
            sb.Append("</div>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;'  colspan='2'>");
            sb.Append("            <p>Sign here, only if all of your questions have been answered to your satisfaction</p>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("            Patient");
            sb.Append("        </td>");
            //sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 34%;'>");
            //sb.Append("            Witness");
            //sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("            Doctor");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000'>");
            sb.Append("            <img src='" + psign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            //sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000'>");
            //sb.Append("            <img src='" + wsign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            //sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;'>");
            sb.Append("            <img src='" + emr.doc_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000;border-top:1px solid #000000;'>");
            sb.Append("            Patient Name");
            sb.Append("             <br/>" + emr.pat_name + "<br/>");
            sb.Append("<br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            //sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000;border-top:1px solid #000000;'>");
            //sb.Append("<br/>Date<br/>");
            //sb.Append(emr.app_fdate);
            //sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-top:1px solid #000000;'>");
            sb.Append("            " + emr.app_doctor_department + "<br/>");
            sb.Append("<br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("</table>");

            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + footer + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");
            sb.Append("    </body>");
            sb.Append("</html>");

            String htmlString = sb.ToString();

            return htmlString;
        }

        //VeneersConsent(AR)
        public static string HtmlVeneersConsent(int appId, EMRInfo emr, int setId)
        {
            BusinessEntities.ConcentForms.VeneersConsent pdf = BusinessLogicLayer.ConcentForms.VeneersConsent.GetVeneersConsentData(appId).FirstOrDefault();
            BusinessEntities.Common.eSignature psign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "patient", "VeneersConsent").FirstOrDefault();
            BusinessEntities.Common.eSignature wsign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "witness", "VeneersConsent").FirstOrDefault();
            BusinessEntities.Common.PDFHeaderFooter hf = BusinessLogicLayer.Common.PDF.GetHeaderFooterByBranch(setId);
            BusinessEntities.EMRForms.Aetna diag = BusinessLogicLayer.EMRForms.Aetna.Get_Patient_Diagnosis(appId).FirstOrDefault();

            string header = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "header_images", hf.header.ToString());
            string footer = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "footer_images", hf.footer.ToString());

            StringBuilder sb = new StringBuilder();

            string pdfCvca1 = pdf.cvca_1;
            string radioHtml1 = "<input type='radio'  class='custom-control-input' name='cvca_1' value='Yes' id='1'> <span dir='rtl' class='custom-control-label'>لقد أتيحت لي الفرصة لطرح الأسئلة وقمت بالموافقة على العلاج المقترح كما هو موضح أعلاه</span>";
            string radioHtml2 = "<input type='radio' class='custom-control-input' name='cvca_1' value='No' id='2'> <span dir='rtl' class='custom-control-label'> لقد قمت برفض إعطاء الموافقة للعلاج المقترج كما هو موضح أعلاه وقد تم شرح العواقب المحتملة المرتبطة بالرفض</span>";

            if (pdfCvca1 == "Yes")
            {
                radioHtml1 = radioHtml1.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdfCvca1 == "No")
            {
                radioHtml2 = radioHtml2.Replace("<input type='radio'", "<input type='radio' checked");
            }

            sb.Append("<html>");
            sb.Append("    <head>");
            sb.Append("    <title> <u>موافقة المريض على بدء القشرة الخزفية</u></title>");
            sb.Append("    <meta charset='utf-8'>");
            sb.Append("    </head>");
            //sb.Append("    <head><title> <u>موافقة المريض على بدء القشرة الخزفية</u></title><meta charset='utf-8'></head>");
            sb.Append("    <body style='font-family: Verdana, Geneva, Tahoma, sans-serif;'>");

            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + header + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    <table dir='rtl' style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'  colspan='9'>");
            sb.Append("            <h1>موافقة المريض على بدء القشرة الخزفية</h1>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>اسم المريض</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>" + emr.pat_name + "</td>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>هويه الإمارات</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000' colspan='4'>" + emr.pat_emirateid + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>رقم الملف</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>" + emr.pat_code + "</td>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>تاريخ الميلاد</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>" + emr.pat_dob + "</td>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>جنسية</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>" + emr.pat_nationality + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>جنس</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>" + emr.pat_gender + "</td>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>اسم الطبيب</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>" + emr.doc_name + "</td>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>تاريخ</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>" + emr.app_fdate + "</td>");
            sb.Append("    </tr>");
            sb.Append("</table>");

            sb.Append("<div dir='rtl' style='width:100%; text-align:justify; dir font-size: 12px; margin-top: 50px;margin-bottom: 50px;'>");

            sb.Append("<u>التشخيص:</u>");
            sb.Append("<p>" + diag.diag_names + "</p>");
            sb.Append("<p><u>حقائق بعين الإعتبار</u></p>");
            sb.Append("<p>القشور الخزفية ( العدسات ، هوليود سمايل ) هي قشور رقيقة تصنع بطريقة مخصصة من الخزف لتلصق على الجزء الأمامي من الأسنان لتغيير لونهم ، شكلهم ، حجمهم أو طولهم</p>");
            sb.Append("<p>علاج الأسنان الأمامية بإستخدام القشور الخزفية يتطلب في أغلب الحالات إزالة طبقة رقيقة من مينا الأسنان لتوفير مساحة كافية للصق القشور. وهذه العملية لا رجعة فيها</p>");
            sb.Append("<p>إعداد القشرة الخزفية يتطلب مرحلتين 1- اعداد الأسنان وأخذ طبعة رقيقة لإرسالها الى المختبر. 2- تعديل وتثبيت القشرة عندما يتم التحقق من شكلها ووظيفتها</p>");
            sb.Append("<p>وائد القشرة الخزفية ، لا تقتصر على ما يلي:</p>");
            sb.Append("<p>وعادة ما تستخدم القشرة للأسنان التي يتغيير لونها، إما بسبب علاج قناة الجذر، والبقع من التتراسيكلين أو أدوية أخرى، والفلورايد الزائد أو وجود حشوات الكمبوزيت الضوئية الكبيرة و التي أحيانا ما تغير لون الأسنان. القشرة يمكن أن تحمي الأسنان المكسورة. و يمكن استخدامها لأغراض جمالية أخرى كإصلاح الأسنان المنحرفة، المتفاوتة أو غير منتظمة الشكل، وإغلاق المسافة بين الأسنان التي لديها فجوات بينهما</p>");
            sb.Append("<p>مخاطر القشرة الخزفية ، لا تقتصر على ما يلي:</p>");
            sb.Append("<p>نا أفهم أن إعداد الأسنان للقشرة سوف يتضمن إزالة المينا من سطح الأسنان المعنية. و قد يؤدي هذا التحضير إلى تهيج الأنسجة العصبية (تسمى اللب) في وسط السن، مما يجعل أسناني حساسة للحرارة أو البرد أو الضغط. قد تتطلب الأسنان الحساسة علاج إضافي بما في ذلك علاج (قناة الجذر)</p>");
            sb.Append("<p>أنا أفهم أن ترك فمي مفتوح أثناء العلاج قد يترك شعور مؤقت بالتصلب والألم في مفصل وعضلات الفك وقد يجعل من الصعب بالنسبة لي فتح فمي بشكل واسع لعدة أيام. و أحيانا يمكن أن يكون ذلك مؤشرا على وجود مشكلة أخرى. يجب أن تبلغ العيادة الخاصة بك إذا حصل هذا أو غيرها</p>");
            sb.Append("<p>أنا أفهم أن القشور عادة لا تكون قابلة للإصلاح في حالة التشقق أو الكسر. وقد يكون هناك ما يبرر الحاجة إلى استبدالها أو حتى اللجوء الى التاج الكامل للتغطية</p>");
            sb.Append("<p>.أدرك أن القشرة قد لا تتطابق تماما مع لون أسناني الأخرى. أيضا، لا يمكن تغيير لون القشرة ما إن وظعت على السن</p>");
            sb.Append("<p>وأنا افهم في حين أنة من غير المحتمل أن تتحرك القشرة من مكانها وتسقط .ولتقليل فرصة حدوث ذلك، لا ينبغي أن أعض أظافري، مضغ على أقلام الرصاص، الثلج أو غيرها من الأشياء الصلبة، الضغط الغير طبيعي على أسناني. كما أن طحن الأسنان أو كزمها قد يتسبب في انزلاق القشرة</p>");
            sb.Append("<p>أنا أفهم أن القشرة سوف توضع بالقرب من خط اللثة، وهي في منطقة عرضة لتهيج اللثة، والعدوى. لذلك فإن تفريش الأسنان وإستخدام الخيط، والنظام الغذائي الصحي والتنظيف في العيادة المنتظم هي بعض التدابير الوقائية الضرورية للمساعدة في السيطرة على هذه المشاكل</p>");
            sb.Append("<p>ناأفهمأنهناكخطرمنالشفط (الاستنشاق) أوبلعالقشرةأثناءالعلاج</p>");
            sb.Append("<p>أنا أفهم أنني قد أتلقى مخدر موضعي و / أو أدوية أخرى. في حالات نادرة، قد يكون لدى المرضى رد فعل تجاه المخدر، والتي قد تتطلب الرعاية الطبية الطارئة، أو تجد أنه يقلل من قدرتها على السيطرة على البلع. هذا يزيد من فرصة طبيعية بلع الأجسام الغريبة أثناء العلاج. اعتمادا على التخدير والأدوية التي تعطى، قد أحتاج إلى سائق معين لأخذي إلى المنزل. نادرا، إصابة العصب تكون مؤقتة أو دائمة التي يمكن أن تنتج عن الحقن</p>");
            sb.Append("<p>نا أفهم أن جميع الأدوية محتمل أن يكون لديها مخاطر مصاحبة، وآثار جانبية وتفاعلات الأدوية. ولذلك فمن الأهمية أن أخبر طبيب الأسنان الخاص بي بجميع الأدوية التي استخدمها حالياً</p>");
            sb.Append("<p>.وأناأفهمأنكلجهدسيبذللضماننجاحعلاجي</p>");
            sb.Append("<p>بدائلالقشرة الخزفية،لاتقتصرعلىمايلي:</p>");
            sb.Append("<p>وأنا أفهم أني أقوم باختيار وضع القشرة اعتمادا على الأسباب ، قد توجد بدائل، بما في ذلك تقويم الأسنان لمحاذاة الأسنان. لقد أتيحت لي الفرصة لطرح أي أسئلة فيما يتعلق بالإجراءات ومخاطرها ومنافعها وتكاليفها وقد تلقيت إجابات مرضية</p>");
            sb.Append("<p>.أوافق على التقاط الصور الفوتوغرافية، التصوير والتسجيل و الأشعة السينية بشرط لا يتم الكشف عن هويتي</p>");
            sb.Append("<p>ومن مسؤولية المريض أن يلتمس الانتباه في حالة حدوث أي مشاكل غير ضرورية أو غير متوقعة. يجب على المريض اتباع جميع التعليمات، بما في ذلك جدولة وحضور جميع المواعيد.لقد اتيحت لي الفرصة لطرح اسئلة حول حالتي، خيارات العلاج و رفض العلاج. لقد قام مزود الموقع ادناه الإجابة على جميع أسئلتي. لقد فهمت النطاق الكامل للوضع وانا اخذ قرار الموافقة</p>");
            sb.Append("<p>استمارة الموافقة المسبقة:</p>");
            sb.Append("<p>لقد أتيحت لي الفرصة لطرح أي أسئلة بخصوص طبيعة والغرض من علاج القشرة الخزفية وقد تلقيت إجابات مرضية. أنا طوعا اتحمل جميع المخاطر المحتملة ،بما في ذلك خطر حدوث ضرر كبير، إن وجد، والذي قد يرتبط بأي مرحلة من مراحل العلاج ، على أمل الحصول على النتائج المرجوة، والتي من الممكن أو غير الممكن تحقيقها. الرسوم (إن وجدت) لهذه الخدمة لقد تم شرحها وهي مرضية. من خلال التوقيع على هذا النموذج أنا أعطي بحرية موافقتي للسماح للدكتور " + emr.doc_name + " أو/ و أحد مساعديه لتقديم العلاج لتقديم العلاج أو اي دواء و /أو التخدير الذي يعتبر ضروري للعلاج</p>");
            sb.Append(radioHtml1);
            sb.Append("<br>");
            sb.Append(radioHtml2);

            sb.Append("</div>");

            sb.Append("    <table dir='rtl' style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;'  colspan='3'>");
            sb.Append("            <p>قم بالتوقيع هنا فقط إذا تمت الموافقة على جميع الأسئلة</p>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("            مريض");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 34%;'>");
            sb.Append("            شاهد");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("            طبيب");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-left:1px solid #000000'>");
            sb.Append("            <img src='" + psign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-left:1px solid #000000'>");
            sb.Append("            <img src='" + wsign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;'>");
            sb.Append("            <img src='" + emr.doc_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000;border-top:1px solid #000000; width: 33%;'>");
            sb.Append("            اسم المريض");
            sb.Append("             <br/>" + emr.pat_name + "<br/>");
            sb.Append("<br/>تاريخ<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000;border-top:1px solid #000000; width: 34%;'>");
            sb.Append("            اسم الشاهد");
            sb.Append("             <br/>" + pdf.cvca_2);
            sb.Append("<br/><br/>تاريخ<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-top:1px solid #000000; width: 33%;'>");
            sb.Append("            " + emr.app_doctor_department + "<br/>");
            sb.Append("<br/>تاريخ<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("</table>");

            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + footer + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");
            sb.Append("    </body>");
            sb.Append("</html>");

            String htmlString = sb.ToString();

            return htmlString;
        }

        //Teeth Whitening Consent(AR)
        public static string HtmlTeethWhiteningArb(int appId, EMRInfo emr, int setId)
        {
            BusinessEntities.ConsentForms.TeethWhiteningArb pdf = BusinessLogicLayer.ConsentForms.TeethWhiteningArb.GetTeethWhiteningArbData(appId).FirstOrDefault();
            BusinessEntities.Common.eSignature psign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "patient", "TeethWhiteningArb").FirstOrDefault();
            BusinessEntities.Common.eSignature wsign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "witness", "TeethWhiteningArb").FirstOrDefault();
            BusinessEntities.Common.PDFHeaderFooter hf = BusinessLogicLayer.Common.PDF.GetHeaderFooterByBranch(setId);

            string header = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "header_images", hf.header.ToString());
            string footer = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "footer_images", hf.footer.ToString());

            StringBuilder sb = new StringBuilder();


            sb.Append("<html>");
            sb.Append("    <head>");
            sb.Append("    <title> <u>موافقة المريض على بدء علاج تبييض الأسنان</u></title>");
            sb.Append("    <meta charset='utf-8'>");
            sb.Append("    </head>");
            //sb.Append("    <head><title> <u>موافقة المريض على بدء علاج تبييض الأسنان</u></title><meta charset='utf-8'></head>");
            sb.Append("    <body style='font-family: Verdana, Geneva, Tahoma, sans-serif;'>");

            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + header + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    <table dir='rtl' style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'  colspan='9'>");
            sb.Append("            <h1>موافقة المريض على بدء علاج تبييض الأسنان</h1>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>اسم المريض</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>" + emr.pat_name + "</td>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>هويه الإمارات</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000' colspan='4'>" + emr.pat_emirateid + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>رقم الملف</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>" + emr.pat_code + "</td>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>تاريخ الميلاد</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>" + emr.pat_dob + "</td>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>جنسية</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>" + emr.pat_nationality + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>جنس</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>" + emr.pat_gender + "</td>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>اسم الطبيب</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>" + emr.doc_name + "</td>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>تاريخ</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>" + emr.app_fdate + "</td>");
            sb.Append("    </tr>");
            sb.Append("</table>");

            sb.Append("<div dir='rtl' style='width:100%; text-align:justify; dir font-size: 12px; margin-top: 50px;margin-bottom: 50px;'>");

            sb.Append("<p>. لقد تم إعطائي المعلومات المطلوبة حتى أتمكن من اتخاذ قرار حول تبييض أسناني. لديالحقفيطرح أيأسئلةقبلالموافقةعلىالخضوعللإجراء</p>");
            sb.Append("<p><u>وصفالإجراء</u></p>");
            sb.Append("<p>تبييض الأسنان داخل العيادة هو إجراء مصمم لتفتيح لون أسناني باستخدام جل بيروكسيد الهيدروجين. خلال العملية، سيتم تطبيق جل التبييض على أسناني لمدة ثلاث مرات ، ١٥ دقيقة للجلسة الواحدة . خلال العلاج بكاملة.سيتم تقييم لون أسناني العلويه وتسجيلها قبل وبعد العلاج</p>");
            sb.Append("<p><u>العلاجاتالبديلة</u></p>");
            sb.Append("<p>نا افهم أن هناك علاجات بديلة لتبييض الأسنان التي تعطى من قبل طبيب الأسنان التي يمكن ان توفر لي معلومات إضافية. هذه العلاجات تشمل: معجون تبيض الأسنان/جل ومجموعة التبييض المنزلي</p>");
            sb.Append("<p><u>مخاطر العلاج</u></p>");
            sb.Append("<p>وأنا أفهم أيضا أن نتائج علاج التبييض قد تختلف أو تتراجع بسبب مجموعة متنوعة من الظروف. وأنا أفهم أن جميع الأسنان الطبيعية تقريبا يمكن أن تستفيد من العلاج و يمكن تحقيق تبييض بنسبة كبيرة في معظم الحالات. أدرك أن علاجات التبييض لا تهدف إلى تبييض الأسنان الاصطناعية أو التلبيس أو التيجان أو القشرة أو الخزف أو المواد المركبة ، وأن الأشخاص الذين يعانون من أسنان ملونة صفراء داكنة أو صفراء بنية غالبا ما يحققون نتائج أفضل من الأشخاص ذوي الرمادي أو الرمادي المزرق. أنا افهم أن الأسنان ذات الألوان المتعددة، اللطخات أو البقع بسبب استخدام التتراسيكلين أو الفلور لا يمكن تبييضهم أيضاً قد يحتاجون الى علاجات اخرى متعددة ويمكن ان لا يتم تبييضهم على الإطلاق. أنا افهم أن الأسنان مع الكثير من الحشوات ، التجاويف أو الشقوق لا يمكن أن يفتح لونها وعادة ما يعالج بطريقة افضل مع البدائل الاخرى غير التبييض. أنا افهم أن المؤقتات المصنوعة من الأكريليك قد يتغر لونها بعد التعرض للعلاج</p>");
            sb.Append("<p>أنا أفهم أن العلاج لا ينصح للمرضى الذين يعانون من حساسية معروفة للراتنجات، بيروكسيدات أو جليكول</p>");
            sb.Append("<p>وأنا أفهم أن علاج التبييض في العيادة تعتبر آمنة عموما من قبل معظم أطباء الأسنان. أدرك أن هناك بعض المضاعفات المحتملة لهذا العلاج تشمل، على سبيل المثال لكن لاتنحصر على ما يلي</p>");
            sb.Append("<p><u>حساسيةالأسنان / الألم:</u></p>");
            sb.Append("<p>خلال ال ٢٤ ساعة الأولى بعد العلاج، يمكن للعديد من المرضى أن يعانون من بعض حساسية الأسنان أو الألم. هذا أمر طبيعي . عادة، حساسية الأسنان أو الألم بعد العلاج تخف بعد بضعة أيام، ولكن قد تستمر لفترات أطول من الوقت في الأفراد سريعون التأثر.الأشخاص الذين يعانون من الحساسية الحالية، الركود، عاج الأسنان المكشوفة، اسطح الجذور المكشوفة، المينا التالفة أو المفقودة، تصدع الأسنان، الكسور ( الشقوق الصغيرة)، تجاويف مفتوحة، تسريب حشوات، أو غيرها من ظروف الأسنان التي تسبب حساسية أو السماح بتغلغل الجل في السن قد تجد أن هذه الشروط تزيد أو تعمل على إطالة حساسية الأسنان أو الألم بعد العلاج</p>");
            sb.Append("<p><u>اللثة / الشفاه / التهاب الخد:</u></p>");
            sb.Append("<p>د يسبب التبييض التهاب اللثة أو الشفاه أو طرف الخدين. وعادة ما يكون الالتهاب مؤقتا، والذي قد يهدأ في غضون بضعة أيام، ولكنه قد يستمر لفترة أطول، وقد يؤدي إلى ألم أو إزعاج كبير، وهذا يتوقف على درجة تعرض الأنسجة الرخوة للجل</p>");
            sb.Append("<p><u>جفاف / تشققالشفاه:</u></p>");
            sb.Append("<p>يتضمن العلاج فتح الفم بشكل مستمر للعلاج من قبل كامشة بلاستيكية. وهذا يمكن أن يؤدي إلى جفاف أو تشقق الشفاه أو طرف الخد، والتي يمكن معالجتها عن طريق وضع بلسم الشفاه، جل النفط أو كريم فيتامين E</p>");
            sb.Append("<p><u>التجاويفأوتسربالحشوات:</u></p>");
            sb.Append("<p>هذه هي الظروف التي تؤثر على جذور الأسنان عندما تتراجع اللثة وهي عبارة عن الشقوق و / أو المنخفضات التي تظهر أكثر قتامة من بقية الأسنان،حيث تلتقي الأسنان باللثة. فقد طبقة المينا نتيجة التفريش الخاطئ للأسنان أو بفعل الأحماض. حتى لو كانت هذه المناطق ليست حساسة حاليا، فإنها يمكن أن تسمح لجل التبييض باختراق الأسنان مما يتسبب في الحساسية والألم والأضرار المحتملة للعصب. وأنا أفهم أنه إذا كانت أسناني تخضع لنفس الحالة لا ينبغي أن تخضع للعلاج</p>");
            sb.Append("<p><u>التآكل للسن:</u></p>");
            sb.Append("<p>ذه هي الظروف التي تؤثر على جذور الأسنان عندما تتراجع اللثة وهي عبارة عن الشقوق و / أو المنخفضات التي تظهر أكثر قتامة من بقية الأسنان،حيث تلتقي الأسنان باللثة. فقد طبقة المينا نتيجة التفريش الخاطئ للأسنان أو بفعل الأحماض. حتى لو كانت هذه المناطق ليست حساسة حاليا، فإنها يمكن أن تسمح لجل التبييض باختراق الأسنان مما يتسبب في الحساسية والألم والأضرار المحتملة للعصب. وأنا أفهم أنه إذا كانت أسناني تخضع لنفس الحالة لا ينبغي أن تخضع للعلاج</p>");
            sb.Append("<p><u>تآكل الجذر:</u></p>");
            sb.Append("<p>هذا هو الشرط حيث يبدأ جذر السن في الذوبان إما من الداخل أو الخارج. على الرغم من أن سببه لا يزال غير مؤكد، وأنا أفهم أن هناك أدلة تشير إلى أن حدوث تآكل الجذر أعلى في المرضى الذين خضعوا لعلاج العصب تليها إجراءات التبييض</p>");
            sb.Append("<p><u>الإنتكاس:</u></p>");
            sb.Append("<p>بعد العلاج، فمن الطبيعي للأسنان التي خضعت لإجراء تبييض أن يتراجع لونها الى حد ما. هذا أمر طبيعي وينبغي أن يكون تدريجيا ، ولكن يمكن تسريعها من خلال تعريض الأسنان لعوامل تلوين الأسنان المختلفة. وعادة ما ينطوي العلاج على ارتداء قالب منزلي أو تكرار العلاج. وأنا أفهم أن نتائج العلاج ليست دائمة ، قد تكون هناك حاجة إلى تكرار العلاج أو اتخاذ العلاجات المنزلية للحفاظ على لون الأسنان المرغوب به. وأنا أفهم أنه بعد العلاج سوف يطلب مني الامتناع عن استهلاك أي مواد ملونة للأسنان لمدة ٤٨ ساعة الأولى</p>");
            sb.Append("<p>وتشمل هذه المواد: القهوة والشاي والكولا، وجميع منتجات التبغ، الخردل أو الصلصة، والنبيذ الأحمر وصلصة الصويا، فطيرة التوت، والصلصات الحمراء وأحمر الشفاه. أنا أفهم أن هناك مواد أخرى ملونة للأسنان يجب تجنبها خلال ال 48 ساعة الأولى بعد العلاج. إذا كان لدي أي أسئلة بخصوص أي مادة من هذا القبيل، أفهم أنه يمكن مناقشته مع الطبيب. يمكن تفسير السلامة والفعالية والمضاعفات المحتملة ومخاطر العلاج لي من قبل طبيب الأسنان الخاص بي وأنا أفهم أن المزيد من المعلومات حول هذا سوف يقدم لي بناء على طلبي. وبما أنه من المستحيل ذكر كل المضاعفات التي قد تحدث نتيجة للعلاج، فإن قائمة المضاعفات في هذا النموذج غير مكتملة</p>");
            sb.Append("<p>أوافق على التقاط الصور الفوتوغرافية، التصوير والتسجيل و الأشعة السينية بشرط لا يتم الكشف عن هويتي</p>");
            sb.Append("<p>لقد تم شرح الإجراءات الأساسية للعلاج والمزايا والعيوب والمخاطر و المضاعفات المحتملة من العلاجات البديلة من قبل طبيب الأسنان وقد تلقيت إجابات مرضية</p>");
            sb.Append("<p>في التوقيع على هذه الاستمارة أقر بأنني قد قرأت أو قُرأ لي محتويات هذا النموذج وأنا أفهم تماما المخاطر المحتملة، والمضاعفات والمزايا التي يمكن أن تنتج عن العلاج وأن أوافق على الخضوع للعلاج كما وصفها طبيب الأسنان</p>");

            sb.Append("</div>");

            sb.Append("    <table dir='rtl' style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;'  colspan='3'>");
            sb.Append("            <p>قم بالتوقيع هنا فقط إذا تمت الموافقة على جميع الأسئلة</p>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("            مريض");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 34%;'>");
            sb.Append("            شاهد");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("            طبيب");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-left:1px solid #000000'>");
            sb.Append("            <img src='" + psign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-left:1px solid #000000'>");
            sb.Append("            <img src='" + wsign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;'>");
            sb.Append("            <img src='" + emr.doc_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000;border-top:1px solid #000000; width: 33%;'>");
            sb.Append("            اسم المريض");
            sb.Append("             <br/>" + emr.pat_name + "<br/>");
            sb.Append("<br/>تاريخ<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000;border-top:1px solid #000000; width: 34%;'>");
            sb.Append("            اسم الشاهد");
            sb.Append("             <br/>" + pdf.ctwa_1);
            sb.Append("<br/><br/>تاريخ<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-top:1px solid #000000; width: 33%;'>");
            sb.Append("            " + emr.app_doctor_department + "<br/>");
            sb.Append("<br/>تاريخ<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("</table>");

            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + footer + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");
            sb.Append("    </body>");
            sb.Append("</html>");

            String htmlString = sb.ToString();

            return htmlString;
        }

        //Patient Consent To Ortho(AR)
        public static string HtmlConsentOrthoArb(int appId, EMRInfo emr, int setId)
        {
            BusinessEntities.ConsentForms.ConsentOrthoArb pdf = BusinessLogicLayer.ConsentForms.ConsentOrthoArb.GetConsentOrthoArbData(appId).FirstOrDefault();
            BusinessEntities.Common.eSignature psign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "patient", "ConsentOrthoArb").FirstOrDefault();
            BusinessEntities.Common.eSignature wsign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "witness", "ConsentOrthoArb").FirstOrDefault();
            BusinessEntities.Common.PDFHeaderFooter hf = BusinessLogicLayer.Common.PDF.GetHeaderFooterByBranch(setId);

            string header = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "header_images", hf.header.ToString());
            string footer = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "footer_images", hf.footer.ToString());

            StringBuilder sb = new StringBuilder();

            string pdfCpco1 = pdf.cpco_1;
            string radioHtml1 = "<input type='radio'  class='custom-control-input' name='cpco_1' value='Yes' id='1'> <span dir='rtl' class='custom-control-label'> لقد أتيحت لي الفرصة لطرح الأسئلة وقمت بالموافقة على العلاج المقترح كما هو موضح أعلاه</span>";
            string radioHtml2 = "<input type='radio' class='custom-control-input' name='cpco_1' value='No' id='2'> <span dir='rtl' class='custom-control-label'> لقد قمت برفض إعطاء الموافقة للعلاج المقترج كما هو موضح أعلاه وقد تم شرح العواقب المحتملة المرتبطة بالرفض</span>";

            if (pdfCpco1 == "Yes")
            {
                radioHtml1 = radioHtml1.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdfCpco1 == "No")
            {
                radioHtml2 = radioHtml2.Replace("<input type='radio'", "<input type='radio' checked");
            }

            sb.Append("<html>");
            sb.Append("    <head>");
            sb.Append("    <title> <u>موافقة المريض علىبدء علاج العصب</u></title>");
            sb.Append("    <meta charset='utf-8'>");
            sb.Append("    </head>");
            sb.Append("    <body style='font-family: Verdana, Geneva, Tahoma, sans-serif;'>");

            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + header + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    <table dir='rtl' style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'  colspan='9'>");
            sb.Append("            <h1>موافقة المريض علىبدء علاج العصب</h1>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>اسم المريض</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>" + emr.pat_name + "</td>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>هويه الإمارات</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000' colspan='4'>" + emr.pat_emirateid + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>رقم الملف</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>" + emr.pat_code + "</td>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>تاريخ الميلاد</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>" + emr.pat_dob + "</td>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>جنسية</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>" + emr.pat_nationality + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>جنس</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>" + emr.pat_gender + "</td>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>اسم الطبيب</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>" + emr.doc_name + "</td>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>تاريخ</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>" + emr.app_fdate + "</td>");
            sb.Append("    </tr>");
            sb.Append("</table>");

            sb.Append("<div dir='rtl' style='width:100%; text-align:justify; font-size: 12px; margin-top: 50px;margin-bottom: 50px;'>");

            sb.Append("<p>يتم تقديم المعلومات التالية بشكل روتيني إلى أي شخص يود علاج تقويم الأسنان في عيادتنا. عندما تدرك فوائد الإبتسامة المُرضية والأسنان الصحية يجب أن تكون ايضاً على علم أن علاج تقويم الأسنان مثل اي علاج آخر في الجسم لديه بعض المخاطر الكامنة والقيود. هؤلاء نادراً ما يجعلون نتيجة العلاج غير مرضية بما فيه الكفاية.ولكن ينبغي النظر فيها لإتخاذ قرار بدء علاج تقويم الأسنان</p>");
            sb.Append("<p>النظر فيها لإتخاذ قرار بدء علاج تقويم الأسنان</p>");
            sb.Append("<p><u>مسؤؤليات المريض:</u></p>");
            sb.Append("<p><ul>");
            sb.Append("<li>فمن مسؤولية المريض متابعة تنظيف الأسنان بالفرشاه والالتزام بتعليمات نظافة الفم التي تعطى لكم ، بذلك لن يكون هناك ضرر بالأسنان والأنسجة المحيطة بها</li>");
            sb.Append("<li>.أن يلتزم المريض بجميع المواعيد في اليوم والوقت المناسب</li>");
            sb.Append("<li>أن يلتزم بإستخدام الأجهزة الرأسية ، المطاط و أجهزة التثبيت إذا كانت ضرورية ، بحيث يكون وقت العلاج قصير قدر الإمكان وحتى نتمكن من تحقيق أفضل نتيجة</li>");
            sb.Append("<li>سيكون هناك رسوم تقويم الأسنان إضافية لاستبدال الأجهزة (المثبت أو التقويم) التي تضيع أو تتلف بسبب إهمال المريض المتكرر،أو أي تمديد مفرط للعلاج بسبب عدم وجود عملية تعاون مع المريض </li>");
            sb.Append("<li>100% تعاون المريض مهم جداً</li>");
            sb.Append("</ul></p>");
            sb.Append("<p><u>حقوق المريض:</u></p>");
            sb.Append("<p><ul>");
            sb.Append("<li>.حق الرفض أو عدم إكمال العلاج</li>");
            sb.Append("<li>والحق في أن يكون على علم حول نتائج قرار المريض لرفض أو التوقف عن العلاج وبشأن الرعاية وبدائل العلاج المتاحة</li>");
            sb.Append("</ul></p>");
            sb.Append("<p><u>نظافة الفم:</u></p>");
            sb.Append("<p>الكلس ، التسوس أو أمراض اللثة يمكن أن تحدث إذا كان المريض لا يعمل على تفريش أسنانه بشكل صحيح ودقيق خلال فترة العلاج. و الالتزام بنظافة الفم وإزالة القلح أمر لا بد منه. يجب التقليل من السكريات والوجبات الجانبية قدر الإمكان</p>");
            sb.Append("<p><u>الأسنان غير الحيوية أو الميتة هو احتمال:</u></p>");
            sb.Append("<p>الأسنان التى اصيبت لصدمة من حشوة عميقة أو حتى ضربة يمكن أن تموت على المدى الطويل من الزمن مع أو بدون علاج تقويم الأسنان. الأسنان الغير حيوية التي لم يتم الكشف عنها يمكن أن تظهر خلال حركة تقويم الأسنان، وعندها يجب اجراء علاج سحب العصب للحفاظ علية</p>");
            sb.Append("<p><u>إمتصاص الجذر:</u></p>");
            sb.Append("<p>في بعض الحالات، يتم تقصير النهايات الجذرية للأسنان اثناء العلاج. هذا ما يسمى إمتصاص الجذر. في ظل الظروف الصحية إمتصاص الجذر ليست ضارة. ومع ذلك في حالة أمراض اللثة لاحقاً على مدى العمر يمكن لإمتصاص الجذر أن يقلل من عمر الأسنان المتضررة. يجب معرفة أن ليس كل امتصاص جذري ينشأ من علاج تقويم الأسنان. الصدمات، الجروح ، الإنحشار ، إضرابات الغدد الصماء وأسباب مجهولة يمكن أيضاً أن تسبب امتصاص الجذور</p>");
            sb.Append("<p><u>قضايا النمو:</u></p>");
            sb.Append("<p>أحياناً الشخص الذي نمى بشكل طبيعي وفي نسب متوسطة قد لا يستمر بالقيام بذلك.إذا أصبح النمو غير متناسب، يمكن أن تتأثر علاقة الفك وأهداف العلاج الأصلي قد تكون عرضة للخطر. تنافر نمو الهيكل العظمي هي عملية بيولوجية خارجة عن سيطرة علاج تقويم الأسنان. بعض مرضى تقويم الأسنان يحتاجون الى جراحة الفم للحصول على نتيجة علاج معقولة لحالتهم . معظم المرضى ضعيفي النو ، ضعيفي الإستجابة للعلاج أو ضعيفي التعاون يمكن أن يحتاجون لجراحة الفم لاستكمال حالتهم</p>");
            sb.Append("<p><u>أنسجة اللثة:</u></p>");
            sb.Append("<p>علاقة عظام اللثة حول الأسنان يعتمد دائما على ما إذا كان هناك ما يكفي من العظام لدعم أنسجة اللثة بشكل صحيح. مرات عديدة عندما تكون الأسنان مزدحمة جداً ويتم تقويمها يصبح هناك نقص في العظام التي تدعم الأنسجة المحيطة بالأسنان وبالتالي كفاف انسجة اللثة والدعم قد لا يكون كافي ويتطلب تدخل باللثة</p>");
            sb.Append("<p><u>وقت العلاج:</u></p>");
            sb.Append("<p>الوقت الاجمالي من العلاج يمكن أن يتأخر بما يتجاوز تقديراتنا. نقص أو ضعف النمو الوجهي ، عدم التعاون في استعمال المطاط أو الأجهزة الرأسية ، كسر الاجهزه أو التغيب عن المواعيد كل هذه عوامل مهمة يمكا أن تعمل على إطالة مدة العلاج و تأثر على النتيجة المتوقعة</p>");
            sb.Append("<p><u>أجهزة إضافية للفم:</u></p>");
            sb.Append("<p>يجب أن تتبع التعليمات بكل حذر، الأجهزة الخارجية التي يتم سحبها الى الخارج عند ارفاق القوة المرنة يمكن أن يسبب ضررا للوجة أو العينين. ومع ذلك، فإننا نستخدم أجهزة مع مكملات تعطي ميزة السلامة للحد من هذا الاحتمال. دائماً تذكر ازالة القوة المطبقة قبل ازالة القناع الوجهي من أسنانك. لتقليل احتمال الإصابة ، يجب عدم ممارسة الرياضة والأنشطة المشابهة حين ارتداء الأجهزة الراسية</p>");
            sb.Append("<p><u>المفصل الفكي الصدعي:</u></p>");
            sb.Append("<p>قد تحدث مشكلة للمفصل الفكي الصدعي . على الرغم من أنها نادرة، إلا انها ممكنه. محاذات الاسنان أو تصحيح إطباق الأسنان احيانا يمكن أن يعمل على تحسين الأسباب ذات الصلة بآلام المفصل الفكي الصدعي ولكن ليس في جميع الحالات. يلعب التوتر دورا في تواتر وشدة آلام المفاصل ويوجد هناك العديد من العوامل المسببه للإختلال الوظيفي للمفصل الفكي الصدعي</p>");
            sb.Append("<p><u>حالات عادية جدا:</u></p>");
            sb.Append("<p>ابتعلاع الأدوات ، تكسر الأسنان ، وقوع الحشوة و الحساسية من اللاتكس أو النيكل قليلا ما تحدث ولكنها ممكنة</p>");
            sb.Append("<p><u>التوقعات:</u></p>");
            sb.Append("<p>جميع مرضى تقويم الاسنان يستطيعون توقع التحسن في حالة أسنانهم الخاصة لكن في العديد من الحالات الكمال أو التحسن المطلق مستحيل بسبب نقص توازن العضلات ، شكل وحجم الأسنان واختلاف درجة التعاون اثناء العلاج بالإضافة الى جانب العوامل الوراثية التي تؤثر على نتيجة العلاج للجميع</p>");
            sb.Append("<p><u>الإنتكاس:</u></p>");
            sb.Append("<p>تميل الأسنان للعودة إلى وضعهم الأصلي بعد علاج تقويم الأسنان هذا ما يسمى بالإنتكاس. المشاكل الشديدة جداً لها نسبة ميل للإنتكاس والمنطقة الأكثر شيوعا هي الأسنان الأمامية السفلى. بعد إزالة التقويم يتم وضع مثبت لتقليل نسبة الإنتكاس. التعاون في لبس المثبت هو أمر ضروري. سنقوم بعمل تصحيحنا بأعلى المعايير وفي كثير من الحالات علاج الحالة أمر ضروري لاستيعاب ميول الارتداد. إذا توقف المريض عن استخدام المثبت فإن نسبة من الانتكاس يمكن أن تحدث</p>");
            sb.Append("<p>أوافق على التقاط الصور الفوتوغرافية، نماذج الدراسة والاشعة السينية قبل ، خلال وبعد علاج تقويم الأسنان للمساعدة في الخطة وبرنامج العلاج. اذا اثبت أن الحالة ذات أهمية خاصة سيحتفظ الطبيب بالحق في تقديم السجلات أو الأوراق العلمية للمناقشة مع الأخصائيين</p>");
            sb.Append("<p>أقر بأنني قد قرأت أو قُرأ لي محتويات هذا النموذج وملاحظة المخاطر و القيود التي ينطوي عليها ذلك والموافقة على علاج تقويم الأسنان</p>");
            sb.Append("<p>في حالة أني أود التوقف عن العلاج، فقد تم إبلاغي وفهمت المخاطر المرتبطة مع ترك حالتي بدون علاج، ادرك أن صحتي العامة قد تتأثر بقراري . لذا لن أقوم بتحميل الطبيب ، طاقم العمل أو أي شخص مرتبط بممارسة طب الأسنان المسؤؤلية للتغير الذي سيحصل لصحتي العامة الناتج عن هذا الشرط . لقد اتيحت لي الفرصة لطرح اسئلة حول حالتي، خيارات العلاج و رفض العلاج. لقد قام مزود الموقع ادناه الإجابة على جميع أسئلتي. لقد فهمت النطاق الكامل للوضع وانا اخذ قرار الموافقة</p>");
            sb.Append("<p><u>استمارة الموافقة المسبقة:</u></p>");
            sb.Append("<p>لقد أتيحت لي الفرصة لطرح أي أسئلة بخصوص طبيعة والغرض من علاج تقويم الأسنان وقد تلقيت إجابات مرضية. أنا طوعا اتحمل جميع المخاطر المحتملة ،بما في ذلك خطر حدوث ضرر كبير، إن وجد، والذي قد يرتبط بأي مرحلة من مراحل العلاج ، على أمل الحصول على النتائج المرجوة، والتي من الممكن أو غير الممكن تحقيقها. الرسوم (إن وجدت) لهذه الخدمة لقد تم شرحها وهي مرضية. من خلال التوقيع على هذا النموذج أنا أعطي بحرية موافقتي للسماح للدكتور " + emr.doc_name + " أو/ و أحد مساعديه لتقديم العلاج لتقديم العلاج أو اي دواء و /أو التخدير الذي يعتبر ضروري للعلاج</p>");
            sb.Append(radioHtml1);
            sb.Append("<br>");
            sb.Append(radioHtml2);

            sb.Append("</div>");

            sb.Append("    <table dir='rtl' style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;'  colspan='3'>");
            sb.Append("            <p>قم بالتوقيع هنا فقط إذا تمت الموافقة على جميع الأسئلة</p>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("            مريض");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 34%;'>");
            sb.Append("            شاهد");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("            طبيب");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-left:1px solid #000000'>");
            sb.Append("            <img src='" + psign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-left:1px solid #000000'>");
            sb.Append("            <img src='" + wsign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;'>");
            sb.Append("            <img src='" + emr.doc_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000;border-top:1px solid #000000; width: 33%;'>");
            sb.Append("            اسم المريض");
            sb.Append("             <br/>" + emr.pat_name + "<br/>");
            sb.Append("<br/>تاريخ<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000;border-top:1px solid #000000; width: 34%;'>");
            sb.Append("            اسم الشاهد");
            sb.Append("             <br/>" + pdf.cpco_2);
            sb.Append("<br/><br/>تاريخ<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-top:1px solid #000000; width: 33%;'>");
            sb.Append("            " + emr.app_doctor_department + "<br/>");
            sb.Append("<br/>تاريخ<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("</table>");

            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + footer + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");
            sb.Append("    </body>");
            sb.Append("</html>");

            String htmlString = sb.ToString();

            return htmlString;
        }

        //Intimate Peel Informed  Consent Form
        public static string HtmlIntimatePeel(int appId, EMRInfo emr, int setId)
        {
            BusinessEntities.ConsentForms.IntimatePeel pdf = BusinessLogicLayer.ConsentForms.IntimatePeel.GetIntimatePeelData(appId).FirstOrDefault();
            BusinessEntities.Common.eSignature psign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "patient", "IntimatePeel").FirstOrDefault();
            BusinessEntities.Common.eSignature wsign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "witness", "IntimatePeel").FirstOrDefault();
            BusinessEntities.Common.PDFHeaderFooter hf = BusinessLogicLayer.Common.PDF.GetHeaderFooterByBranch(setId);

            string header = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "header_images", hf.header.ToString());
            string footer = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "footer_images", hf.footer.ToString());

            StringBuilder sb = new StringBuilder();


            sb.Append("<html>");
            sb.Append("    <head><title> <u>Intimate Peel Informed  Consent</u></title></head>");
            sb.Append("    <body style='font-family: Verdana, Geneva, Tahoma, sans-serif;'>");

            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + header + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'  colspan='9'>");
            sb.Append("            <h1>Intimate Peel Informed  Consent</h1>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Patient Name</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000' colspan='4'>" + emr.pat_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Emirates ID</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_emirateid + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>File No</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_code + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>DOB</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_dob + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Nationality</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_nationality + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Gender</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_gender + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Doctor's Name</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.doc_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Date</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.app_fdate + "</td>");
            sb.Append("    </tr>");
            sb.Append("</table>");

            sb.Append("<div style='width:100%; text-align:justify; font-size: 12px; margin-top: 50px;margin-bottom: 50px;'>");
            sb.Append("<p><b>I have been informed and well explained about the following details of the treatment:</b></p>");
            sb.Append("<p>- Intimate peel is a non-toxic acidic chemical that, when applied to the affected area, stimulates the top layers of the skin to peel and rejuvenates the underlying skin. This results in a lightening of the treated skin.</p>");
            sb.Append("<p>- The product that will be applied are packed with proven active ingredients to lighten the skin on your intimate areas. Usually a course of 4 treatments would be recommended, spaced 1-2 weeks apart</p>");
            sb.Append("<p>- The Intimate Peel will then be applied to the area and left to work for 5-8 minutes each coating. The Therapist will then thoroughly remove the product leaving you feeling completely clean and fresh.</p>");
            sb.Append("<p>- The Intimate Peel doesn't require any post-treatment downtime. You will be advised to wear loose clothing, avoid exercise directly on the same day of your treatment as well as avoid any waxing or laser hair removal on the area during the treatment process.</p>");
            sb.Append("<p><b>I am consenting the Therapist/Doctor " + emr.doc_name + " to do my Intimate peel at" + emr.set_company + ". I am fully aware that the main priority of " + emr.set_company + " staff is to ensure my safety, make me feel at ease and maintain my privacy and comfort at all times.</b></p>");

            sb.Append("</div>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;'  colspan='2'>");
            sb.Append("            <p>Sign here, only if all of your questions have been answered to your satisfaction</p>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("            Patient");
            sb.Append("        </td>");
            //sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 34%;'>");
            //sb.Append("            Witness");
            //sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("            Doctor");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000'>");
            sb.Append("            <img src='" + psign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            //sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000'>");
            //sb.Append("            <img src='" + wsign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            //sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;'>");
            sb.Append("            <img src='" + emr.doc_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000;border-top:1px solid #000000;'>");
            sb.Append("            Patient Name");
            sb.Append("             <br/>" + emr.pat_name + "<br/>");
            sb.Append("<br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            //sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000;border-top:1px solid #000000;'>");
            //sb.Append("<br/>Date<br/>");
            //sb.Append(emr.app_fdate);
            //sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-top:1px solid #000000;'>");
            sb.Append("            Doctor Name<br/>");
            sb.Append("            " + emr.app_doctor_department + "<br/>");
            sb.Append("<br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("</table>");

            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + footer + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");
            sb.Append("    </body>");
            sb.Append("</html>");

            String htmlString = sb.ToString();

            return htmlString;
        }

        //Body Wrap Informed Consent Form
        public static string HtmlBodyWrap(int appId, EMRInfo emr, int setId)
        {
            BusinessEntities.ConsentForms.BodyWrap pdf = BusinessLogicLayer.ConsentForms.BodyWrap.GetBodyWrapData(appId).FirstOrDefault();
            BusinessEntities.Common.eSignature psign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "patient", "BodyWrap").FirstOrDefault();
            BusinessEntities.Common.eSignature wsign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "witness", "BodyWrap").FirstOrDefault();
            BusinessEntities.Common.PDFHeaderFooter hf = BusinessLogicLayer.Common.PDF.GetHeaderFooterByBranch(setId);

            string header = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "header_images", hf.header.ToString());
            string footer = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "footer_images", hf.footer.ToString());

            StringBuilder sb = new StringBuilder();


            sb.Append("<html>");
            sb.Append("    <head><title> <u>Body Wrap Informed Consent</u></title></head>");
            sb.Append("    <body style='font-family: Verdana, Geneva, Tahoma, sans-serif;'>");

            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + header + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'  colspan='9'>");
            sb.Append("            <h1>Body Wrap Informed Consent</h1>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Patient Name</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000' colspan='4'>" + emr.pat_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Emirates ID</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_emirateid + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>File No</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_code + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>DOB</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_dob + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Nationality</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_nationality + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Gender</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_gender + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Doctor's Name</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.doc_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Date</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.app_fdate + "</td>");
            sb.Append("    </tr>");
            sb.Append("</table>");

            sb.Append("<div style='width:100%; text-align:justify; font-size: 12px; margin-top: 50px;margin-bottom: 50px;'>");
            sb.Append("<p><b>BODY WRAP is an express slimming programme and a personalized treatment which allows obtaining in a short-time and with no efforts or side effects the desired body shape by reducing the excess centimeters and improving the cellulite conditions.</b></p>");
            sb.Append("<p>I " + pdf.bwc_1 + " have been informed about the following details of the treatment:</p>");
            sb.Append("<p><ul><li><b>Detoxification and Water Retention:</b>Body wraps featuring detoxifying algae, caffein, Dead sea salt and other ingredients that can help rid the body of toxins through metabolic skin cell stimulation. As your largest organ, detoxification of the epidermis can have a significant effect on your health and overall well-being.</li>");
            sb.Append("<br/>");
            sb.Append("<li><b>Temporary inch and/or weight loss:</b> Wraps with detoxifying ingredients teamed with firmly wound bandages will see you sweat out any excess water and toxins, and also tighten your skin. This can temporarily improve the contours of your body and see you lose a dress size or two.</li>");
            sb.Append("<br/>");
            sb.Append("<li><b>Dead skin removal:</b> Wrap treatments comprising an exfoliation stage will see dead skin cells lifted, providing you a smoother complexion top-to-toe and a flattering glow.</li>");
            sb.Append("<br/>");
            sb.Append("<li><b>Intensive moisturisation:</b> The vast majority of wraps comprise moisturising ingredients to hydrate, nourish and smooth your skin for improved condition.</li>");
            sb.Append("<br/>");
            sb.Append("<li><b>Relaxation:</b> Once you're fully wrapped by your Therapist, you'll be left to relax for up to 30 minutes.</li>");
            sb.Append("<br/>");
            sb.Append("<li>Enveloped by a pleasant and comfortable body wrap, the skin progressively absorbs the main active ingredients contained in the products and in just 30 minutes the results are visible: more compact and nourished skin but especially an effective reduction of excess centimeters after the first treatment.</li>");
            sb.Append("<br/>");
            sb.Append("<li>8 sessions is the ideal number of treatments in order to maximize the benefits and improve skin imperfections. It is recommended to repeat the treatment every 2 months for long-lasting results</li></ul></p>");
            sb.Append("<p>I am fully aware that the decision to proceed with the body wrap treatment is based solely on my expressed desire to do so. I understand the procedure, risk, benefits and alternatives. I am allowing the therapist/doctor " + @emr.doc_name + " of Clinic to do the treatment for me.</p>");

            sb.Append("</div>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;'  colspan='2'>");
            sb.Append("            <p>Sign here, only if all of your questions have been answered to your satisfaction</p>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("            Patient");
            sb.Append("        </td>");
            //sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 34%;'>");
            //sb.Append("            Witness");
            //sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("            Doctor");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000'>");
            sb.Append("            <img src='" + psign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            //sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000'>");
            //sb.Append("            <img src='" + wsign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            //sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;'>");
            sb.Append("            <img src='" + emr.doc_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000;border-top:1px solid #000000;'>");
            sb.Append("            Patient Name");
            sb.Append("             <br/>" + emr.pat_name + "<br/>");
            sb.Append("<br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            //sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000;border-top:1px solid #000000;'>");
            //sb.Append("<br/>Date<br/>");
            //sb.Append(emr.app_fdate);
            //sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-top:1px solid #000000;'>");
            sb.Append("            Doctor Name<br/>");
            sb.Append("            " + emr.app_doctor_department + "<br/>");
            sb.Append("<br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("</table>");

            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + footer + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");
            sb.Append("    </body>");
            sb.Append("</html>");

            String htmlString = sb.ToString();

            return htmlString;
        }

        //Social Media Photo Consent Form
        public static string HtmlSocialConsent(int appId, EMRInfo emr, int setId)
        {
            BusinessEntities.ConsentForms.SocialConsent pdf = BusinessLogicLayer.ConsentForms.SocialConsent.GetSocialConsentData(appId).FirstOrDefault();
            BusinessEntities.Common.eSignature psign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "patient", "SocialConsent").FirstOrDefault();
            BusinessEntities.Common.eSignature wsign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "witness", "SocialConsent").FirstOrDefault();
            BusinessEntities.Common.PDFHeaderFooter hf = BusinessLogicLayer.Common.PDF.GetHeaderFooterByBranch(setId);

            string header = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "header_images", hf.header.ToString());
            string footer = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "footer_images", hf.footer.ToString());

            StringBuilder sb = new StringBuilder();


            sb.Append("<html>");
            sb.Append("    <head><title> <u>Social Media Photo Consent</u></title></head>");
            sb.Append("    <body style='font-family: Verdana, Geneva, Tahoma, sans-serif;'>");

            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + header + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'  colspan='9'>");
            sb.Append("            <h1>Social Media Photo Consent</h1>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Patient Name</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000' colspan='4'>" + emr.pat_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Emirates ID</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_emirateid + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>File No</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_code + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>DOB</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_dob + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Nationality</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_nationality + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Gender</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_gender + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Doctor's Name</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.doc_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Date</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.app_fdate + "</td>");
            sb.Append("    </tr>");
            sb.Append("</table>");

            sb.Append("<div style='width:100%; text-align:justify; font-size: 12px; margin-top: 50px;margin-bottom: 50px;'>");
            sb.Append("<p>Without expectation of compensation or other renumeration, now or in the future, I hereby give my consent to " + emr.set_company + ", its affiliates and agents to use my image and likeness and/or any interview statements from me in its publications, advertising or other media activities (including the internet). This consent includes, but is not limited to:</p>");
            sb.Append("<p><ul><li>(a) Permission to interview, film, photograph, tape, or otherwise make a video reproduction of me and/ or record my voice;</li><br/>");
            sb.Append("<li>(b) Permission to use my name  </li><br/>");
            sb.Append("<li>(c) Permission to use quotes from the interview(s) (or excerpts of such quotes), the film, photograph(s), tape(s) or reproduction(s) of me, and/or recording my voice, in part or in whole, in its publications, in newspapers, magazines and other print media, on television, radio and electronic media (including the internet), in theatrical media and/or in mailings for educational and awareness.</li></ul>");
            sb.Append("</p>");
            sb.Append("</div>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;'  colspan='2'>");
            sb.Append("            <p>Sign here, only if all of your questions have been answered to your satisfaction</p>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("            Patient");
            sb.Append("        </td>");
            //sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 34%;'>");
            //sb.Append("            Witness");
            //sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("            Doctor");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000'>");
            sb.Append("            <img src='" + psign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            //sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000'>");
            //sb.Append("            <img src='" + wsign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            //sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;'>");
            sb.Append("            <img src='" + emr.doc_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000;border-top:1px solid #000000;'>");
            sb.Append("            Patient Name");
            sb.Append("             <br/>" + emr.pat_name + "<br/>");
            sb.Append("<br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            //sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000;border-top:1px solid #000000;'>");
            //sb.Append("<br/>Date<br/>");
            //sb.Append(emr.app_fdate);
            //sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-top:1px solid #000000;'>");
            sb.Append("            Doctor Name<br/>");
            sb.Append("            " + emr.app_doctor_department + "<br/>");
            sb.Append("<br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("</table>");

            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + footer + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");
            sb.Append("    </body>");
            sb.Append("</html>");

            String htmlString = sb.ToString();

            return htmlString;
        }

        //Prp Consent Form
        public static string HtmlPrpConsent(int appId, EMRInfo emr, int setId)
        {
            BusinessEntities.ConsentForms.PrpConsent pdf = BusinessLogicLayer.ConsentForms.PrpConsent.GetPrpConsentData(appId).FirstOrDefault();
            BusinessEntities.Common.eSignature psign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "patient", "PrpConsent").FirstOrDefault();
            BusinessEntities.Common.eSignature wsign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "witness", "PrpConsent").FirstOrDefault();
            BusinessEntities.Common.PDFHeaderFooter hf = BusinessLogicLayer.Common.PDF.GetHeaderFooterByBranch(setId);

            string header = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "header_images", hf.header.ToString());
            string footer = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "footer_images", hf.footer.ToString());

            StringBuilder sb = new StringBuilder();


            sb.Append("<html>");
            sb.Append("    <head><title> <u>PRP Consent</u></title></head>");
            sb.Append("    <body style='font-family: Verdana, Geneva, Tahoma, sans-serif;'>");

            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + header + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'  colspan='9'>");
            sb.Append("            <h1>PRP Consent</h1>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Patient Name</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000' colspan='4'>" + emr.pat_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Emirates ID</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_emirateid + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>File No</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_code + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>DOB</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_dob + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Nationality</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_nationality + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Gender</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_gender + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Doctor's Name</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.doc_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Date</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.app_fdate + "</td>");
            sb.Append("    </tr>");
            sb.Append("</table>");

            sb.Append("<div style='width:100%; text-align:justify; font-size: 12px; margin-top: 50px;margin-bottom: 50px;'>");
            sb.Append("<p>PRP (Platelet Rich Plasma) is a natural product derived from you own body used to help tissue heal and grow new cells. PRP is processed from a small sample of your blood to produce a plasma that is rich in platelets. The plasma is applied topically, injected or a combination of both to help the tissue heal and regenerate new cells for increased elasticity and improved skin tone. While lines and wrinkles soften and recede. The regenerative process resulting from PRP is used an excellent combination treatment for acne and scar revision.</p>");
            sb.Append("<p><ul><li> I hereby request and authorized the use of PRP and understand this procedure require a simple blood draw.</li><br/>");
            sb.Append("<li>The details of the procedure have been explained to me.</li><br/>");
            sb.Append("<li>I understand PRP involves a series of treatment to achieve optimum results and the fee structure has been fully explained.</li><br/>");
            sb.Append("<li>I understand the effects of this treatment are gradual as the healing process of platelets and growth factor stimulate a stem cell response that naturally helps collagen regenerate over time.</li><br/>");
            sb.Append("<li>I understand with any facial injections it is unlikely, but possible, small blood vessels could be broken which could result in temporary swelling, bruising, redness and soreness.</li><br/>");
            sb.Append("<li>I understand any injection carries a minimal but potential risk of infection.</li><br/>");
            sb.Append("<li>I have no muscle or nerve condition.</li><br/>");
            sb.Append("<li>I have not had chemotherapy or radiation treatments within the last 12 months.</li><br/>");
            sb.Append("<li>I have not used Accutane (Isotretinoin) in the past 12 months.</li><br/>");
            sb.Append("<li>I am not currently pregnant or breastfeeding.</li><br/>");
            sb.Append("<li>I am aware that the PRP treatment is not permanent as natural degradation will occur overtime.</li><br/>");
            sb.Append("</ul>");
            sb.Append("</p>");
            sb.Append("<p>I am fully aware that the decision to proceed is based solely on my expressed desire to do so. I understand the procedure, risk, benefits and alternatives</p>");
            sb.Append("</div>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;'  colspan='2'>");
            sb.Append("            <p>Sign here, only if all of your questions have been answered to your satisfaction</p>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("            Patient");
            sb.Append("        </td>");
            //sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 34%;'>");
            //sb.Append("            Witness");
            //sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("            Doctor");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000'>");
            sb.Append("            <img src='" + psign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            //sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000'>");
            //sb.Append("            <img src='" + wsign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            //sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;'>");
            sb.Append("            <img src='" + emr.doc_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000;border-top:1px solid #000000;'>");
            sb.Append("            Patient Name");
            sb.Append("             <br/>" + emr.pat_name + "<br/>");
            sb.Append("<br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            //sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000;border-top:1px solid #000000;'>");
            //sb.Append("<br/>Date<br/>");
            //sb.Append(emr.app_fdate);
            //sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-top:1px solid #000000;'>");
            sb.Append("            Doctor Name<br/>");
            sb.Append("            " + emr.app_doctor_department + "<br/>");
            sb.Append("<br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("</table>");

            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + footer + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");
            sb.Append("    </body>");
            sb.Append("</html>");

            String htmlString = sb.ToString();

            return htmlString;
        }

        //Laser Hair Bleaching Consent Form
        public static string HtmlLaserHairBleaching(int appId, EMRInfo emr, int setId)
        {
            BusinessEntities.ConsentForms.PrpConsent pdf = BusinessLogicLayer.ConsentForms.PrpConsent.GetPrpConsentData(appId).FirstOrDefault();
            BusinessEntities.Common.eSignature psign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "patient", "LaserHairBleaching").FirstOrDefault();
            BusinessEntities.Common.eSignature wsign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "witness", "LaserHairBleaching").FirstOrDefault();
            BusinessEntities.Common.PDFHeaderFooter hf = BusinessLogicLayer.Common.PDF.GetHeaderFooterByBranch(setId);

            string header = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "header_images", hf.header.ToString());
            string footer = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "footer_images", hf.footer.ToString());

            StringBuilder sb = new StringBuilder();


            sb.Append("<html>");
            sb.Append("    <head><title> <u>Laser Hair Bleaching</u></title></head>");
            sb.Append("    <body style='font-family: Verdana, Geneva, Tahoma, sans-serif;'>");

            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + header + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'  colspan='9'>");
            sb.Append("            <h1>Laser Hair Bleaching</h1>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Patient Name</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000' colspan='4'>" + emr.pat_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Emirates ID</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_emirateid + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>File No</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_code + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>DOB</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_dob + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Nationality</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_nationality + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Gender</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_gender + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Doctor's Name</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.doc_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Date</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.app_fdate + "</td>");
            sb.Append("    </tr>");
            sb.Append("</table>");

            sb.Append("<div style='width:100%; text-align:justify; font-size: 12px; margin-top: 50px;margin-bottom: 50px;'>");
            sb.Append("<p>Laser hair bleaching is the ultimate solution for the fine hairs that cannot be easily removed. It bleaches the hair thus making it invisible without any risk of hair growth stimulation. This laser technology bleaches the fine hairs and treats any type of skin: white, dark and tanned. It targets the melanin in the hair shaft and bleaches it, thus making it invisible.</p>");
            sb.Append("<p><b>I have been informed of the following details of the treatment:</b></p>");
            sb.Append("<p><ul><li>The procedure bleach disguises dark hairs, transforming them into a blonde or golden color making the hairs harder to see.</li><br/>");
            sb.Append("<li>This can be useful on an area that has thin but dark hairs like the face or neck. This is a unique solution for unwanted baby hair.</li><br/>");
            sb.Append("<li>All body areas can undergo the laser bleaching treatments safely and effectively except the eye area.</li><br/>");
            sb.Append("<li>Laser hair bleaching can be done once every 4-6 weeks and when desired.</li><br/>");
            sb.Append("<li>It is well-known that the fine hair (also known as baby hair) cannot be removed permanently by laser hair removal and sometimes though rear the opposite occurs, this fine hair is transformed to thick coarse hair due to thermal effects of laser hair removal.</li><br/>");
            sb.Append("<li>For laser bleaching, the hair becomes almost invisible. After 10- 15 days they fall out and then re-grow after 4-6 weeks in the same texture and quality. No specific care is needed except for the use of sunscreen.</li><br/>");
            sb.Append("</ul>");
            sb.Append("</p>");
            sb.Append("<p>I hereby consent to and authorize " + emr.set_company + " to perform Laser Hair bleaching on me. I understand I may experience slight tingling sensation during treatment and will require some precautions under the sun.</p>");
            sb.Append("</div>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;'  colspan='2'>");
            sb.Append("            <p>Sign here, only if all of your questions have been answered to your satisfaction</p>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("            Patient");
            sb.Append("        </td>");
            //sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 34%;'>");
            //sb.Append("            Witness");
            //sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("            Laser Therapist/Doctor");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000'>");
            sb.Append("            <img src='" + psign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            //sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000'>");
            //sb.Append("            <img src='" + wsign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            //sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;'>");
            sb.Append("            <img src='" + emr.doc_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000;border-top:1px solid #000000;'>");
            sb.Append("            Patient Name");
            sb.Append("             <br/>" + emr.pat_name + "<br/>");
            sb.Append("<br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            //sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000;border-top:1px solid #000000;'>");
            //sb.Append("<br/>Date<br/>");
            //sb.Append(emr.app_fdate);
            //sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-top:1px solid #000000;'>");
            sb.Append("            Doctor Name<br/>");
            sb.Append("            " + emr.app_doctor_department + "<br/>");
            sb.Append("<br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("</table>");

            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + footer + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");
            sb.Append("    </body>");
            sb.Append("</html>");

            String htmlString = sb.ToString();

            return htmlString;
        }

        //CarbonPeel Consent Form
        public static string HtmlCarbonPeel(int appId, EMRInfo emr, int setId)
        {
            BusinessEntities.ConsentForms.CarbonPeel pdf = BusinessLogicLayer.ConsentForms.CarbonPeel.GetCarbonPeelData(appId).FirstOrDefault();
            BusinessEntities.Common.eSignature psign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "patient", "CarbonPeel").FirstOrDefault();
            BusinessEntities.Common.eSignature wsign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "witness", "CarbonPeel").FirstOrDefault();
            BusinessEntities.Common.PDFHeaderFooter hf = BusinessLogicLayer.Common.PDF.GetHeaderFooterByBranch(setId);

            string header = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "header_images", hf.header.ToString());
            string footer = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "footer_images", hf.footer.ToString());

            StringBuilder sb = new StringBuilder();


            sb.Append("<html>");
            sb.Append("    <head><title> <u>Carbon Peel Consent</u></title></head>");
            sb.Append("    <body style='font-family: Verdana, Geneva, Tahoma, sans-serif;'>");

            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + header + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'  colspan='9'>");
            sb.Append("            <h1>Carbon Peel Consent</h1>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Patient Name</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000' colspan='4'>" + emr.pat_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Emirates ID</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_emirateid + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>File No</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_code + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>DOB</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_dob + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Nationality</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_nationality + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Gender</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_gender + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Doctor's Name</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.doc_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Date</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.app_fdate + "</td>");
            sb.Append("    </tr>");
            sb.Append("</table>");

            sb.Append("<div style='width:100%; text-align:justify; font-size: 12px; margin-top: 50px;margin-bottom: 50px;'>");
            sb.Append("<p>The Lucid Q Carbon laser peel is the star in anti-aging & skin rejuvenation. It is considered to be an excellent procedure to exfoliate and refresh your skin, providing you an instant refreshed appearance and leaving skin feeling softer, smoother and firmer.</p>");
            sb.Append("<p><b>I have been informed of the following details of the treatment:</b></p>");
            sb.Append("<p><ul><li>A layer of liquid carbon is applied to the skin, where it penetrates deep into the pores. Laser light is highly attracted to the carbon particles.</li><br/>");
            sb.Append("<li>It treats enlarged pores, uneven dull skin tones, acne scars, sun damage and pigmentation including fine lines & wrinkles.</li><br/>");
            sb.Append("<li>It reduces the acne bacteria responsible for causing acne, allowing for better management of pimples and outbreaks.</li><br/>");
            sb.Append("<li>You may experience a slight snapping or pricking on the skin which is easy to tolerate and does not require any local numbing cream.</li><br/>");
            sb.Append("<li>When the laser is passed over the treatment area it targets and destroys the carbon particles, taking any absorbed material with it.</li><br/>");
            sb.Append("<li>As the carbon is targeted by the laser, it blasts away dead skin cells, blackheads and effectively exfoliates the skin. The result is softer, radiant skin with reduced pore size and a more even skin tone.</li><br/>");
            sb.Append("<li>Carbon peels also target the deep layers of the skin to stimulate collagen production, which in turn produces firmer, plumper skin, reduces fine lines and wrinkles, and leaves skin feeling tighter and glowing.</li></ul></p>");
            sb.Append("<p>I hereby authorize " + emr.set_company + " to perform Carbon peel on me. I understand I may experience slight pricking on the skin during treatment and will require some precautions under the sun after the procedure.</p>");
            sb.Append("</div>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;'  colspan='2'>");
            sb.Append("            <p>Sign here, only if all of your questions have been answered to your satisfaction</p>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("            Patient");
            sb.Append("        </td>");
            //sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 34%;'>");
            //sb.Append("            Witness");
            //sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("            Laser Therapist/Doctor");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000'>");
            sb.Append("            <img src='" + psign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            //sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000'>");
            //sb.Append("            <img src='" + wsign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            //sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;'>");
            sb.Append("            <img src='" + emr.doc_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000;border-top:1px solid #000000;'>");
            sb.Append("            Patient Name");
            sb.Append("             <br/>" + emr.pat_name + "<br/>");
            sb.Append("<br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            //sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000;border-top:1px solid #000000;'>");
            //sb.Append("<br/>Date<br/>");
            //sb.Append(emr.app_fdate);
            //sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-top:1px solid #000000;'>");
            sb.Append("            Doctor Name<br/>");
            sb.Append("            " + emr.app_doctor_department + "<br/>");
            sb.Append("<br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("</table>");

            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + footer + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");
            sb.Append("    </body>");
            sb.Append("</html>");

            String htmlString = sb.ToString();

            return htmlString;
        }

        //Vascular&Pigmented Consent Form 
        public static string HtmlVascularConsent(int appId, EMRInfo emr, int setId)
        {
            BusinessEntities.ConsentForms.VascularConsent pdf = BusinessLogicLayer.ConsentForms.VascularConsent.GetVascularConsentData(appId).FirstOrDefault();
            BusinessEntities.Common.eSignature psign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "patient", "VascularConsent").FirstOrDefault();
            //BusinessEntities.Common.eSignature wsign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "witness", "VascularConsent").FirstOrDefault();
            BusinessEntities.Common.PDFHeaderFooter hf = BusinessLogicLayer.Common.PDF.GetHeaderFooterByBranch(setId);

            string header = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "header_images", hf.header.ToString());
            string footer = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "footer_images", hf.footer.ToString());

            StringBuilder sb = new StringBuilder();

            string pdfPic1 = pdf.pic_3;
            string radioHtml1 = "<input type='radio' class='custom-control-input' name='pic_3' value='Yes' id='1'>";
            string radioHtml2 = "<input type='radio' class='custom-control-input' name='pic_3' value='No' id='2'>";

            if (pdfPic1 == "Yes")
            {
                radioHtml1 = radioHtml1.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdfPic1 == "No")
            {
                radioHtml2 = radioHtml2.Replace("<input type='radio'", "<input type='radio' checked");
            }


            sb.Append("<html>");
            sb.Append("    <head><title> <u>Patient Informed Consent Form<br />For Treatment Of Vascular And Pigmented Lesions</u></title></head>");
            sb.Append("    <body style='font-family: Verdana, Geneva, Tahoma, sans-serif;'>");

            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + header + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'  colspan='9'>");
            sb.Append("            <h1>Patient Informed Consent Form<br />For Treatment Of Vascular And Pigmented Lesions</h1>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Patient Name</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000' colspan='4'>" + emr.pat_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Emirates ID</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_emirateid + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>File No</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_code + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>DOB</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_dob + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Nationality</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_nationality + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Gender</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_gender + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Doctor's Name</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.doc_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Date</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.app_fdate + "</td>");
            sb.Append("    </tr>");
            sb.Append("</table>");

            sb.Append("<div style='width:100%; text-align:justify; font-size: 12px; margin-top: 50px;margin-bottom: 50px;'>");
            sb.Append("<p>I hereby authorize Dr." + emr.doc_name + " or " + pdf.pic_1 + " , under Dr." + emr.doc_name + "'s supervision to remove or lighten the appearance of vascular and/or pigmented lesions. The procedure involves using a laser or pulsed light device to coagulate the vessels or vascular lesions and/or treat pigmented lesions, age spots, and sun spots by melanin absorption. I understand it may take multiple treatments to obtain optimal results. Although these devices are effective in most cases, no guarantees can be made. I understand I may not experience complete clearance, and that it may take multiple treatments. Some conditions may not respond at all and, in rare cases, may become worse.</p>");
            sb.Append("<p>The procedure may result in the following adverse experiences or risks:</p>");
            sb.Append("<p><ul>");
            sb.Append("<li>DISCOMFORT - Some discomfort may be experienced during treatment.</li><br/>");
            sb.Append("<li>REDNESS/SWELLING/BRUISING - Short term redness (erythema) is common and swelling (edema) of the treated area may occur. Additionally, there may be some bruising.</li><br/>");
            sb.Append("<li>SKIN COLOR CHANGES - During the healing process, there is a slight possibility that the treated area may become either lighter (hypopigmentation) or darker (hyperpigmentation) in color compared to the surrounding skin. This is usually temporary, but, on a rare occasion, it may be permanent.</li><br/>");
            sb.Append("<li>WOUNDS - Treatment can result in burning, blistering or bleeding of the treated areas. If any of these occur, please call our office.</li><br/>");
            sb.Append("<li>BURNS and INFECTION - Infection is a rare possibility whenever the skin surface is disrupted, though proper wound care should prevent this. If signs of infection develop, such as pain, heat or surrounding redness, please call our office __(Phone number)" + pdf.pic_2 + "</li><br/>");
            sb.Append("<li>SCARRING - Scarring is a rare occurrence, but it is a possibility if the skin's surface is disrupted. To minimize the chances of scarring, it is IMPORTANT that you follow all post-treatment instructions provided by your healthcare staff</li><br/>");
            sb.Append("<li>EYE EXPOSURE - Protective eyewear (shields) will be provided to you during the treatment. Failure to wear eye shields during the entire treatment may cause severe and permanent eye damage.</li></ul></p>");
            sb.Append("<p>I acknowledge the following points have been discussed with me:</p>");
            sb.Append("<p><ul>");
            sb.Append("<li>Potential benefits of the proposed procedure, including the possibility that the procedure may not work for me</li><br/>");
            sb.Append("<li>Alternative treatments such as sclerotherapy or surgery</li><br/>");
            sb.Append("<li>Reasonably anticipated health consequences if the procedure is not performed</li><br/>");
            sb.Append("<li>Possible complications/risks involved with the proposed procedure and subsequent healing period</li>");
            sb.Append("</ul></p>");
            sb.Append("<p>For women of childbearing age: By signing below I confirm that I am not pregnant and do not intend to become pregnant anytime during the course of treatment. Futhermore, I agree to keep Dr." + emr.doc_name + " and staff informed should I become pregnant during the course of treatment.</p>");
            sb.Append("<p>Photographic documentation will be taken. I hereby do " + radioHtml1 + "  do not " + radioHtml2 + " authorize the use of my photographs for teaching purposes.</p>");
            sb.Append("<h4 style='text-align: center;'>ACKNOWLEDGMENT</h4>");
            sb.Append("<h5>BY MY SIGNATURE BELOW, I ACKNOWLEDGE THAT I HAVE READ AND FULLY UNDERSTAND THE CONTENTS OF THIS INFORMED CONSENT FOR TREATMENT OF VASCULAR/PIGMENTED LESIONS AND THAT I HAVE HAD ALL MY QUESTIONS ANSWERED TO MY SATISFACTION BY MY HEALTHCARE TEAM.</h5>");

            sb.Append("</div>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;'  colspan='2'>");
            sb.Append("            <p>Sign here, only if all of your questions have been answered to your satisfaction</p>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("            Patient");
            sb.Append("        </td>");
            //sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 34%;'>");
            //sb.Append("            Witness");
            //sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("            Doctor");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000'>");
            sb.Append("            <img src='" + psign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            //sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000'>");
            //sb.Append("            <img src='" + wsign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            //sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;'>");
            sb.Append("            <img src='" + emr.doc_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000;border-top:1px solid #000000;'>");
            sb.Append("            Patient Name");
            sb.Append("             <br/>" + emr.pat_name + "<br/>");
            sb.Append("<br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            //sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000;border-top:1px solid #000000;'>");
            //sb.Append("<br/>Date<br/>");
            //sb.Append(emr.app_fdate);
            //sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-top:1px solid #000000;'>");
            sb.Append("            Doctor Name<br/>");
            sb.Append("            " + emr.app_doctor_department + "<br/>");
            sb.Append("<br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("</table>");

            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + footer + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");
            sb.Append("    </body>");
            sb.Append("</html>");

            String htmlString = sb.ToString();

            return htmlString;
        }

        //Botox /Dysport consent Form
        public static string HtmlBotoxConsent(int appId, EMRInfo emr, int setId)
        {
            BusinessEntities.ConsentForms.BotoxConsent pdf = BusinessLogicLayer.ConsentForms.BotoxConsent.GetBotoxConsentData(appId).FirstOrDefault();
            BusinessEntities.Common.eSignature psign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "patient", "BotoxConsent").FirstOrDefault();
            BusinessEntities.Common.eSignature wsign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "witness", "BotoxConsent").FirstOrDefault();
            BusinessEntities.Common.PDFHeaderFooter hf = BusinessLogicLayer.Common.PDF.GetHeaderFooterByBranch(setId);

            string header = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "header_images", hf.header.ToString());
            string footer = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "footer_images", hf.footer.ToString());

            StringBuilder sb = new StringBuilder();


            sb.Append("<html>");
            sb.Append("    <head>");
            sb.Append("    <title> <u>Botox/Dysport consent Form<br />نموذج الموافقة على البوتوكس/الديسبورت</u></title>");
            sb.Append("    <meta charset='utf-8'>");
            sb.Append("    </head>");
            //sb.Append("    <head><title> <u>Botox/Dysport consent Form<br />نموذج الموافقة على البوتوكس/الديسبورت</u></title></head>");
            sb.Append("    <body style='font-family: Verdana, Geneva, Tahoma, sans-serif;'>");

            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + header + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'  colspan='9'>");
            sb.Append("            <h1>Botox/Dysport consent Form<br />نموذج الموافقة على البوتوكس/الديسبورت</h1>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Patient Name<br/>اسم المريض</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000' colspan='4'>" + emr.pat_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Emirates ID<br/>هويه الإمارات</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_emirateid + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>File No<br/>رقم الملف</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_code + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>DOB<br/>تاريخ الميلاد</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_dob + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Nationality<br/>جنسية</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_nationality + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Gender<br/>جنس</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_gender + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Doctor's Name<br/>اسم الطبيب</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.doc_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Date<br/>تاريخ</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.app_fdate + "</td>");
            sb.Append("    </tr>");
            sb.Append("</table>");

            sb.Append("<div style='width:100%; text-align:justify; font-size: 12px; margin-top: 50px;margin-bottom: 50px;'>");
            sb.Append("<table style='width:100%; text-align:justify;'>");
            sb.Append("<tr>");
            sb.Append("<td style='width:49%;'>");
            sb.Append("<center><u>Botox /Dysport consent Form</u></center><br/>");
            sb.Append("</td>");
            sb.Append("<td style='width:2%;'></td>");
            sb.Append("<td style='width:49%;'>");
            sb.Append("<center><u dir='rtl'>الموافقة على حقن ابر البوتوكس لتجاعيد الوجه</u></center><br/>");
            sb.Append("</td>");
            sb.Append("</tr>");
            sb.Append("<tr>");
            sb.Append("<td style='width:49%;'>");
            sb.Append("Botox, Dysport are medications that block the nerve activity to certain muscles .It is injected into desired muscle groups to relax then and thereby giving the overlying skin a smoother appearance<br/><br/>");
            sb.Append("</td>");
            sb.Append("<td style='width:2%;'></td>");
            sb.Append("<td style='width:49%;' dir='rtl'>");
            sb.Append("البوتوكس ، الديسبورت هما عبارة عن أدوية تعمل على منع النشاط العصبي لعضلات معينة حيث يقوم الطبيب المعالج بالحقن لخطوط الوجه الديناميكية من اجل العمل على ارخاء هذه العضلات مما يعطي الجلد مظهر أكثر سلاسة<br/><br/>");
            sb.Append("</td>");
            sb.Append("</tr>");
            sb.Append("<tr>");
            sb.Append("<td style='width:49%;'>");
            sb.Append("You will notice a gradual decrease in muscle movement at the treated area over the following seven days .The effects will last from two month to six months.<br/><br/>");
            sb.Append("</td>");
            sb.Append("<td style='width:2%;'></td>");
            sb.Append("<td style='width:49%;' dir='rtl'>");
            sb.Append("ستلاحظ انحفاضات تدريجية في حركة العضلات للمنطقة المعالجة بعد سبعة أيام و سوف تستمر هذه التاثيرات من شهرين الى سبعة اشهر.<br/><br/>");
            sb.Append("</td>");
            sb.Append("</tr>");
            sb.Append("<tr>");
            sb.Append("<td style='width:49%;'>");
            sb.Append("*** You must notify us if you have myasthenia gravis or any other muscle –weakness disease.<br/><br/>");
            sb.Append("</td>");
            sb.Append("<td style='width:2%;'></td>");
            sb.Append("<td style='width:49%;' dir='rtl'>");
            sb.Append("***الرجاء اعلامنا اذا كنت مصاب (ة) بمرض الوهن العضلي الوبيل أو اي ضعف في العضلات<br/><br/>");
            sb.Append("</td>");
            sb.Append("</tr>");
            sb.Append("<tr>");
            sb.Append("<td style='width:49%;'>");
            sb.Append("Following the injection you may experience any of the following: (please Initial)<br/><br/>");
            sb.Append("</td>");
            sb.Append("<td style='width:2%;'></td>");
            sb.Append("<td style='width:49%;' dir='rtl'>");
            sb.Append("بعد الحقن قد تواجه أيًا مما يلي: (من فضلك الأولي)<br/><br/>");
            sb.Append("</td>");
            sb.Append("</tr>");
            sb.Append("<tr>");
            sb.Append("<td style='width:49%;'>");
            sb.Append("Bruising at the sites of the injection fades in seven to ten days.<br/><br/>");
            sb.Append("</td>");
            sb.Append("<td style='width:2%;'></td>");
            sb.Append("<td style='width:49%;' dir='rtl'>");
            sb.Append("قد يحدث تجمع دموي تحت الجلد بعد الحقن مباشرة و لكن يختفي تدريجيا خلال سبعة الى عشرة أيام .<br/><br/>");
            sb.Append("</td>");
            sb.Append("</tr>");
            sb.Append("<tr>");
            sb.Append("<td style='width:49%;'>");
            sb.Append("Rarely drooping of the eyelid from diffusion of the medication into this area.<br/><br/>");
            sb.Append("</td>");
            sb.Append("<td style='width:2%;'></td>");
            sb.Append("<td style='width:49%;' dir='rtl'>");
            sb.Append("نادرا ما يجدث هبوط بالاجفان وان حدث ذلك فسيكون مؤقتا يختفي في غصون أسابيع .<br/><br/>");
            sb.Append("</td>");
            sb.Append("</tr>");
            sb.Append("<tr>");
            sb.Append("<td style='width:49%;'>");
            sb.Append("This usually subsides in 3-4 weeks without treatment.<br/><br/>");
            sb.Append("</td>");
            sb.Append("<td style='width:2%;'></td>");
            sb.Append("<td style='width:49%;' dir='rtl'>");
            sb.Append("في بعض الحالات لا تستجيب العضلات بشل متساوي نتيجة لزيادة انقباض بعض العضلات بشكل أكتر من الاخرى مما يؤدي الى عدم تناسق النتيجة و يمكن تلافي ذلك من خلال المراجعة بعد أسبوعين لاعطاء جرعات اضافية للعضلات التي لم تستجيب بشكل كافي .<br/><br/>");
            sb.Append("</td>");
            sb.Append("</tr>");
            sb.Append("<tr>");
            sb.Append("<td style='width:49%;'>");
            sb.Append("Rarely double vision may occur and will require the use of eye patch for 2-3 weeks until resolved.<br/><br/>");
            sb.Append("</td>");
            sb.Append("<td style='width:2%;'></td>");
            sb.Append("<td style='width:49%;' dir='rtl'>");
            sb.Append("نادرا ما تحدث الرؤية المزدوجة لدى بعض المرضى يتم معالجتها من خلال استخدام رقعة عينية لمدة تترواح من اسبوعين الى ثلاث اسابيع .<br/><br/>");
            sb.Append("</td>");
            sb.Append("</tr>");
            sb.Append("<tr>");
            sb.Append("<td style='width:49%;'>");
            sb.Append("<u>Instructions for the first FOUR hours post treatment:</u><br/><br/>");
            sb.Append("</td>");
            sb.Append("<td style='width:2%;'></td>");
            sb.Append("<td style='width:49%;' dir='rtl'>");
            sb.Append("<u>التعليمات الواجب التقيد بها بعد اجراء البوتوكس</u><br/><br/>");
            sb.Append("</td>");
            sb.Append("</tr>");
            sb.Append("<tr>");
            sb.Append("<td style='width:49%;'>");
            sb.Append("<ul>");
            sb.Append("<li>Do not lie down or bend over the FOUR hours</li><br/>");
            sb.Append("<li>Do not massage or rub the treated areas for FOUR hours</li><br/>");
            sb.Append("<li>Every 15 to 20 minutes exercise the treated muscles by making them contract and relax repeatedly for FOUR hours</li><br/>");
            sb.Append("</ul>");
            sb.Append("</td>");
            sb.Append("<td style='width:2%;'></td>");
            sb.Append("<td style='width:49%;' dir='rtl'>");
            sb.Append("<ul>");
            sb.Append("<li> ب على المريض تجنب الاستلقاء أو الميل الى الامام خلال مدة أربع ساعات بعد الحقن .</li><br/>");
            sb.Append("<li>عدم تدليك او فرك المنطقة المعالجة لمدة أربع ساعات .</li><br/>");
            sb.Append("<li>اجراء تمرينات للعضلات التي تم حقنها بالبوتوكس كل 15-20 دقيقة سيقوم الطبيب المعالج بشرحها لاربع ساعات .</li><br/>");
            sb.Append("</ul>");
            sb.Append("</td>");
            sb.Append("</tr>");
            sb.Append("<tr>");
            sb.Append("<td style='width:49%;'>");
            sb.Append("<center><u>Voluntary consent</u></center><br/>");
            sb.Append("</td>");
            sb.Append("<td style='width:2%;'></td>");
            sb.Append("<td style='width:49%;'>");
            sb.Append("<center><u dir='rtl'>الموافقة الطوعية</u></center><br/>");
            sb.Append("</td>");
            sb.Append("</tr>");
            sb.Append("<tr>");
            sb.Append("<td style='width:49%;'>");
            sb.Append("<ul>");
            sb.Append("<li>Botox and Dysport are FDA approved for blepharospasm and lines between the eyebrows .I have been informed that the use of Botox, Dysport in the other areas of the face and necks is an off –label indication (Non-FDA approved) but is allowed by law.</li><br/>");
            sb.Append("<li>I have read the information and have had a chance to ask questions</li><br/>");
            sb.Append("<li>By signing below I signify that I understand the nature of this treatment and the possible side effects</li><br/>");
            sb.Append("<li>I consent to allow this form to be valid for all subsequent BOTOX/DYSPORT administration for a period of 1 year from the date on this consent.</li><br/>");
            sb.Append("<li>I understand that the effect of Botox gradually disappears within 2-6 months.</li><br/>");
            sb.Append("<li>Very rare but some patients will not respond to BOTOX injection.</li><br/>");
            sb.Append("</ul>");
            sb.Append("</td>");
            sb.Append("<td style='width:2%;'></td>");
            sb.Append("<td style='width:49%;' dir='rtl'>");
            sb.Append("<ul>");
            sb.Append("<li>بوتوكس و الديسبورت حاصلين على موافقة ادارة الاغذية و العقاقير من منظمة الصحة الامريكية , لقد قام الطبيب المعالج بشرح طريقة الحقن و التفاصيل كما انني لا احمل الطبيب المركز مسوؤلية تجاه النتا ئج .</li><br/>");
            sb.Append("<li>و فد اعلمت بأن تأثير الدواء يختفي خلال 6-4 أشهر و تعود الامور الى ما كانت عليه مسبقا .</li><br/>");
            sb.Append("<li>من خلال التوقيع عاى هذه الاستمارة أكون على دراية تامة بتفاصيل العلاج و النتائج السلبية المحتملة .</li><br/>");
            sb.Append("<li>ان مدة صلاحية هذه الاستمارة هي سنة واحدة من تاريخ التوقيع المذكور ادناه</li><br/>");
            sb.Append("<li>ينذر و لكن يمكن لبعض المرضى الايتجاوبوا لحقن البوتوكس .</li><br/>");
            sb.Append("<li>نادر جدًا ولكن بعض المرضى لن يستجيبوا لحقن البوتوكس.</li><br/>");
            sb.Append("</ul>");
            sb.Append("</td>");
            sb.Append("</tr>");
            sb.Append("<tr>");
            sb.Append("<td style='width:49%;'>");
            sb.Append("***Myasthenia gravis is a chronic autoimmune neuromuscular disease characterized by varying degrees of weakness of the skeletal (voluntary) muscles of the body<br/>");
            sb.Append("</td>");
            sb.Append("<td style='width:2%;'></td>");
            sb.Append("<td style='width:49%;' dir='rtl'>");
            sb.Append("*** الوهن العصبي الوبيل هو اضطراب عصبي عضلي مناعي ذاتي يؤدي الى تذبذب و ضعف العضلات .<br/>");
            sb.Append("</td>");
            sb.Append("</tr>");
            sb.Append("</table>");

            sb.Append("</div>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;'  colspan='2'>");
            sb.Append("            <p>Sign here, only if all of your questions have been answered to your satisfaction<br/>قم بالتوقيع هنا، فقط إذا تمت الإجابة على جميع أسئلتك بما يرضيك</p>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("            Patient<br/>مريض");
            sb.Append("        </td>");
            //sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 34%;'>");
            //sb.Append("            Witness");
            //sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("            Doctor<br/>طبيب");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000'>");
            sb.Append("            <img src='" + psign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            //sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000'>");
            //sb.Append("            <img src='" + wsign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            //sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;'>");
            sb.Append("            <img src='" + emr.doc_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000;border-top:1px solid #000000;'>");
            sb.Append("            Patient Name<br/>اسم المريض");
            sb.Append("             <br/>" + emr.pat_name + "<br/>");
            sb.Append("<br/>Date<br/>تاريخ<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            //sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000;border-top:1px solid #000000;'>");
            //sb.Append("<br/>Date<br/>");
            //sb.Append(emr.app_fdate);
            //sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-top:1px solid #000000;'>");
            sb.Append("            Doctor Name<br/>اسم الطبيب<br/>");
            sb.Append("            " + emr.app_doctor_department + "<br/>");
            sb.Append("<br/>Date<br/>تاريخ<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("</table>");

            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + footer + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");
            sb.Append("    </body>");
            sb.Append("</html>");

            String htmlString = sb.ToString();

            return htmlString;
        }

        //Filler consent Form
        public static string HtmlFillerConsent(int appId, EMRInfo emr, int setId)
        {
            BusinessEntities.ConsentForms.FillerConsent pdf = BusinessLogicLayer.ConsentForms.FillerConsent.GetFillerConsentData(appId).FirstOrDefault();
            BusinessEntities.Common.eSignature psign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "patient", "FillerConsent").FirstOrDefault();
            BusinessEntities.Common.eSignature wsign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "witness", "FillerConsent").FirstOrDefault();
            BusinessEntities.Common.PDFHeaderFooter hf = BusinessLogicLayer.Common.PDF.GetHeaderFooterByBranch(setId);

            string header = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "header_images", hf.header.ToString());
            string footer = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "footer_images", hf.footer.ToString());

            StringBuilder sb = new StringBuilder();


            sb.Append("<html>");
            sb.Append("    <head>");
            sb.Append("    <title> <u>Filler Consent Form<br />نموذج موافقة الحشو</u></title>");
            sb.Append("    <meta charset='utf-8'>");
            sb.Append("    </head>");
            //sb.Append("    <head><title> <u>Filler Consent Form<br />نموذج موافقة الحشو</u></title></head>");
            sb.Append("    <body style='font-family: Verdana, Geneva, Tahoma, sans-serif;'>");

            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + header + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'  colspan='9'>");
            sb.Append("            <h1>Filler Consent Form<br />نموذج موافقة الحشو</h1>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Patient Name<br/>اسم المريض</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000' colspan='4'>" + emr.pat_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Emirates ID<br/>هويه الإمارات</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_emirateid + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>File No<br/>رقم الملف</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_code + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>DOB<br/>تاريخ الميلاد</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_dob + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Nationality<br/>جنسية</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_nationality + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Gender<br/>جنس</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_gender + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Doctor's Name<br/>اسم الطبيب</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.doc_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Date<br/>تاريخ</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.app_fdate + "</td>");
            sb.Append("    </tr>");
            sb.Append("</table>");

            sb.Append("<div style='width:100%; text-align:justify; font-size: 12px; margin-top: 50px;margin-bottom: 50px;'>");
            sb.Append("<table style='width:100%; text-align:justify;'>");
            sb.Append("<tr>");
            sb.Append("<td style='width:49%;'>");
            sb.Append("<center><u>Filler Consent Form</u></center><br/>");
            sb.Append("</td>");
            sb.Append("<td style='width:2%;'></td>");
            sb.Append("<td style='width:49%;'>");
            sb.Append("<center><u dir='rtl'>نموذج موافقة الحشو</u></center><br/>");
            sb.Append("</td>");
            sb.Append("</tr>");
            sb.Append("<tr>");
            sb.Append("<td style='width:49%;'>");
            sb.Append("I " + emr.pat_name + "  agree to inject Fillers to The " + pdf.fcc_1 + " material was injected to add volume, correct wrinkles and improve appearance or restore the normal contour to: lips, nasolabial folds and scars<br/><br/>");
            sb.Append("</td>");
            sb.Append("<td style='width:2%;'></td>");
            sb.Append("<td style='width:49%;' dir='rtl'>");
            sb.Append("أنا " + emr.pat_name + "  أوافق على حقن مواد " + pdf.fcc_2 + " الحشو في تم حقن مادة لزيادة الحجم وتصحيح التجاعيد وتحسين المظهر أو استعادة الشكل الطبيعي لـ: الشفاه والطيات الأنفية الشفوية والندبات<br/><br/>");
            sb.Append("</td>");
            sb.Append("</tr>");
            sb.Append("<tr>");
            sb.Append("<td style='width:49%;'>");
            sb.Append("<u>Durations Of Effects:</u> These fillers disappear at a variable rate from person to person<br/><br/>");
            sb.Append("</td>");
            sb.Append("<td style='width:2%;'></td>");
            sb.Append("<td style='width:49%;' dir='rtl'>");
            sb.Append("<u>مدة التأثيرات:</u>تختفي هذه الحشوات بمعدل متفاوت من شخص لآخر.<br/><br/>");
            sb.Append("</td>");
            sb.Append("</tr>");
            sb.Append("<tr>");
            sb.Append("<td style='width:49%;'>");
            sb.Append("<ul>");
            sb.Append("<li>Restylane 4-7 Months</li><br/>");
            sb.Append("<li>Juvederm &Perlane 7-12 Months.</li><br/>");
            sb.Append("<li>Teosyal 4-7 Months</li><br/>");
            sb.Append("<li>Radiesse 12-18 Months.</li><br/>");
            sb.Append("</ul>");
            sb.Append("</td>");
            sb.Append("<td style='width:2%;'></td>");
            sb.Append("<td style='width:49%;' dir='rtl'>");
            sb.Append("<ul>");
            sb.Append("<li>رستيلين 7-4 اشهر.</li><br/>");
            sb.Append("<li> جوفيدرم & بيرليين 12-7 اشهر.</li><br/>");
            sb.Append("<li> تيوسيال 7-4 أشهر.</li><br/>");
            sb.Append("<li>رادييس 18-12 أشهر</li><br/>");
            sb.Append("</ul>");
            sb.Append("</td>");
            sb.Append("</tr>");
            sb.Append("<tr>");
            sb.Append("<td style='width:49%;'>");
            sb.Append("Topical anesthetic cream or injections of lidocaine with epinephrine may be given to ensure a more comfortable treatment.<br/><br/>");
            sb.Append("</td>");
            sb.Append("<td style='width:2%;'></td>");
            sb.Append("<td style='width:49%;' dir='rtl'>");
            sb.Append("سوف يتم وضع كريم مخدر موضعي او حقن المنطقة بالليدوكائين مع الادرينالين لضمان المعالجة براحة اكثر<br/><br/>");
            sb.Append("</td>");
            sb.Append("</tr>");
            sb.Append("<tr>");
            sb.Append("<td style='width:49%;'>");
            sb.Append("<ul>");
            sb.Append("<li>Please alert us to any previous allergic reactions or sensitivities to local anesthetics or preservatives.</li><br/>");
            sb.Append("<li>Please alert us if you are sensitive to EPINEPHRINE (does your heart race when you receive anesthetic injections during dental works?)</li><br/>");
            sb.Append("<li>More than one treatment (more layers) maybe needed for best results; repeated injections should be done at 4-6 weeks intervals.</li><br/>");
            sb.Append("<li>Skin testing is not required.</li><br/>");
            sb.Append("</ul>");
            sb.Append("</td>");
            sb.Append("<td style='width:2%;'></td>");
            sb.Append("<td style='width:49%;' dir='rtl'>");
            sb.Append("<ul>");
            sb.Append("<li> الرجاء اعلامنا في حال وجود تحسس لاي مخدر موضعي او مواد حافظة.</li><br/>");
            sb.Append("<li>الرجاء اعلامنا في حال وجود تحسس لمادة الادرينالين .</li><br/>");
            sb.Append("<li>يمكن الحصول على نتائج جيدة و واضحة بعد جلسة واحدة من العلاج و تستمر لعدة اشهر حسب المادة المستعملة وفي بعض الاحيان تحتاج لاكثر من جلسة للخصول على النتائج الملائمة .</li><br/>");
            sb.Append("<li>لا يشترط اختبار الجلد.</li><br/>");
            sb.Append("</ul>");
            sb.Append("</td>");
            sb.Append("</tr>");
            sb.Append("<tr>");
            sb.Append("<td style='width:49%;'>");
            sb.Append("<u>Side Effects:</u><br/><br/>");
            sb.Append("</td>");
            sb.Append("<td style='width:2%;'></td>");
            sb.Append("<td style='width:49%;' dir='rtl'>");
            sb.Append("<u>الاثار الجانبية:</u><br/><br/>");
            sb.Append("</td>");
            sb.Append("</tr>");
            sb.Append("<tr>");
            sb.Append("<td style='width:49%;'>");
            sb.Append("<ul>");
            sb.Append("<li>Immediate swelling 1-4 days.</li><br/>");
            sb.Append("<li>Redness at the site of injections 1-2 days.</li><br/>");
            sb.Append("<li>Bruising of some areas</li><br/>");
            sb.Append("</ul>");
            sb.Append("</td>");
            sb.Append("<td style='width:2%;'></td>");
            sb.Append("<td style='width:49%;' dir='rtl'>");
            sb.Append("<ul>");
            sb.Append("<li> قد يشعر المريض بوخز الابر وقد تحدث انتفاخات و ازرقاق بالمنطقة يزول بعد</li><br/>");
            sb.Append("<li> أحمرار في موقع الحقن من 2-1 أيام .</li><br/>");
            sb.Append("<li>كدمات في بعض المناطق .</li><br/>");
            sb.Append("</ul>");
            sb.Append("</td>");
            sb.Append("</tr>");
            sb.Append("<tr>");
            sb.Append("<td style='width:49%;'>");
            sb.Append("<ul>");
            sb.Append("<li>Lumps & Bumps 1-8 weeks.</li><br/>");
            sb.Append("<li>Hyaluronic Acid Fillers blend slowly with skin; the filler can be felt for 2-3 weeks before it blends with surrounding.</li><br/>");
            sb.Append("<li>Infections or scarring.</li><br/>");
            sb.Append("<li>Imbalanced appearances that require re-touch with more filler to restore the balance.</li><br/>");
            sb.Append("</ul>");
            sb.Append("</td>");
            sb.Append("<td style='width:2%;'></td>");
            sb.Append("<td style='width:49%;' dir='rtl'>");
            sb.Append("<ul>");
            sb.Append("<li>كدمات في بعض المناطق .</li><br/>");
            sb.Append("<li>تمتص البشرة حمض الهاليولرونيك ببطء لذلك من الممكن الشعور بهذه المادة من 2-3 اسابيع .</li><br/>");
            sb.Append("<li>من الممكن حدوث بعض الالتهابات الرجاء مراجعة الطبيب </li><br/>");
            sb.Append("<li> من الممكن اعادة الحقن من اجل الحصول على أفضل النتائج.</li><br/>");
            sb.Append("</ul>");
            sb.Append("</td>");
            sb.Append("</tr>");
            sb.Append("<tr>");
            sb.Append("<td style='width:49%;'>");
            sb.Append("I have read and understand this consent form and the potential of the above mentioned anticipated reactions or complications .I give my permission for this consent to be valid for 1 year from the date below.<br/><br/>");
            sb.Append("</td>");
            sb.Append("<td style='width:2%;'></td>");
            sb.Append("<td style='width:49%;' dir='rtl'>");
            sb.Append("أوكد انني قد قرات كل المذكور أعلاه و أوافق على قيام الطبيب المختص بالعلاج انا على بأن صلاحية هذ ه الموافقة هي سنة واحدة اعتبارا من التاريخ المذكور أدناه .<br/><br/>");
            sb.Append("</td>");
            sb.Append("</tr>");
            sb.Append("</table>");
            sb.Append("</div>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;'  colspan='2'>");
            sb.Append("            <p>Sign here, only if all of your questions have been answered to your satisfaction<br/>قم بالتوقيع هنا، فقط إذا تمت الإجابة على جميع أسئلتك بما يرضيك</p>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("            Patient<br/>مريض");
            sb.Append("        </td>");
            //sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 34%;'>");
            //sb.Append("            Witness");
            //sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("            Doctor<br/>طبيب");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000'>");
            sb.Append("            <img src='" + psign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            //sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000'>");
            //sb.Append("            <img src='" + wsign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            //sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;'>");
            sb.Append("            <img src='" + emr.doc_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000;border-top:1px solid #000000;'>");
            sb.Append("            Patient Name<br/>اسم المريض");
            sb.Append("             <br/>" + emr.pat_name + "<br/>");
            sb.Append("<br/>Date<br/>تاريخ<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            //sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000;border-top:1px solid #000000;'>");
            //sb.Append("<br/>Date<br/>");
            //sb.Append(emr.app_fdate);
            //sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-top:1px solid #000000;'>");
            sb.Append("<br/>Date<br/>تاريخ<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("</table>");

            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + footer + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");
            sb.Append("    </body>");
            sb.Append("</html>");

            String htmlString = sb.ToString();

            return htmlString;
        }

        //Sublime consent Form
        public static string HtmlSublimeConsent(int appId, EMRInfo emr, int setId)
        {
            BusinessEntities.ConsentForms.SublimeConsent pdf = BusinessLogicLayer.ConsentForms.SublimeConsent.GetSublimeConsentData(appId).FirstOrDefault();
            BusinessEntities.Common.eSignature psign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "patient", "SublimeConsent").FirstOrDefault();
            BusinessEntities.Common.eSignature wsign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "witness", "SublimeConsent").FirstOrDefault();
            BusinessEntities.Common.PDFHeaderFooter hf = BusinessLogicLayer.Common.PDF.GetHeaderFooterByBranch(setId);

            string header = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "header_images", hf.header.ToString());
            string footer = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "footer_images", hf.footer.ToString());

            StringBuilder sb = new StringBuilder();

            string ChkHtml1 = "<input type='checkbox'  class='custom-control-input' name='scf_1' value='1' id='scf_11'>";
            string ChkHtml2 = "<input type='checkbox'  class='custom-control-input' name='scf_1' value='2' id='scf_12'>";
            string ChkHtml3 = "<input type='checkbox'  class='custom-control-input' name='scf_1' value='3' id='scf_13'>";
            string ChkHtml4 = "<input type='checkbox'  class='custom-control-input' name='scf_1' value='4' id='scf_14'>";
            string ChkHtml5 = "<input type='checkbox'  class='custom-control-input' name='scf_1' value='5' id='scf_15'>";
            string ChkHtml6 = "<input type='checkbox'  class='custom-control-input' name='scf_1' value='6' id='scf_16'>";
            string ChkHtml7 = "<input type='checkbox'  class='custom-control-input' name='scf_1' value='7' id='scf_17'>";

            if (pdf.scf_1.Contains("1"))
            {
                ChkHtml1 = ChkHtml1.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.scf_1.Contains("2"))
            {
                ChkHtml2 = ChkHtml2.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.scf_1.Contains("3"))
            {
                ChkHtml3 = ChkHtml3.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.scf_1.Contains("4"))
            {
                ChkHtml4 = ChkHtml4.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.scf_1.Contains("5"))
            {
                ChkHtml5 = ChkHtml5.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.scf_1.Contains("6"))
            {
                ChkHtml6 = ChkHtml6.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.scf_1.Contains("7"))
            {
                ChkHtml7 = ChkHtml7.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }

            sb.Append("<html>");
            sb.Append("    <head><title> <u>Sublime Consent Form</u></title></head>");
            sb.Append("    <body style='font-family: Verdana, Geneva, Tahoma, sans-serif;'>");

            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + header + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'  colspan='9'>");
            sb.Append("            <h1>Sublime Consent Form</h1>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Patient Name</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000' colspan='4'>" + emr.pat_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Emirates ID</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_emirateid + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>File No</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_code + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>DOB</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_dob + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Nationality</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_nationality + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Gender</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_gender + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Doctor's Name</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.doc_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Date</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.app_fdate + "</td>");
            sb.Append("    </tr>");
            sb.Append("</table>");

            sb.Append("<div style='width:100%; text-align:justify; font-size: 12px; margin-top: 50px;margin-bottom: 50px;'>");

            sb.Append("<p>Sublime is a noninvasive, nonablative, nonlaser radio frequency system used to contract and tighten the skin, with minimal to no downtime.</p>");
            sb.Append("<p>I voluntarily consent to undergo Sublime treatment provided by  " + @emr.doc_name + " or other licensed doctors, nurses, or qualified staff members employed by  " + @emr.set_company + "</p>");
            sb.Append("<p><u>Please Initial:</u></p>");
            sb.Append("<p>" + ChkHtml1 + " I understand that Sublime combines safe and effective levels of infrared light and bipolar radiofrequency energies to remodel the dermal layer of the skin by stimulating new collagen growth.</p>");
            sb.Append("<p>" + ChkHtml2 + " I understand that I can have an improvement of the sagginess of the face, neck and some areas such as the abdomen or upper arms.</p>");
            sb.Append("<p>" + ChkHtml3 + " I understand the actual procedure time will vary, depending upon the size of the area treated. Usually, it will take a half an hour to an hour.</p>");
            sb.Append("<p>" + ChkHtml4 + " I understand it is not possible to completely predict who will benefit from the treatment. Some patients see gradual and cumulative results throughout the sublime treatments. The total number of required treatments sessions depends on the patient's skin condition.I understand it is not possible to completely predict who will benefit from the treatment. Some patients see gradual and cumulative results throughout the sublime treatments. The total number of required treatments sessions depends on the patient's skin condition.</p>");
            sb.Append("<p>" + ChkHtml5 + " I understand that cooling of the skin's surface provides enhanced safety and additional comfort.</p>");
            sb.Append("<p>" + ChkHtml6 + " I acknowledge that I have read the above & all my questions have been answered to my full satisfaction. I understand that my healthcare provider has made no guarantees to me about the results of this procedure & accept the risks of possible complications & consequences. I agree not to hold my physicians / health care provider(s) responsible for the outcome of the treatment(s).</p>");
            sb.Append("<p>" + ChkHtml7 + " I consent to allow this form to be valid for all subsequent Sublime treatments for a period of 1 year from the date on this consent.</p>");
            sb.Append("<p>I hereby give my consent and authorization voluntarily and release  " + @emr.set_company + "  from any claims, implied or stated that I have or may have in the future with this treatment regardless of result. I am stating that the treatment and precautions above have been explained to me in detail and that I fully understand.</p>");

            sb.Append("</div>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;'  colspan='2'>");
            sb.Append("            <p>Sign here, only if all of your questions have been answered to your satisfaction</p>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("            Patient");
            sb.Append("        </td>");
            //sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 34%;'>");
            //sb.Append("            Witness");
            //sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("            Doctor");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000'>");
            sb.Append("            <img src='" + psign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            //sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000'>");
            //sb.Append("            <img src='" + wsign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            //sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;'>");
            sb.Append("            <img src='" + emr.doc_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000;border-top:1px solid #000000;'>");
            sb.Append("            Patient Name");
            sb.Append("             <br/>" + emr.pat_name + "<br/>");
            sb.Append("<br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            //sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000;border-top:1px solid #000000;'>");
            //sb.Append("<br/>Date<br/>");
            //sb.Append(emr.app_fdate);
            //sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-top:1px solid #000000;'>");
            sb.Append("            Doctor Name<br/>");
            sb.Append("            " + emr.app_doctor_department + "<br/>");
            sb.Append("<br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("</table>");

            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + footer + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");
            sb.Append("    </body>");
            sb.Append("</html>");

            String htmlString = sb.ToString();

            return htmlString;
        }

        //Isotretinoin Consent Form
        public static string HtmlIsotretinoinConsent(int appId, EMRInfo emr, int setId)
        {
            BusinessEntities.ConsentForms.IsotretinoinConsent pdf = BusinessLogicLayer.ConsentForms.IsotretinoinConsent.GetIsotretinoinConsentData(appId).FirstOrDefault();
            BusinessEntities.Common.eSignature psign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "patient", "IsotretinoinConsent").FirstOrDefault();
            BusinessEntities.Common.eSignature wsign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "witness", "IsotretinoinConsent").FirstOrDefault();
            BusinessEntities.Common.PDFHeaderFooter hf = BusinessLogicLayer.Common.PDF.GetHeaderFooterByBranch(setId);

            string header = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "header_images", hf.header.ToString());
            string footer = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "footer_images", hf.footer.ToString());

            StringBuilder sb = new StringBuilder();

            string ChkHtml1 = "<input type='checkbox'  class='custom-control-input' name='ict_1' value='1' id='ict_11'>";
            string ChkHtml2 = "<input type='checkbox'  class='custom-control-input' name='ict_1' value='2' id='ict_12'>";
            string ChkHtml3 = "<input type='checkbox'  class='custom-control-input' name='ict_1' value='3' id='ict_13'>";
            string ChkHtml4 = "<input type='checkbox'  class='custom-control-input' name='ict_1' value='4' id='ict_14'>";
            string ChkHtml5 = "<input type='checkbox'  class='custom-control-input' name='ict_1' value='5' id='ict_15'>";
            string ChkHtml6 = "<input type='checkbox'  class='custom-control-input' name='ict_1' value='6' id='ict_16'>";
            string ChkHtml7 = "<input type='checkbox'  class='custom-control-input' name='ict_1' value='7' id='ict_17'>";
            string ChkHtml8 = "<input type='checkbox'  class='custom-control-input' name='ict_1' value='8' id='ict_18'>";

            if (pdf.ict_1.Contains("1"))
            {
                ChkHtml1 = ChkHtml1.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.ict_1.Contains("2"))
            {
                ChkHtml2 = ChkHtml2.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.ict_1.Contains("3"))
            {
                ChkHtml3 = ChkHtml3.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.ict_1.Contains("4"))
            {
                ChkHtml4 = ChkHtml4.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.ict_1.Contains("5"))
            {
                ChkHtml5 = ChkHtml5.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.ict_1.Contains("6"))
            {
                ChkHtml6 = ChkHtml6.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.ict_1.Contains("7"))
            {
                ChkHtml7 = ChkHtml7.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.ict_1.Contains("8"))
            {
                ChkHtml8 = ChkHtml8.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }

            sb.Append("<html>");
            sb.Append("    <head><title> <u>Isotretinoin Consent Form</u></title></head>");
            sb.Append("    <body style='font-family: Verdana, Geneva, Tahoma, sans-serif;'>");

            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + header + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'  colspan='9'>");
            sb.Append("            <h1>Isotretinoin Consent Form</h1>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Patient Name</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000' colspan='4'>" + emr.pat_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Emirates ID</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_emirateid + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>File No</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_code + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>DOB</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_dob + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Nationality</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_nationality + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Gender</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_gender + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Doctor's Name</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.doc_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Date</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.app_fdate + "</td>");
            sb.Append("    </tr>");
            sb.Append("</table>");

            sb.Append("<div style='width:100%; text-align:justify; font-size: 12px; margin-top: 50px;margin-bottom: 50px;'>");

            sb.Append("<p><u>Please Initial:</u></p>");
            sb.Append("<p>" + ChkHtml1 + " I, the undersigned declare that I have been fully informed of details of the precautions to be taken during the isotretinoin therapy period.</p>");
            sb.Append("<p>" + ChkHtml2 + " I must prevent pregnancy during therapy and 1 month post therapy.</p>");
            sb.Append("<p>" + ChkHtml3 + " Child malformation is expected to be seen in case of pregnancy during the treatment phase and a month after. Strictly, pregnancy must be prevented to avoid this</p>");
            sb.Append("<p>" + ChkHtml4 + " I do understand I must take contraceptives seriously and regularly during therapy and one month after.</p>");
            sb.Append("<p>" + ChkHtml5 + " In case of pregnancy I must inform my doctor immediately.</p>");
            sb.Append("<p>" + ChkHtml6 + " I understand the consequences of not following the doctor's orders to prevent pregnancy during isotretinoin therapy.</p>");
            sb.Append("<p>" + ChkHtml7 + " I hereby do not hold the doctor responsible to having not to follow the precautionary measures.</p>");
            sb.Append("<p>" + ChkHtml8 + " This consent form is valid for 6-9 months course period, and I will alert the staff if there are any future changes to my medical history, or if I become pregnant.</p>");
            sb.Append("<p>I hereby give my consent and authorization voluntarily and release " + @emr.set_company + " from any claims, implied or stated that I have or may have in the future with this treatment regardless of result. I am stating that the treatment and precautions above have been explained to me in detail and that I fully understand.</p>");
            sb.Append("<p></p>");

            sb.Append("</div>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;'  colspan='2'>");
            sb.Append("            <p>Sign here, only if all of your questions have been answered to your satisfaction</p>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("            Patient");
            sb.Append("        </td>");
            //sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 34%;'>");
            //sb.Append("            Witness");
            //sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("            Doctor");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000'>");
            sb.Append("            <img src='" + psign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            //sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000'>");
            //sb.Append("            <img src='" + wsign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            //sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;'>");
            sb.Append("            <img src='" + emr.doc_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000;border-top:1px solid #000000;'>");
            sb.Append("            Patient Name");
            sb.Append("             <br/>" + emr.pat_name + "<br/>");
            sb.Append("<br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            //sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000;border-top:1px solid #000000;'>");
            //sb.Append("<br/>Date<br/>");
            //sb.Append(emr.app_fdate);
            //sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-top:1px solid #000000;'>");
            sb.Append("            Doctor Name<br/>");
            sb.Append("            " + emr.app_doctor_department + "<br/>");
            sb.Append("<br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("</table>");

            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + footer + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");
            sb.Append("    </body>");
            sb.Append("</html>");

            String htmlString = sb.ToString();

            return htmlString;
        }

        //Coolsculpting Informed Consent Form
        public static string HtmlCoolsculptingConsent(int appId, EMRInfo emr, int setId)
        {
            BusinessEntities.ConsentForms.CoolsculptingConsent pdf = BusinessLogicLayer.ConsentForms.CoolsculptingConsent.GetCoolsculptingConsentData(appId).FirstOrDefault();
            BusinessEntities.Common.eSignature psign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "patient", "CoolsculptingConsent").FirstOrDefault();
            BusinessEntities.Common.PDFHeaderFooter hf = BusinessLogicLayer.Common.PDF.GetHeaderFooterByBranch(setId);

            string header = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "header_images", hf.header.ToString());
            string footer = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "footer_images", hf.footer.ToString());

            StringBuilder sb = new StringBuilder();

            //string pdfcoc_1 = pdf.coc_1;
            string ChkHtml1 = "<input type='checkbox'  class='custom-control-input' name='coc_1' value='1' id='coc_11'>";
            string ChkHtml2 = "<input type='checkbox'  class='custom-control-input' name='coc_1' value='2' id='coc_12'>";
            string ChkHtml3 = "<input type='checkbox'  class='custom-control-input' name='coc_1' value='3' id='coc_13'>";
            string ChkHtml4 = "<input type='checkbox'  class='custom-control-input' name='coc_1' value='4' id='coc_14'>";
            string ChkHtml5 = "<input type='checkbox'  class='custom-control-input' name='coc_1' value='5' id='coc_15'>";
            string ChkHtml6 = "<input type='checkbox'  class='custom-control-input' name='coc_1' value='6' id='coc_16'>";
            string ChkHtml7 = "<input type='checkbox'  class='custom-control-input' name='coc_1' value='7' id='coc_17'>";
            string ChkHtml8 = "<input type='checkbox'  class='custom-control-input' name='coc_1' value='8' id='coc_18'>";
            string ChkHtml9 = "<input type='checkbox'  class='custom-control-input' name='coc_1' value='9' id='coc_19'>";
            string ChkHtml10 = "<input type='checkbox'  class='custom-control-input' name='coc_1' value='10' id='coc_110'>";
            string ChkHtml11 = "<input type='checkbox'  class='custom-control-input' name='coc_1' value='11' id='coc_111'>";
            string ChkHtml12 = "<input type='checkbox'  class='custom-control-input' name='coc_1' value='12' id='coc_112'>";
            string ChkHtml13 = "<input type='checkbox'  class='custom-control-input' name='coc_1' value='13' id='coc_113'>";
            string ChkHtml14 = "<input type='checkbox'  class='custom-control-input' name='coc_1' value='14' id='coc_114'>";

            //if (pdfcoc_1 == "1")
            //{
            //    ChkHtml1 = ChkHtml1.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            //}
            //if (pdfcoc_1 == "2")
            //{
            //    ChkHtml2 = ChkHtml2.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            //}

            //bool b = pdf.coc_1.Contains("2");

            if (pdf.coc_1.Contains("1"))
            {
                ChkHtml1 = ChkHtml1.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.coc_1.Contains("2"))
            {
                ChkHtml2 = ChkHtml2.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.coc_1.Contains("3"))
            {
                ChkHtml3 = ChkHtml3.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.coc_1.Contains("4"))
            {
                ChkHtml4 = ChkHtml4.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.coc_1.Contains("5"))
            {
                ChkHtml5 = ChkHtml5.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.coc_1.Contains("6"))
            {
                ChkHtml6 = ChkHtml6.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.coc_1.Contains("7"))
            {
                ChkHtml7 = ChkHtml7.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.coc_1.Contains("8"))
            {
                ChkHtml8 = ChkHtml8.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.coc_1.Contains("9"))
            {
                ChkHtml9 = ChkHtml9.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.coc_1.Contains("10"))
            {
                ChkHtml10 = ChkHtml10.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.coc_1.Contains("11"))
            {
                ChkHtml11 = ChkHtml11.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.coc_1.Contains("12"))
            {
                ChkHtml12 = ChkHtml12.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.coc_1.Contains("13"))
            {
                ChkHtml13 = ChkHtml13.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.coc_1.Contains("14"))
            {
                ChkHtml14 = ChkHtml14.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }




            sb.Append("<html>");
            sb.Append("    <head><title> <u>Coolsculpting Consent Form</u></title></head>");
            sb.Append("    <body style='font-family: Verdana, Geneva, Tahoma, sans-serif;'>");

            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + header + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'  colspan='9'>");
            sb.Append("            <h1>Coolsculpting Consent Form</h1>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Patient Name</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000' colspan='4'>" + emr.pat_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Emirates ID</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_emirateid + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>File No</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_code + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>DOB</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_dob + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Nationality</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_nationality + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Gender</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_gender + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Doctor's Name</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.doc_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Date</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.app_fdate + "</td>");
            sb.Append("    </tr>");
            sb.Append("</table>");

            sb.Append("<div style='width:100%; text-align:justify; font-size: 12px; margin-top: 50px;margin-bottom: 50px;'>");

            sb.Append("<p><u>PLEASE INITIAL EACH LINE:</u></p>");
            sb.Append("<p>" + ChkHtml1 + " I understand that Coosculpting is an FDA approved, non-surgical treatment that uses handheld device to precisely freeze and destroy       fat below the surface of the skin. This is not intended for significant weight loss, but for treating stubborn areas of fat that are resistant to diet and exercise.</p>");
            sb.Append("<p>" + ChkHtml2 + " I understand that this treatment uses CRYOLIPOLYSIS which is the non-invasive freezing of adipose tissue to induce Lipolysis (breaking        down the fat cells).After this treatment, the natural process of fat elimination occurs, reducing unwanted fat via the lymphatic system thereby improving the shape and appearance</p>");
            sb.Append("<p>" + ChkHtml3 + " I understand that a treatment of minimum three sessions every 2 months for the same area is recommended depending on each individual.</p>");
            sb.Append("<p>" + ChkHtml4 + " I understand that this treatment is not for weight loss but for t that the clinical results from the treatment may vary with each individual.</p>");
            sb.Append("<p>" + ChkHtml5 + " I understand the short term risks may include: reddening, pain and temporary bruising.</p>");
            sb.Append("<p>" + ChkHtml6 + " I understand that I can't be exposed to the sun within 48 hours of each treatment.</p>");
            sb.Append("<p>" + ChkHtml7 + " I understand that during the treatment I may feel a slightly uncomfortable 'PINCHING' sensation.</p>");
            sb.Append("<p>" + ChkHtml8 + " I understand that the treatment settings are tailored to suit each individual's comfort level.</p>");
            sb.Append("<p>" + ChkHtml9 + " I understand the treated area will feel COLD for several hours following the treatment.</p>");
            sb.Append("<p>" + ChkHtml10 + " I understand that a series of treatments can be combined to get an optimum result.</p>");
            sb.Append("<p>" + ChkHtml11 + " I acknowledge that I have read the above and that all my questions have been answered to my full satisfaction.</p>");
            sb.Append("<p>" + ChkHtml12 + " I understand that my Physician/Medical Esthetician made no guarantees to me in regards to the outcome of this procedure.</p>");
            sb.Append("<p>" + ChkHtml13 + " I accept the risks of possible complications and /or consequences and agree not to hold " + @emr.set_company + " , my physician/health care provider responsible for the outcome of the treatment.</p>");
            sb.Append("<p>" + ChkHtml14 + " I consent to allow this form to be valid for all subsequent sessions for a period of one (1) year from the date of this consent.</p>");
            sb.Append("<p>I hereby give my consent and authorization voluntarily and release " + @emr.set_company + " from any claims, implied or stated that I have or may have in the future with this treatment regardless of result. I am stating that the treatment and precautions above have been explained to me in detail and that I fully understand.</p>");

            sb.Append("</div>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;'  colspan='2'>");
            sb.Append("            <p>Sign here, only if all of your questions have been answered to your satisfaction</p>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("            Patient");
            sb.Append("        </td>");
            //sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 34%;'>");
            //sb.Append("            Witness");
            //sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("            Doctor");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000'>");
            sb.Append("            <img src='" + psign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            //sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000'>");
            //sb.Append("            <img src='" + wsign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            //sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;'>");
            sb.Append("            <img src='" + emr.doc_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000;border-top:1px solid #000000;'>");
            sb.Append("            Patient Name");
            sb.Append("             <br/>" + emr.pat_name + "<br/>");
            sb.Append("<br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            //sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000;border-top:1px solid #000000;'>");
            //sb.Append("<br/>Date<br/>");
            //sb.Append(emr.app_fdate);
            //sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-top:1px solid #000000;'>");
            sb.Append("            Doctor Name<br/>");
            sb.Append("            " + emr.app_doctor_department + "<br/>");
            sb.Append("<br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("</table>");

            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + footer + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");
            sb.Append("    </body>");
            sb.Append("</html>");

            String htmlString = sb.ToString();

            return htmlString;
        }

        //General Consent Form
        public static string HtmlGeneralConsent(int appId, EMRInfo emr, int setId)
        {
            BusinessEntities.ConsentForms.GeneralConsent pdf = BusinessLogicLayer.ConsentForms.GeneralConsent.GetGeneralConsentData(appId).FirstOrDefault();
            BusinessEntities.Common.eSignature psign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "patient", "GeneralConsent").FirstOrDefault();
            BusinessEntities.Common.eSignature wsign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "witness", "GeneralConsent").FirstOrDefault();
            BusinessEntities.Common.PDFHeaderFooter hf = BusinessLogicLayer.Common.PDF.GetHeaderFooterByBranch(setId);

            string header = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "header_images", hf.header.ToString());
            string footer = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "footer_images", hf.footer.ToString());

            StringBuilder sb = new StringBuilder();


            sb.Append("<html>");
            sb.Append("    <head>");
            sb.Append("    <title> <u>General Consent Form<br />نموذج الموافقة العامة</u></title>");
            sb.Append("    <meta charset='utf-8'>");
            sb.Append("    </head>");
            //sb.Append("    <head><title> <u>Botox/Dysport consent Form<br />نموذج الموافقة على البوتوكس/الديسبورت</u></title></head>");
            sb.Append("    <body style='font-family: Verdana, Geneva, Tahoma, sans-serif;'>");

            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + header + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'  colspan='9'>");
            sb.Append("            <h1>General Consent Form<br />نموذج الموافقة العامة</h1>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Patient Name<br/>اسم المريض</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000' colspan='4'>" + emr.pat_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Emirates ID<br/>هويه الإمارات</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_emirateid + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>File No<br/>رقم الملف</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_code + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>DOB<br/>تاريخ الميلاد</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_dob + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Nationality<br/>جنسية</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_nationality + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Gender<br/>جنس</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_gender + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Doctor's Name<br/>اسم الطبيب</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.doc_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Date<br/>تاريخ</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.app_fdate + "</td>");
            sb.Append("    </tr>");
            sb.Append("</table>");

            sb.Append("<div style='width:100%; text-align:justify; font-size: 12px; margin-top: 50px;margin-bottom: 50px;'>");
            sb.Append("<table style='width:100%; text-align:justify;'>");
            sb.Append("<tr>");
            sb.Append("<td style='width:49%;'>");
            sb.Append("<center><u>General Consent Form</u></center><br/>");
            sb.Append("</td>");
            sb.Append("<td style='width:2%;'></td>");
            sb.Append("<td style='width:49%;'>");
            sb.Append("<center><u dir='rtl'>نموذج الموافقة العامة</u></center><br/>");
            sb.Append("</td>");
            sb.Append("</tr>");
            sb.Append("<tr>");
            sb.Append("<td style='width:49%;'>");
            sb.Append("I " + emr.pat_name + "  have been informed and I understand to my satisfaction, about the treatment<br/><br/>");
            sb.Append("</td>");
            sb.Append("<td style='width:2%;'></td>");
            sb.Append("<td style='width:49%;' dir='rtl'>");
            sb.Append("أقر أنا " + emr.pat_name + "  بإطلاعي على نوعية وطبيعة<br/><br/>");
            sb.Append("</td>");
            sb.Append("</tr>");
            sb.Append("<tr>");
            sb.Append("<td style='width:49%;'>");
            sb.Append("To Treat " + pdf.gtc_1 + " and the reasons for it being performed, what the treatment will entail and that I:<br/><br/>");
            sb.Append("</td>");
            sb.Append("<td style='width:2%;'></td>");
            sb.Append("<td style='width:49%;' dir='rtl'>");
            sb.Append("علاج " + pdf.gtc_2 + " الذي سأتلقاه وأتفهم تماماً الأسباب التي دعت إليه وما يترتب على ذلك وأؤكد :<br/><br/>");
            sb.Append("</td>");
            sb.Append("</tr>");
            sb.Append("<tr>");
            sb.Append("<td style='width:49%;'>");
            sb.Append("<ul>");
            sb.Append("<li>Have read and understood the information provided in this form</li><br/>");
            sb.Append("<li>Consent and authorize " + emr.set_company + " to perform the treatment for me.</li><br/>");
            sb.Append("<li>Consent to photographs of the treated area (optional)</li><br/>");
            sb.Append("<li>Understood all post treatment recommendation and agree to adhere to them.</li><br/>");
            sb.Append("<li>Must notify the healthcare professional if my medical history changes prior to subsequent treatments.</li><br/>");
            sb.Append("<li>Know that the procedure is purely elective and there is no guarantee in the results of any medical procedures including face and body treatments.</li><br/>");
            sb.Append("<li>Know that incase of obesity, the number of sessions required are unknown; and it may require some medical investigation and appropriate treatment.</li><br/>");
            sb.Append("<li>Freely assume any risks of complications or injury from known or unknown causes associated with, relating to, or otherwise arising out of this procedure.</li><br/>");
            sb.Append("</ul>");
            sb.Append("</td>");
            sb.Append("<td style='width:2%;'></td>");
            sb.Append("<td style='width:49%;'>");
            sb.Append("<ul dir='rtl'>");
            sb.Append("<li><span>أنني قد إطلعت وفهمت فحوى المعلومات الواردة في هذه الإستمارة.</span></li><br/>");
            sb.Append("<li><span >أوافق وأفوض الأطباء المتخصصين في</span> <span dir='ltr'>" + emr.set_company + "</span>  <span dir='rtl'>ليقدموا لي العلاج اللازم</span></li><br/>");
            sb.Append("<li><span>أوافق على تصوير موضع العلاج (إختياري)</span></li><br/>");
            sb.Append("<li><span> على علم تام بكل توصيات العلاج اللاحقة وأوافق على التقيد والإلتزام بذلك</span></li><br/>");
            sb.Append("<li><span>يجب علي ّ أن أخطر المختصين والمسؤولين بأي تغير يطرأ على وضعي الصحي قبل العلاجات اللاحقة</span></li><br/>");
            sb.Append("<li><span>أعلم أن العلاج المطلوب قد تم بمحض إختياري وأنه ليس هناك ضمان لنتائجه بما في ذلك الخطوات العلاجيه المتعلقة بالوجه والجسم</span></li><br/>");
            sb.Append("<li><span>أعلم أنه في حالة السمنة فإن عدد الجلسات المطلوبة غير محدد وقد يتطلب الأمر بعض الفحوصات الطبية والعلاج المناسب</span></li><br/>");
            sb.Append("<li><span>أدرك تماماً إحتمال حدوث أية مضاعفات أو تعقيدات أو إصابات تنجم عن مصادر معروفة أو غير معروفة ذات صلة أو تنجم عن العلاج المتبع</span></li><br/>");
            sb.Append("</ul>");
            sb.Append("</td>");
            sb.Append("</tr>");
            sb.Append("<tr>");
            sb.Append("<td style='width:49%;'>");
            sb.Append("<ul>");
            sb.Append("<li>Know and believe that there are no liabilities in any form on <span dir='ltr'>" + emr.set_company + "</span>  in case of any side effects arising indirectly as a result of the treatment</li><br/>");
            sb.Append("<li>Understand that " + emr.set_company + " follows a strict no refund polic</li><br/>");
            sb.Append("</ul>");
            sb.Append("</td>");
            sb.Append("<td style='width:2%;'></td>");
            sb.Append("<td style='width:49%;'>");
            sb.Append("<ul dir='rtl'>");
            sb.Append("<li><span>نعلم ونعتقد أنه لا توجد أي التزامات بأي شكل من الأشكال على</span>  <span dir='ltr'>" + emr.set_company + "</span> <span> في حالة حدوث أي آثار جانبية تنشأ بشكل غير مباشر نتيجة العلاج</span>.</li><br/>");
            sb.Append("<li><span>أنا أعلم تمامًا أن</span> " + emr.set_company + " <span>لا تقدم المبالغ المستردة على الإطلاق</span></li><br/>");
            sb.Append("</ul>");
            sb.Append("</td>");
            sb.Append("</tr>");
            sb.Append("</table>");
            sb.Append("</div>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;'  colspan='2'>");
            sb.Append("            <p>Sign here, only if all of your questions have been answered to your satisfaction<br/>قم بالتوقيع هنا، فقط إذا تمت الإجابة على جميع أسئلتك بما يرضيك</p>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("            Patient<br/>مريض");
            sb.Append("        </td>");
            //sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 34%;'>");
            //sb.Append("            Witness");
            //sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("            Doctor<br/>طبيب");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000'>");
            sb.Append("            <img src='" + psign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            //sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000'>");
            //sb.Append("            <img src='" + wsign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            //sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;'>");
            sb.Append("            <img src='" + emr.doc_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000;border-top:1px solid #000000;'>");
            sb.Append("            Patient Name<br/>اسم المريض");
            sb.Append("             <br/>" + emr.pat_name + "<br/>");
            sb.Append("           <br/>Indicate relationship<br/>تشير إلى العلاقة");
            sb.Append("             <br/>" + pdf.gtc_3 + "<br/>");
            sb.Append("<br/>Date<br/>تاريخ<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            //sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000;border-top:1px solid #000000;'>");
            //sb.Append("<br/>Date<br/>");
            //sb.Append(emr.app_fdate);
            //sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-top:1px solid #000000;'>");
            sb.Append("            Doctor Name<br/>اسم الطبيب<br/>");
            sb.Append("            " + emr.app_doctor_department + "<br/>");
            sb.Append("<br/>Date<br/>تاريخ<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("</table>");

            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + footer + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");
            sb.Append("    </body>");
            sb.Append("</html>");

            String htmlString = sb.ToString();

            return htmlString;
        }

        //Medical Consent New Form
        public static string HtmlMedicalConsentNew(int appId, EMRInfo emr, int setId)
        {
            BusinessEntities.ConsentForms.MedicalConsentNew pdf = BusinessLogicLayer.ConsentForms.MedicalConsentNew.GetMedicalConsentNewData(appId).FirstOrDefault();
            BusinessEntities.Common.eSignature psign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "patient", "MedicalConsentNew").FirstOrDefault();
            BusinessEntities.Common.eSignature wsign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "witness", "MedicalConsentNew").FirstOrDefault();
            BusinessEntities.Common.PDFHeaderFooter hf = BusinessLogicLayer.Common.PDF.GetHeaderFooterByBranch(setId);

            string header = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "header_images", hf.header.ToString());
            string footer = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "footer_images", hf.footer.ToString());

            StringBuilder sb = new StringBuilder();

            sb.Append("<html>");
            sb.Append("    <head>");
            sb.Append("    <title> <u>Medical Consent New Form</u></title>");
            sb.Append("    <meta charset='utf-8'>");
            sb.Append("    </head>");
            sb.Append("    <body style='font-family: Verdana, Geneva, Tahoma, sans-serif;'>");

            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + header + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td>");
            sb.Append("            <img src=\"http://localhost:55640/images/header_images/daman2.jpg\" style=\"width:100%\" />");
            sb.Append("        </td>");
            sb.Append("        <td>");
            sb.Append("            <img src=\"http://localhost:55640/images/header_images/daman1.jpg\" style=\"width:100%\" />");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'  colspan='9'>");
            sb.Append("            <h1>Medical Consent Form<br />نموذج الموافقة الطبية</h1>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Patient Name<br/>اسم المريض</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000' colspan='4'>" + emr.pat_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Emirates ID<br/>هويه الإمارات</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_emirateid + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>File No<br/>رقم الملف</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_code + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>DOB<br/>تاريخ الميلاد</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_dob + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Nationality<br/>جنسية</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_nationality + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Gender<br/>جنس</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_gender + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Doctor's Name<br/>اسم الطبيب</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.doc_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Date<br/>تاريخ</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.app_fdate + "</td>");
            sb.Append("    </tr>");
            sb.Append("</table>");

            sb.Append("<div style='width:100%; text-align:justify; font-size: 12px; margin-top: 50px;margin-bottom: 50px;'>");
            sb.Append("<table style='width:100%; text-align:justify;'>");
            //sb.Append("<tr>");
            //sb.Append("<td style='width:100%;' colspan='3'>");
            //sb.Append("     images ");
            //sb.Append("</td>");
            //sb.Append("</tr>");
            sb.Append("<tr>");
            sb.Append("<td style='width:49%;'>");
            sb.Append("I, the undersigned, do hereby authorise the National Health Insurance Company – Daman PJSC (‘Daman’) to:<br/>");
            sb.Append("</td>");
            sb.Append("<td style='width:2%;'></td>");
            sb.Append("<td style='width:49%;' dir='rtl'>");
            sb.Append("أنا الموقع أدناه أفوض الشركة الوطنية للتأمين الصحي – ضمان ش.م.ع ('ضمان') للقيام بما يلي:<br/>");
            sb.Append("</td>");
            sb.Append("</tr>");
            sb.Append("<tr>");
            sb.Append("<td style='width:49%;'>");
            sb.Append("<ul>");
            sb.Append("<li>Have access to and take copies of all my files and records at any time relating to any healthcare services provided to me for services rendered under my Daman card;</li><br/>");
            sb.Append("<li>Disclose my personal information and information related to my medical files and records to third parties for reasons related to insurance including but not limited to the processing of my medical claims, research/statistical purposes or to prevent /control fraudulent or improper claims;</li><br/>");
            sb.Append("<li>Consult with and/or require me to attend a second opinion consultation or case management review with regard to the coverage of certain benefits as per my health insurance coverage.</li><br/>");
            sb.Append("</ul>");
            sb.Append("</td>");
            sb.Append("<td style='width:2%;'></td>");
            sb.Append("<td style='width:49%;' dir='rtl'>");
            sb.Append("<ul>");
            sb.Append("<li>الوصول إلى جميع ملفاتي وسجلاتي وأخذ نسخ منها في أي وقت فيما يتعلق بأي خدمات رعاية صحية مقدمة لي مقابل الخدمات المقدمة بموجب بطاقة ضمان الخاصة بي.</li><br/>");
            sb.Append("<li>الكشف عن معلوماتي الشخصية والمعلومات المتعلقة بملفاتي وسجلاتي الطبية لأطراف ثالثة لأسباب تتعلق بالتأمين بما في ذلك، على سبيل المثال لا الحصر، معالجة مطالباتي الطبية أو الأغراض البحثية/الإحصائية أو لمنع/مكافحة المطالبات الاحتيالية أو غير السليمة؛</li><br/>");
            sb.Append("<li>التشاور مع و/أو مطالبتي بحضور استشارة الرأي الثاني أو مراجعة إدارة الحالة فيما يتعلق بتغطية مزايا معينة وفقًا لتغطية التأمين الصحي الخاص بي.</li><br/>");
            sb.Append("</ul>");
            sb.Append("</td>");
            sb.Append("</tr>");
            sb.Append("<tr>");
            sb.Append("<td style='width:49%;'>");
            sb.Append("This consent is valid at any healthcare provider, including but not limited to hospitals,medical centres, clinics, laboratories, diagnostic centres, rehabilitation centres, home nursing and pharmacies.<br/><br/>");
            sb.Append("</td>");
            sb.Append("<td style='width:2%;'></td>");
            sb.Append("<td style='width:49%;' dir='rtl'>");
            sb.Append(" هذه الموافقة صالحة في أي مقدم رعاية صحية، بما في ذلك على سبيل المثال لا الحصر المستشفيات والمراكز الطبية والعيادات والمختبرات ومراكز التشخيص ومراكز إعادة التأهيل والتمريض المنزلي والصيدليات.<br/>");
            sb.Append("</td>");
            sb.Append("</tr>");
            sb.Append("<tr>");
            sb.Append("<td style='width:49%;'>");
            sb.Append("Daman will ensure the confidentiality of all information it receives in relation to this consent as required by the UAE law.<br/>");
            sb.Append("</td>");
            sb.Append("<td style='width:2%;'></td>");
            sb.Append("<td style='width:49%;' dir='rtl'>");
            sb.Append("ستضمن ضمان سرية جميع المعلومات التي تتلقاها فيما يتعلق بهذه الموافقة وفقًا لما يقتضيه قانون دولة الإمارات العربية المتحدة<br/>");
            sb.Append("</td>");
            sb.Append("</tr>");
            sb.Append("</table>");
            sb.Append("</div>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("           Patient Signature:");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 34%;'>");
            sb.Append("           <img src='" + psign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("           :توقيع المريض");
            sb.Append("        </td>");
            sb.Append("    </tr>");

            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("           Name:");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 34%;'>");
            sb.Append("           " + emr.pat_name + "");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("           :اسم");
            sb.Append("        </td>");
            sb.Append("    </tr>");


            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("           Relationship <br/>(If signing on behalf of a minor or an incapacitated member):");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 34%;'>");
            sb.Append("          " + pdf.mct_1 + "");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("          : العلاقة<br/> (في حالة التوقيع نيابة عن عضو قاصر أو عاجز)");
            sb.Append("        </td>");
            sb.Append("    </tr>");

            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("           Emirates ID No:");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 34%;'>");
            sb.Append("          " + emr.pat_emirateid + "");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("          :رقم الهوية الإماراتية");
            sb.Append("        </td>");
            sb.Append("    </tr>");

            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("          Daman/Thiqa ID No:");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 34%;'>");
            sb.Append("        " + emr.icId + "  ");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("         :رقم هوية الضمان/ثقة ");
            sb.Append("        </td>");
            sb.Append("    </tr>");

            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("           Date:");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 34%;'>");
            sb.Append("         " + emr.app_fdate + " ");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("         :تاريخ ");
            sb.Append("        </td>");
            sb.Append("    </tr>");

            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("           Mobile No:");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 34%;'>");
            sb.Append("         " + emr.pat_mob + " ");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("          :رقم المحمول");
            sb.Append("        </td>");
            sb.Append("    </tr>");

            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000;' colspan='3'>");
            sb.Append("         <img src=\"http://localhost:55640/images/header_images/mr_mc_a77.jpg\" style=\"width:100%\" /> ");
            sb.Append("        </td>");
            sb.Append("    </tr>");

            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("         Recipient Name:");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 34%;'>");
            sb.Append("         " + pdf.mct_2 + " ");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("         :اسم المستلم ");
            sb.Append("        </td>");
            sb.Append("    </tr>");

            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("         Position: ");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 34%;'>");
            sb.Append("         " + pdf.mct_3 + " ");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("         :موضع ");
            sb.Append("        </td>");
            sb.Append("    </tr>");

            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("         Signature: ");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 34%;'>");
            sb.Append("         <img src='" + wsign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/> ");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("          :إمضاء");
            sb.Append("        </td>");
            sb.Append("    </tr>");

            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("         Date: ");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 34%;'>");
            sb.Append("         " + emr.app_fdate + " ");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("         :تاريخ ");
            sb.Append("        </td>");
            sb.Append("    </tr>");

            sb.Append("</table>");

            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + footer + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");
            sb.Append("    </body>");
            sb.Append("</html>");

            String htmlString = sb.ToString();

            return htmlString;
        }

        //Alopecia Treatment consent Form 
        public static string HtmlAlopeciaConsent(int appId, EMRInfo emr, int setId)
        {
            BusinessEntities.ConsentForms.AlopeciaConsent pdf = BusinessLogicLayer.ConsentForms.AlopeciaConsent.GetAlopeciaConsentData(appId).FirstOrDefault();
            BusinessEntities.Common.eSignature psign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "patient", "AlopeciaConsent").FirstOrDefault();
            BusinessEntities.Common.eSignature wsign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "witness", "AlopeciaConsent").FirstOrDefault();
            BusinessEntities.Common.PDFHeaderFooter hf = BusinessLogicLayer.Common.PDF.GetHeaderFooterByBranch(setId);


            string header = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "header_images", hf.header.ToString());
            string footer = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "footer_images", hf.footer.ToString());


            StringBuilder sb = new StringBuilder();


            sb.Append("<html>");
            sb.Append("    <head>");
            sb.Append("    <title> <u>Alopecia Treatment Consent Form</u></title>");
            sb.Append("    <meta charset='utf-8'>");
            sb.Append("    </head>");
            sb.Append("    <body style='font-family: Verdana, Geneva, Tahoma, sans-serif;'>");

            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + header + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'  colspan='9'>");
            sb.Append("            <h1>Alopecia Treatment Consent Form<br /><span dir='rtl'>نموذج الموافقة على علاج الثعلبة</span></h1>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Patient Name<br/>اسم المريض</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000' colspan='4'>" + emr.pat_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Emirates ID<br/>هويه الإمارات</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_emirateid + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>File No<br/>رقم الملف</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_code + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>DOB<br/>تاريخ الميلاد</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_dob + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Nationality<br/>جنسية</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_nationality + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Gender<br/>جنس</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_gender + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Doctor's Name<br/>اسم الطبيب</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.doc_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Date<br/>تاريخ</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.app_fdate + "</td>");
            sb.Append("    </tr>");
            sb.Append("</table>");

            sb.Append("<div style='width:100%; text-align:justify; font-size: 12px; margin-top: 50px;margin-bottom: 50px;'>");
            sb.Append("<table style='width:100%; text-align:justify;'>");
            sb.Append("<tr>");
            sb.Append("<td style='width:49%;text-align:justify'>");
            sb.Append("<p>I, the undersigned hereby consent to allow myself to undertake ALOPECIA Treatment/ procedures after the nature and benefits of this treatment has been explained to me</p>");
            sb.Append("</td>");
            sb.Append("<td style='width:2%;'></td>");
            sb.Append("<td style='width:49%;text-align:justify' dir='rtl'>");
            sb.Append("<p>أنا ، الموقع أدناه ، أوافق على السماح لنفسي بإجراء علاج / إجراءات علاج الثعلبة بعد شرح طبيعة وفوائد هذا العلاج.</p><br/>");
            sb.Append("</td>");
            sb.Append("</tr>");
            sb.Append("<tr>");
            sb.Append("<td style='width:49%;'>");
            sb.Append("<ol style='text-align:justify;'>");
            sb.Append("<li style='text-align:justify;'>I also recognize there are no guaranteed results and that independent results are dependent upon age, skin condition, and lifestyles, and that there is the possibility I may require further treatment of the treated areas to obtain the expected results at an additional cost</li><br/>");
            sb.Append("<li style='text-align:justify;'>I am aware that these services will be provided to me by licensed doctors, nurses, physician’s assistance, and other medical staff </li><br/>");
            sb.Append("<li style='text-align:justify;'>Dizziness, swelling, allergic reaction are common and normal during and after the treatment and they will subside after a few hours</li><br/>");
            sb.Append("<li style='text-align:justify;'>I acknowledge that this treatment has been thoroughly explained to me in a detailed in all clear manners with its benefits and risks and other might happens unknown and unexpected side effects from the procedure</li><br/>");
            sb.Append("<li style='text-align:justify;'>I agree that if I should have any questions or concerns regarding my treatment results. I will notify the clinic immediately so that timely follow-up and intervention can be provided</li><br/>");
            sb.Append("<li style='text-align:justify;'>All of my questions have been satisfactorily answered and I agree to adhere to all safety precautions and instructions after the treatment</li><br/>");
            sb.Append("<li style='text-align:justify;'>Top Life Physiotherapy and Hijjama Center is not responsible for any complications that may occur due to non-compliance with the instruction required for this procedure</li><br/>");
            sb.Append("<li style='text-align:justify;'>I hereby give my voluntary consent to undergo Alopecia Treatment and release Top Life Physiotherapy and Hijjama Center, its medical staff, and administrations from any liability associated with the procedure</li><br/>");
            sb.Append("</ol>");
            sb.Append("</td>");
            sb.Append("<td style='width:2%;'></td>");
            sb.Append("<td style='width:49%;' dir='rtl'>");
            sb.Append("<ol style='text-align:justify;'>");
            sb.Append("<li style='text-align:justify;'>أدرك أيضًا أنه لا توجد نتائج مضمونة وأن النتائج المستقلة تعتمد على العمر وحالة الجلد وأنماط الحياة وأن هناك احتمالًا أنني قد أحتاج إلى مزيد من العلاج للمناطق المعالجة للحصول على النتائج المتوقعة بتكلفة إضافية</li><br/>");
            sb.Append("<li style='text-align:justify;'>أدرك أن هذه الخدمات سيتم توفيرها لي من قبل أطباء وممرضات ومساعدة طبيب وطاقم طبي آخر</li><br/>");
            sb.Append("<li style='text-align:justify;'> الدوخة والتورم والحساسية شائعة وطبيعية أثناء العلاج وبعده وسوف تختفي بعد ساعات قليلة</li><br/>");
            sb.Append("<li style='text-align:justify;'>. أقر بأن هذا العلاج قد تم شرحه لي بالتفصيل وبكل طريقة واضحة مع فوائده ومخاطره وغيرها من الآثار الجانبية غير المعروفة وغير المتوقعة من الإجراء</li><br/>");
            sb.Append("<li style='text-align:justify;'> أوافق على أنه إذا كان لدي أي أسئلة أو مخاوف بشأن نتائج علاجي. سأقوم بإخطار العيادة على الفور حتى يمكن توفير المتابعة والتدخل في الوقت المناسب</li><br/>");
            sb.Append("<li style='text-align:justify;'>تمت الإجابة على جميع أسئلتي بشكل مرضي وأوافق على الالتزام بجميع احتياطات وتعليمات السلامة بعد العلاج</li><br/>");
            sb.Append("<li style='text-align:justify;'>مركز توب لايف للعلاج الطبيعي ومركز الحجامة غير مسؤول عن أي مضاعفات قد تحدث بسبب عدم الامتثال للتعليمات المطلوبة لهذا الإجراء</li><br/>");
            sb.Append("<li style='text-align:justify;'>أمنح بهذا موافقتي  على الخضوع لعلاج الثعلبة وأعفي مركز توب لايف للعلاج الطبيعي ومركز الحجامة وطاقمه الطبي وإداراته من أي مسؤولية مرتبطة بهذا الإجراء.</li><br/>");
            sb.Append("</ol>");
            sb.Append("</td>");
            sb.Append("</tr>");
            sb.Append("<tr>");
            sb.Append("<td style='width:49%;text-align:justify;'>");
            sb.Append("<p style='text-align:justify;'>I agree that healthcare provider(s) involved in my care at this facility will access my health information through the Health Information Exchange System(NABIDH) in accordance with the Laws of the United Arab Emirates, Emirate of Dubai Legislation and Dubai Health Authority Policies \"</p>");
            sb.Append("</td>");
            sb.Append("<td style='width:2%;'></td>");
            sb.Append("<td style='width:49%;'text-align:justify; dir='rtl'>");
            sb.Append("<p style='text-align:justify;'>اوافق بان يقوم مزاولي المهن الصحية المشرفين علي تقديم خدمات الرعاية الصحية لي في هذه المنشاة. بالاطلاع علي معلوماتي الصحية في نظام تبادل  المعلومات الصحية(نابض) وفقا للتشريعات السارية في دولة الامارات العربية المتحدة بشكل عام و امارة دبي بشكل خاص بمافيها القرارات الصادرة عن هيئة الصحة في دبي</p><br/>");
            sb.Append("</td>");
            sb.Append("</tr>");
            sb.Append("</table>");
            sb.Append("</div>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;'  colspan='3'>");
            sb.Append("            <p>Sign here, only if all of your questions have been answered to your satisfaction<br/>قم بالتوقيع هنا، فقط إذا تمت الإجابة على جميع أسئلتك بما يرضيك</p>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("            Patient<br/>مريض");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 34%;'>");
            sb.Append("            witness");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("            Doctor<br/>طبيب");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000'>");
            sb.Append("            <img src='" + psign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000'>");
            sb.Append("            <img src='" + wsign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;'>");
            sb.Append("            <img src='" + emr.doc_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000;border-top:1px solid #000000;'>");
            sb.Append("            Patient Name<br/>اسم المريض");
            sb.Append("             <br/>" + emr.pat_name + "<br/>");
            sb.Append("<br/>Date<br/>تاريخ<br/>");
            sb.Append(emr.app_fdate_time);
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000;border-top:1px solid #000000;'>");
            sb.Append("            Witness Name<br/>اسم الشاهد");
            sb.Append("             <br/>" + pdf.atc_1 + "<br/>");
            sb.Append("<br/>Date<br/>تاريخ<br/>");
            sb.Append(emr.app_fdate_time);
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-top:1px solid #000000;'>");
            sb.Append("            Doctor's Name<br/>اسم الطبيب");
            sb.Append("             <br/>" + emr.doc_name + "<br/>");
            sb.Append("<br/>Date<br/>تاريخ<br/>");
            sb.Append(emr.app_fdate_time);
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("</table>");

            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + footer + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");
            sb.Append("    </body>");
            sb.Append("</html>");

            String htmlString = sb.ToString();

            return htmlString;
        }

        //Facial Filler/RRS Long Lasting consent Form  
        public static string HtmlFacialFiller(int appId, EMRInfo emr, int setId)
        {
            BusinessEntities.ConsentForms.FacialFiller pdf = BusinessLogicLayer.ConsentForms.FacialFiller.GetFacialFillerData(appId).FirstOrDefault();
            BusinessEntities.Common.eSignature psign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "patient", "FacialFiller").FirstOrDefault();
            BusinessEntities.Common.eSignature wsign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "witness", "FacialFiller").FirstOrDefault();
            BusinessEntities.Common.PDFHeaderFooter hf = BusinessLogicLayer.Common.PDF.GetHeaderFooterByBranch(setId);

            string header = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "header_images", hf.header.ToString());
            string footer = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "footer_images", hf.footer.ToString());

            StringBuilder sb = new StringBuilder();

            sb.Append("<html>");
            sb.Append("    <head>");
            sb.Append("    <title> <u>Facial Filler Consent Form</u></title>");
            sb.Append("    <meta charset='utf-8'>");
            sb.Append("    </head>");
            sb.Append("    <body style='font-family: Verdana, Geneva, Tahoma, sans-serif;'>");

            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + header + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'  colspan='9'>");
            sb.Append("            <h1>Facial Filler/RRS Long Lasting/Botox Consent Form<br /><span dir='rtl'>حشو الوجه / RRS طويل الأمد / نموذج الموافقة على البوتوكس</span></h1>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Patient Name<br/>اسم المريض</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000' colspan='4'>" + emr.pat_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Emirates ID<br/>هويه الإمارات</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_emirateid + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>File No<br/>رقم الملف</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_code + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>DOB<br/>تاريخ الميلاد</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_dob + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Nationality<br/>جنسية</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_nationality + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Gender<br/>جنس</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_gender + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Doctor's Name<br/>اسم الطبيب</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.doc_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Date<br/>تاريخ</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.app_fdate + "</td>");
            sb.Append("    </tr>");
            sb.Append("</table>");

            sb.Append("<div style='width:100%; text-align:justify; font-size: 12px; margin-top: 50px;margin-bottom: 50px;'>");
            sb.Append("<table style='width:100%; text-align:justify;'>");
            sb.Append("<tr>");
            sb.Append("<td style='width:49%;'>");
            sb.Append("<p>I, the undersigned hereby consent to allow myself to undertake FACIAL FILLERS / BOTOX/ RRS LONGLASTING procedures which discussed during our consultation for the purpose of aesthetic enhancement</p>");
            sb.Append("</td>");
            sb.Append("<td style='width:2%;'></td>");
            sb.Append("<td style='width:49%;' dir='rtl'>");
            sb.Append("<p>أنا ، الموقع أدناه ، أوافق على السماح لنفسي بالقيام بإجراءات FACIAL FILLERS / BOTOX / RRS LONGLASTING التي تمت مناقشتها خلال استشارتنا لغرض لتحسين الجمالي</p><br/>");
            sb.Append("</td>");
            sb.Append("</tr>");
            sb.Append("<tr>");
            sb.Append("<td style='width:49%;'>");
            sb.Append("<ol>");
            sb.Append("<li>Facial Fillers , Botox and RRS Long Lasting are temporary to long lasting solutions administered through a few tiny facial injections on specific areas of the face</li><br/>");
            sb.Append("<li>I am aware that these services will be provided to me by licensed doctors, nurses, physician’s assistance and other medical staff </li><br/>");
            sb.Append("<li>Bruises are common and normal during and after the treatment  and it will subsides after few hours</li><br/>");
            sb.Append("<li>I declare that I have not done Botox to any part of my body during the past 3 months</li><br/>");
            sb.Append("<li>I hereby acknowledge that I am advised to adhere the following instruction as;<br/>");
            sb.Append("<ul>");
            sb.Append("<li>Avoid exercise for three days after facial /fillers/RRS Long Lasting and botox treatment</li>");
            sb.Append("<li>Away from hot bath and hot water for 3 days</li>");
            sb.Append("<li>Avoid sleeping on any side of your face for 3 days</li>");
            sb.Append("<li>Avoid rubbing or massaging the injection area</li>");
            sb.Append("</ul>");
            sb.Append("</li>");
            sb.Append("<li>I agree that if I should have any questions or concerns regarding my treatment results. I will notify the clinic immediately so that timely follow-up and intervention can be provided</li><br/>");
            sb.Append("<li>I acknowledge that this treatment have been thoroughly explained to me  in a detailed in all clear manner with its benefits and risks  and other unknown and unexpected side effects from the procedure </li><br/>");
            sb.Append("<li>All of my questions have been satisfactorily answered and I agree to adhere to all safety precautions and instructions after the treatment</li><br/>");
            sb.Append("<li>Top Life Physiotherapy and Hijjama Center is not responsible for any complications that may occur due to non-compliance with the instruction required for this procedure</li><br/>");
            sb.Append("<li>I hereby give my voluntary consent to undergo Facial Fillers/ RRS Long Lasting and Botox and release Top Life Physiotherapy and Hijjama Center, its medical staff, and administrations from any liability associated with the procedure</li><br/>");
            sb.Append("</ol>");
            sb.Append("</td>");
            sb.Append("<td style='width:2%;'></td>");
            sb.Append("<td style='width:49%;' dir='rtl'>");
            sb.Append("<ol style='margin-bottom: 100px;'>");
            sb.Append("<li>حشو الوجه والبوتوكس عبارة عن حلول مؤقتة إلى طويلة الأمد تُعطى من خلال عدد قليل من حقن الوجه الصغيره في مناطق معينة من الوجه </li><br/>");
            sb.Append("<li>أدرك أن هذه الخدمات سيتم توفيرها لي من قبل أطباء وممرضات ومساعدة طبيب وطاقم طبي آخر</li><br/>");
            sb.Append("<li>الكدمات شائعة وطبيعية أثناء وبعد العلاج وتختفي في بعض الأحيان</li><br/>");
            sb.Append("<li>أقر انني لم اقم بعمل بوتوكس لاي منطقة في الجسم خلال الــ 3 شهور الماضية</li><br/>");
            sb.Append("<li>أقر بموجب هذا بأنني تم نصحي بالالتزام بالتعليمات على النحو التالي:<br/>");
            sb.Append("<ul>");
            sb.Append("<li> تجنب ممارسة الرياضة لمدة ثلاثة أيام بعد حشو الوجه وعلاج البوتوكس والابره الاسبانيه</li>");
            sb.Append("<li>الابتعاد عن الحمام الساخن والماء الساخن لمدة 3 أيام</li>");
            sb.Append("<li>تجنب النوم على أي جانب من وجهك لمدة 3 أيام</li>");
            sb.Append("<li>تجنب فرك أو تدليك منطقة الحقن</li>");
            sb.Append("</ul>");
            sb.Append("</li>");
            sb.Append("<li>أوافق على أنه إذا كان لدي أي أسئلة أو مخاوف بشأن نتائج علاجي. سأقوم بإخطار العيادة على الفور حتى يمكن توفير المتابعة والتدخل في الوقت المناسب</li><br/>");
            sb.Append("<li>تم شرح جميع طرق العلاج اللازمة لي بشكل مفصل وبكل طريقة واضحة والآثار الجانبية المحتملة\r\n قد تحدث بعض الاعراض الجانبية الغير معروفة والغير متوقعة في بعض الاحيان .\r\n</li><br/>");
            sb.Append("<li>تمت الإجابة على جميع أسئلتي بصورة مرضية وأوافق على الالتزام بجميع احتياطات وتعليمات السلامة بعد العلاج</li><br/>");
            sb.Append("<li>مركز توب لايف للعلاج الطبيعي والحجامة غير مسؤول عن أي \r\nمضاعفات قد تحدث بسبب عدم الامتثال للتعليمات المطلوبة\r\nلهذا الاجراء\r\n</li><br/>");
            sb.Append("<li>أمنح بهذا موافقتي علي الخضوع/الابره الاسبانيه RRS LONGLASTING FACIAL FILLERS / BOTOX دون ادني مستوي علي مركز توب لايف للعلاج الطبيعي وطاقمه الطبي وادارته من اي مسئولية ترتبط بالاجراء.</li><br/>");
            sb.Append("</ol>");
            sb.Append("</td>");
            sb.Append("</tr>");
            sb.Append("<tr>");
            sb.Append("<td style='width:49%;'>");
            sb.Append("<p>\"I agree that healthcare provider(s) involved in my care at this facility will access my health information through the Health Information Exchange System(NABIDH) in accordance with the Laws of the United Arab Emirates, Emirate of Dubai Legislation and Dubai Health Authority Policies \"</p>");
            sb.Append("</td>");
            sb.Append("<td style='width:2%;'></td>");
            sb.Append("<td style='width:49%;' dir='rtl'>");
            sb.Append("<p>اوافق بان يقوم مزاولي المهن الصحية المشرفين علي تقديم خدمات الرعاية الصحية لي في هذه المنشاة. بالاطلاع علي معلوماتي الصحية في نظام تبادل  المعلومات الصحية(نابض) وفقا للتشريعات السارية في دولة الامارات العربية المتحدة بشكل عام و امارة دبي بشكل خاص بمافيها القرارات الصادرة عن هيئة الصحة في دبي</p><br/>");
            sb.Append("</td>");
            sb.Append("</tr>");

            sb.Append("</table>");
            sb.Append("</div>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;'  colspan='3'>");
            sb.Append("            <p>Sign here, only if all of your questions have been answered to your satisfaction<br/>قم بالتوقيع هنا، فقط إذا تمت الإجابة على جميع أسئلتك بما يرضيك</p>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("            Patient<br/>مريض");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 34%;'>");
            sb.Append("            witness");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("            Doctor<br/>طبيب");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000'>");
            sb.Append("            <img src='" + psign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000'>");
            sb.Append("            <img src='" + wsign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;'>");
            sb.Append("            <img src='" + emr.doc_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000;border-top:1px solid #000000;'>");
            sb.Append("            Patient Name<br/>اسم المريض");
            sb.Append("             <br/>" + emr.pat_name + "<br/>");
            sb.Append("<br/>Date<br/>تاريخ<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000;border-top:1px solid #000000;'>");
            sb.Append("            Witness Name<br/>اسم الشاهد");
            sb.Append("             <br/>" + pdf.ffc_1 + "<br/>");
            sb.Append("<br/>Date<br/>تاريخ<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-top:1px solid #000000;'>");
            sb.Append("            Doctor's Name<br/>اسم الطبيب");
            sb.Append("             <br/>" + emr.doc_name + "<br/>");
            sb.Append("<br/>Date<br/>تاريخ<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("</table>");

            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + footer + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");
            sb.Append("    </body>");
            sb.Append("</html>");

            String htmlString = sb.ToString();

            return htmlString;
        }

        //Hijjama Therapy consent Form  
        public static string HtmlHijjamaTherapy(int appId, EMRInfo emr, int setId)
        {
            BusinessEntities.ConsentForms.HijjamaTherapy pdf = BusinessLogicLayer.ConsentForms.HijjamaTherapy.GetHijjamaTherapyData(appId).FirstOrDefault();
            BusinessEntities.Common.eSignature psign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "patient", "HijjamaTherapy").FirstOrDefault();
            BusinessEntities.Common.eSignature wsign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "witness", "HijjamaTherapy").FirstOrDefault();
            BusinessEntities.Common.PDFHeaderFooter hf = BusinessLogicLayer.Common.PDF.GetHeaderFooterByBranch(setId);

            string header = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "header_images", hf.header.ToString());
            string footer = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "footer_images", hf.footer.ToString());

            StringBuilder sb = new StringBuilder();

            sb.Append("<html>");
            sb.Append("    <head>");
            sb.Append("    <title> <u>Hijjama Therapy consent Form</u></title>");
            sb.Append("    <meta charset='utf-8'>");
            sb.Append("    </head>");
            sb.Append("    <body style='font-family: Verdana, Geneva, Tahoma, sans-serif;'>");

            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + header + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'  colspan='9'>");
            sb.Append("            <h1>Hijjama Therapy consent Form<br /><span dir='rtl'>نموذج الموافقة على العلاج بالحجامة</span></h1>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Patient Name<br/>اسم المريض</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000' colspan='4'>" + emr.pat_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Emirates ID<br/>هويه الإمارات</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_emirateid + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>File No<br/>رقم الملف</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_code + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>DOB<br/>تاريخ الميلاد</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_dob + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Nationality<br/>جنسية</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_nationality + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Gender<br/>جنس</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_gender + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Doctor's Name<br/>اسم الطبيب</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.doc_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Date<br/>تاريخ</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.app_fdate + "</td>");
            sb.Append("    </tr>");
            sb.Append("</table>");

            sb.Append("<div style='width:100%; text-align:justify; font-size: 12px; margin-top: 50px;margin-bottom: 50px;'>");
            sb.Append("<table style='width:100%; text-align:justify;'>");
            sb.Append("<tr>");
            sb.Append("<td style='width:49%;'>");
            sb.Append("<p>I, the undersigned hereby consent to allow myself to undertake Hijjama Therapy which was discussed during our consultation to help in prophylactic or therapeutic purposes according to my case </p>");
            sb.Append("</td>");
            sb.Append("<td style='width:2%;'></td>");
            sb.Append("<td style='width:49%;' dir='rtl'>");
            sb.Append("<p>أنا ، الموقع أدناه ، أوافق على اجراء علاج الحجامة الذي تمت مناقشته خلال استشارتنا للمساعدة في الغرض الوقائي او المساهمة في الغرض العلاجي للمشكلة التي أعاني منها</p><br/>");
            sb.Append("</td>");
            sb.Append("</tr>");
            sb.Append("<tr>");
            sb.Append("<td style='width:49%;'>");

            sb.Append("<ol>");
            sb.Append("<li>I understand that Hijjama Therapy “Wet cupping therapy’’ also known as complementary treatment is generally safe and controlled medical bleeding by drawing  small amounts of blood in the suction process in order to help in achieving the goal in hijjama </li><br/>");
            sb.Append("<li>I am aware that after the treatment my   immune system can temporarily react to this release as it might with the flu- producing effects like nausea, headache, fatigue, and dizziness that will subside in time with rest and following the instruction</li><br/>");
            sb.Append("<li>I affirm that I am not experiencing fever, cancer, recent surgery, hemophilia or bleeding/clotting disorders, tuberculosis, pregnancy, AIDS , Hepatitis B, Hepatitis C or any infectious disease</li><br/>");
            sb.Append("<li>I understand that Hijjama Therapy will leave discoloration and round bruises marks that will last several days depending on the severity of my condition</li><br/>");
            sb.Append("<li>I understand that after the treatment I should not take a hot shower, sauna, extreme exercise, and avoid certain food such as heavy meals for 24 hours as it can produce undesirable complications</li><br/>");
            sb.Append("<li>I understand that this treatment has been thoroughly explained to me in a detailed in all clear manner and others might happen from unknown and unexpected side effects from the treatment</li><br/>");
            sb.Append("</ol>");

            sb.Append("</td>");
            sb.Append("<td style='width:2%;'></td>");
            sb.Append("<td style='width:49%;' dir='rtl'>");
            sb.Append("<ol style='margin-bottom: 100px;'>");
            sb.Append("<li>أدرك أن علاج الحجامة \"العلاج بالحجامة الرطبة\" يُعرف أيضًا بالعلاج التكميلي. إنه اجراء طبي آمن وخاضع للسيطرة بشكل عام. ويتم عن طريق سحب الدم في عملية الشفط من أجل المساعدة في الغرض المطلوب لحالتي.</li><br/>");
            sb.Append("<li>أدرك أنه بعد العلاج يمكن لجهاز المناعة في جسدي أن يتفاعل مؤقتًا مع هذا كما هو الحال مع التأثيرات المسببة للإنفلونزا مثل الغثيان والصداع والدوخة والاجهاد، التي ستهدأ مع الراحة واتباع التعليمات</li><br/>");
            sb.Append("<li>أؤكد أنني لا أعاني من الحمى أو السرطان أو الجراحة الحديثة أو الهيموفيليا أو اضطرابات النزيف / التخثر ، الأيدز، السل ، او اي مرض معدي ولا أنا حامل حاليًا </li><br/>");
            sb.Append("<li>.أدرك أن العلاج بالحجامة سيترك علامات تغير اللون وكدمات مستديرة تدوم عدة أيام حسب شدة حالتي</li><br/>");
            sb.Append("<li>.أدرك أنه بعد العلاج لا يجب أن أستحم بالماء الساخن والساونا وممارسة التمارين الرياضية القاسية وتجنب بعض الأطعمة الدسمة لمدة 24 ساعة لأنها يمكن أن تسبب مضاعفات غير مرغوب فيها</li><br/>");
            sb.Append("<li>أفهم أن هذا العلاج قد تم شرحه لي بالتفصيل وبكل طريقة واضحة وقد تحدث آثار جانبية أخرى غير معروفة وغير متوقعة من العلاج</li><br/>");
            sb.Append("</ol>");
            sb.Append("</td>");
            sb.Append("</tr>");
            sb.Append("<tr>");
            sb.Append("<td style='width:49%;'>");
            sb.Append("<ol start='7'>");
            sb.Append("<li>I agree that if I should have any questions or concerns regarding my treatment results. I will notify the clinic immediately so that timely follow-up and intervention can be provided</li><br/>");
            sb.Append("<li>I hereby give my voluntary consent to undergo Hijjama Therapy and release Top Life Physiotherapy and Hijjama Center, its medical staff, and administrations from any liability associated with the treatment</li><br/>");
            sb.Append("</ol>");
            sb.Append("</td>");
            sb.Append("<td style='width:2%;'></td>");
            sb.Append("<td style='width:49%;' dir='rtl'>");
            sb.Append("<ol style='margin-bottom: 100px;' start='7'>");
            sb.Append("<li>أوافق على أنه إذا كان لدي أي أسئلة أو مخاوف بشأن نتائج علاجي. سأقوم بإخطار العيادة على الفور حتى يمكن توفير المتابعة والتدخل في الوقت المناسب</li><br/>");
            sb.Append("<li>أمنح بهذا موافقتي الطوعية على الخضوع للعلاج بالحجامة وأعفي مركز توب لايف للعلاج الطبيعي و الحجامة وطاقمه الطبي وإداراته من أي مسؤولية مرتبطة بالعلاج.</li><br/>");
            sb.Append("</ol>");
            sb.Append("</td>");
            sb.Append("</tr>");
            sb.Append("<tr>");
            sb.Append("<td style='width:49%;'>");
            sb.Append("<p>\"I agree that healthcare provider(s) involved in my care at this facility will access my health information through the Health Information Exchange System(NABIDH) in accordance with the Laws of the United Arab Emirates, Emirate of Dubai Legislation and Dubai Health Authority Policies \"</p>");
            sb.Append("</td>");
            sb.Append("<td style='width:2%;'></td>");
            sb.Append("<td style='width:49%;' dir='rtl'>");
            sb.Append("<p>اوافق بان يقوم مزاولي المهن الصحية المشرفين علي تقديم خدمات الرعاية الصحية لي في هذه المنشاة. بالاطلاع علي معلوماتي الصحية في نظام تبادل  المعلومات الصحية(نابض) وفقا للتشريعات السارية في دولة الامارات العربية المتحدة بشكل عام و امارة دبي بشكل خاص بمافيها القرارات الصادرة عن هيئة الصحة في دبي</p><br/>");
            sb.Append("</td>");
            sb.Append("</tr>");

            sb.Append("</table>");
            sb.Append("</div>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;'  colspan='3'>");
            sb.Append("            <p>Sign here, only if all of your questions have been answered to your satisfaction<br/>قم بالتوقيع هنا، فقط إذا تمت الإجابة على جميع أسئلتك بما يرضيك</p>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("            Patient<br/>مريض");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 34%;'>");
            sb.Append("            witness");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("            Doctor<br/>طبيب");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000'>");
            sb.Append("            <img src='" + psign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000'>");
            sb.Append("            <img src='" + wsign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;'>");
            sb.Append("            <img src='" + emr.doc_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000;border-top:1px solid #000000;'>");
            sb.Append("            Patient Name<br/>اسم المريض");
            sb.Append("             <br/>" + emr.pat_name + "<br/>");
            sb.Append("<br/>Date<br/>تاريخ<br/>");
            sb.Append(emr.app_fdate_time);
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000;border-top:1px solid #000000;'>");
            sb.Append("            Witness Name<br/>اسم الشاهد");
            sb.Append("             <br/>" + pdf.htc_1 + "<br/>");
            sb.Append("<br/>Date<br/>تاريخ<br/>");
            sb.Append(emr.app_fdate_time);
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-top:1px solid #000000;'>");
            sb.Append("            Doctor's Name<br/>اسم الطبيب");
            sb.Append("             <br/>" + emr.doc_name + "<br/>");
            sb.Append("<br/>Date<br/>تاريخ<br/>");
            sb.Append(emr.app_fdate_time);
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("</table>");

            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + footer + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");
            sb.Append("    </body>");
            sb.Append("</html>");

            String htmlString = sb.ToString();

            return htmlString;
        }

        //Hydra Facial consent Form  
        public static string HtmlHydraFacial(int appId, EMRInfo emr, int setId)
        {
            BusinessEntities.ConsentForms.HydraFacial pdf = BusinessLogicLayer.ConsentForms.HydraFacial.GetHydraFacialData(appId).FirstOrDefault();
            BusinessEntities.Common.eSignature psign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "patient", "HydraFacial").FirstOrDefault();
            BusinessEntities.Common.eSignature wsign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "witness", "HydraFacial").FirstOrDefault();
            BusinessEntities.Common.PDFHeaderFooter hf = BusinessLogicLayer.Common.PDF.GetHeaderFooterByBranch(setId);

            string header = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "header_images", hf.header.ToString());
            string footer = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "footer_images", hf.footer.ToString());

            StringBuilder sb = new StringBuilder();

            sb.Append("<html>");
            sb.Append("    <head>");
            sb.Append("    <title> <u>Hydra Facial consent Form</u></title>");
            sb.Append("    <meta charset='utf-8'>");
            sb.Append("    </head>");
            sb.Append("    <body style='font-family: Verdana, Geneva, Tahoma, sans-serif;'>");

            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + header + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'  colspan='9'>");
            sb.Append("            <h1>Hydra Facial consent Form<br /><span dir='rtl'>نموذج موافقة هيدرا فيشل</span></h1>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Patient Name<br/>اسم المريض</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000' colspan='4'>" + emr.pat_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Emirates ID<br/>هويه الإمارات</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_emirateid + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>File No<br/>رقم الملف</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_code + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>DOB<br/>تاريخ الميلاد</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_dob + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Nationality<br/>جنسية</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_nationality + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Gender<br/>جنس</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_gender + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Doctor's Name<br/>اسم الطبيب</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.doc_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Date<br/>تاريخ</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.app_fdate + "</td>");
            sb.Append("    </tr>");
            sb.Append("</table>");

            sb.Append("<div style='width:100%; text-align:justify; font-size: 12px; margin-top: 50px;margin-bottom: 50px;'>");
            sb.Append("<table style='width:100%; text-align:justify;'>");
            sb.Append("<tr>");
            sb.Append("<td style='width:49%;'>");
            sb.Append("<p>I, the undersigned hereby consent to allow myself to undertake HYDRA FACIAL  Treatment  that combines cleansing, exfoliation, extraction, hydration, and antioxidant protection  </p>");
            sb.Append("</td>");
            sb.Append("<td style='width:2%;'></td>");
            sb.Append("<td style='width:49%;' dir='rtl'>");
            sb.Append("<p>أنا ، الموقع أدناه ، أوافق على السماح لنفسي بالقيام بإجراءات HYDRA  Treatment FACIAL التي تمت مناقشتها خلال استشارتنا لغرض التنضيف والتقشير  والترطيب والحمايه من مضادات الأكسده  </p><br/>");
            sb.Append("</td>");
            sb.Append("</tr>");
            sb.Append("<tr>");
            sb.Append("<td style='width:49%;'>");
            sb.Append("<ol>");
            sb.Append("<li>I understand that I may experience temporary irritation, bruises, or redness which  are all normal reactions that typically resolve in maximum of 10 days </li><br/>");
            sb.Append("<li>I hereby acknowledge that I am advised to avoid excessive sun exposure and use a minimum of SPF 40 sunscreen</li><br/>");
            sb.Append("<li>I am aware that these services will be provided to me by licensed doctors, nurses, physician’s assistance, and other medical staff </li><br/>");
            sb.Append("<li>I agree that if I should have any questions or concerns regarding my treatment results. I will notify the clinic immediately so that timely follow-up and intervention can be provided</li><br/>");
            sb.Append("<li>I acknowledge that this treatment has been thoroughly explained to me  in a detailed in all clear manner with its benefits and risks  and other unknown and unexpected side effects from the procedure</li><br/>");
            sb.Append("<li>All of my questions have been satisfactorily answered and I agree to adhere to all safety precautions and instructions after the treatment</li><br/>");
            sb.Append("<li>Top Life Physiotherapy and Hijjama Center is not responsible for any complications that may occur due to non-compliance with the instruction required for this procedure</li><br/>");
            sb.Append("<li>I hereby give my voluntary consent to undergo HYDRA FACIAL treatment and release Top Life Physiotherapy and Hijjama Center, its medical staff, and administrations from any liability associated with the procedure</li><br/>");
            sb.Append("</ol>");
            sb.Append("</td>");
            sb.Append("<td style='width:2%;'></td>");
            sb.Append("<td style='width:49%;' dir='rtl'>");
            sb.Append("<ol style='margin-bottom: 100px;'>");
            sb.Append("<li>أدرك أنني  قد أعاني من تهيج مؤقت أو كدمات او أحمرار وهي كلها ردود فعل طبيعيه  يتم حلها عادة خلال 10 أيام كحد أقصى</li><br/>");
            sb.Append("<li>أقر بموجب هذا أنه ينصح بتجنب التعرض المفرط لأشعة الشمس واستخدام كريم حمايه من الشمس بمعامل 40 على الأقل</li><br/>");
            sb.Append("<li>أدرك أن هذه الخدمات سيتم تقديمها لي من قبل الأطباء والممرضات ومساعدي الأطباء وغيرهم من الموظفين الطبيين المرخصين</li><br/>");
            sb.Append("<li>أوافق على أنه اذا كان لدي أي أسئله أو مخاوف بشأن نتائج علاجي .سأقوم بأخطار العياده على الفور حتى يمكن توفير المتابعه والتدخل في الوقت المناسب</li><br/>");
            sb.Append("<li>أقر بأن هذا العلاج قد تم شرحه لي بشكل كامل ومفصل بكل وضوح مع فوائده ومخاطره وغيرها من الأثار الجانبيه غير المعروفه وغير المتوقعه من هذا الاجراء\r\nلقد تمت الاجابه على جميع أسئلتي بشكل مرضي وأوافق على الالتزام بجميع احتياطات وتعليمات السلامه بعد العلاج\r\n</li><br/>");
            sb.Append("<li>مركز توب لايف للعلاج الطبيعي والحجامه غير مسؤول عن أي مضاعفات قد تحدث نتيجة عدم الالتزام بالتعليمات المطلوبه لهذا الاجراء</li><br/>");
            sb.Append("<li>تم شرح جميع طرق العلاج اللازمة لي بشكل مفصل وبكل طريقة واضحة والآثار الجانبية المحتملة\r\n قد تحدث بعض الاعراض الجانبية الغير معروفة والغير متوقعة في بعض الاحيان .\r\n</li><br/>");
            sb.Append("<li>أمنح بهذا موافقتي  الطوعيه للخضوع لعلاج هيدرا فيشل وأعفي مركز توب لايف للعلاج الطبيعي والحجامه وطاقمه الطبي وادارته من اي مسؤوليه مرتبطه بهذا الاجراء   </li><br/>");
            sb.Append("</ol>");
            sb.Append("</td>");
            sb.Append("</tr>");
            sb.Append("<tr>");
            sb.Append("<td style='width:49%;'>");
            sb.Append("<p>\"I agree that healthcare provider(s) involved in my care at this facility will access my health information through the Health Information Exchange System(NABIDH) in accordance with the Laws of the United Arab Emirates, Emirate of Dubai Legislation and Dubai Health Authority Policies \"</p>");
            sb.Append("</td>");
            sb.Append("<td style='width:2%;'></td>");
            sb.Append("<td style='width:49%;' dir='rtl'>");
            sb.Append("<p>\r\nاوافق بان يقوم مزاولي المهن الصحية المشرفين علي تقديم خدمات الرعاية الصحية لي في هذه المنشاة. بالاطلاع علي معلوماتي الصحية في نظام تبادل  المعلومات الصحية(نابض) وفقا للتشريعات السارية في دولة الامارات العربية المتحدة بشكل عام و امارة دبي بشكل خاص بمافيها القرارات الصادرة عن هيئة الصحة في دبي\r\n</p><br/>");
            sb.Append("</td>");
            sb.Append("</tr>");

            sb.Append("</table>");
            sb.Append("</div>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;'  colspan='3'>");
            sb.Append("            <p>Sign here, only if all of your questions have been answered to your satisfaction<br/>قم بالتوقيع هنا، فقط إذا تمت الإجابة على جميع أسئلتك بما يرضيك</p>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("            Patient<br/>مريض");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 34%;'>");
            sb.Append("            witness");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("            Doctor<br/>طبيب");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000'>");
            sb.Append("            <img src='" + psign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000'>");
            sb.Append("            <img src='" + wsign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;'>");
            sb.Append("            <img src='" + emr.doc_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000;border-top:1px solid #000000;'>");
            sb.Append("            Patient Name<br/>اسم المريض");
            sb.Append("             <br/>" + emr.pat_name + "<br/>");
            sb.Append("<br/>Date<br/>تاريخ<br/>");
            sb.Append(emr.app_fdate_time);
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000;border-top:1px solid #000000;'>");
            sb.Append("            Witness Name<br/>اسم الشاهد");
            sb.Append("             <br/>" + pdf.hfc_1 + "<br/>");
            sb.Append("<br/>Date<br/>تاريخ<br/>");
            sb.Append(emr.app_fdate_time);
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-top:1px solid #000000;'>");
            sb.Append("            Doctor's Name<br/>اسم الطبيب");
            sb.Append("             <br/>" + emr.doc_name + "<br/>");
            sb.Append("<br/>Date<br/>تاريخ<br/>");
            sb.Append(emr.app_fdate_time);
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("</table>");

            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + footer + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");
            sb.Append("    </body>");
            sb.Append("</html>");

            String htmlString = sb.ToString();

            return htmlString;
        }

        //IV Drip Therapy consent Form  
        public static string HtmlDripTherapy(int appId, EMRInfo emr, int setId)
        {
            BusinessEntities.ConsentForms.DripTherapy pdf = BusinessLogicLayer.ConsentForms.DripTherapy.GetDripTherapyData(appId).FirstOrDefault();
            BusinessEntities.Common.eSignature psign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "patient", "DripTherapy").FirstOrDefault();
            BusinessEntities.Common.eSignature wsign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "witness", "DripTherapy").FirstOrDefault();
            BusinessEntities.Common.PDFHeaderFooter hf = BusinessLogicLayer.Common.PDF.GetHeaderFooterByBranch(setId);

            string header = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "header_images", hf.header.ToString());
            string footer = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "footer_images", hf.footer.ToString());

            StringBuilder sb = new StringBuilder();

            sb.Append("<html>");
            sb.Append("    <head>");
            sb.Append("    <title> <u>IV DripTherapy consent Form</u></title>");
            sb.Append("    <meta charset='utf-8'>");
            sb.Append("    </head>");
            sb.Append("    <body style='font-family: Verdana, Geneva, Tahoma, sans-serif;'>");

            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + header + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'  colspan='9'>");
            sb.Append("            <h1>IV DripTherapy consent Form<br /><span dir='rtl'>نموذج الموافقة على العلاج بالتنقيط الرابع</span></h1>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Patient Name<br/>اسم المريض</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000' colspan='4'>" + emr.pat_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Emirates ID<br/>هويه الإمارات</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_emirateid + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>File No<br/>رقم الملف</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_code + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>DOB<br/>تاريخ الميلاد</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_dob + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Nationality<br/>جنسية</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_nationality + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Gender<br/>جنس</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_gender + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Doctor's Name<br/>اسم الطبيب</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.doc_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Date<br/>تاريخ</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.app_fdate + "</td>");
            sb.Append("    </tr>");
            sb.Append("</table>");

            sb.Append("<div style='width:100%; text-align:justify; font-size: 12px; margin-top: 50px;margin-bottom: 50px;'>");
            sb.Append("<table style='width:100%; text-align:justify;'>");
            sb.Append("<tr>");
            sb.Append("<td style='width:49%;'>");
            sb.Append("<p>I, the undersigned hereby consent to allow myself to undertake IV DRIP THERAPY procedures which discussed during our consultation for the purpose of aesthetic enhancement</p>");
            sb.Append("</td>");
            sb.Append("<td style='width:2%;'></td>");
            sb.Append("<td style='width:49%;' dir='rtl'>");
            sb.Append("<p>أنا ، الموقع أدناه ، أوافق على السماح لنفسي بالقيام بإجراءات IV DRIP THERAPY التي نوقشت خلال استشارتنا لغرض التحسين الجمالي</p><br/>");
            sb.Append("</td>");
            sb.Append("</tr>");
            sb.Append("<tr>");
            sb.Append("<td style='width:49%;'>");
            sb.Append("<ol>");
            sb.Append("<li>This procedure involves inserting a needle into the vein and injecting a prescribed solution</li><br/>");
            sb.Append("<li>I understand that the benefits of intravenous nutrient therapy are much greater if I follow a healthy lifestyle (non-smoking, weight control, proper exercise, proper diet, and nutritional supplementation</li><br/>");
            sb.Append("<li>I am aware that these services will be provided to me by licensed doctors, nurses, physician’s assistance, and other medical staff</li><br/>");
            sb.Append("<li>I have been informed of possible risks and side effects including but not limited to discomfort, bruising and pain at the injection site, fatigue, allergic reaction, other unknown and unexpected side effects from the procedure</li><br/>");
            sb.Append("<li>I agree that if I should have any questions or concerns regarding my treatment results. I will notify the clinic immediately so that timely follow-up and intervention can be provided</li><br/>");
            sb.Append("<li>All of my questions have been satisfactorily answered and I agree to adhere to all safety precautions and instructions after the treatment</li><br/>");
            sb.Append("<li>Top Life Physiotherapy and Hijjama Center is not responsible for any complications that may occur due to non-compliance with the instruction required for this procedure</li><br/>");
            sb.Append("<li>I hereby give my voluntary consent to undergo IV DRIP THERAPY and release Top Life Physiotherapy and Hijjama Center, its medical staff, and administrations from any liability associated with the procedure</li><br/>");
            sb.Append("</ol>");
            sb.Append("</td>");
            sb.Append("<td style='width:2%;'></td>");
            sb.Append("<td style='width:49%;' dir='rtl'>");
            sb.Append("<ol style='margin-bottom: 100px;'>");
            sb.Append("<li>يتضمن هذا الإجراء إدخال إبرة في الوريد وحقن محلول موصوف</li><br/>");
            sb.Append("<li> أدرك أن فوائد العلاج بالمغذيات الوريدية تكون أكبر بكثير إذا اتبعت أسلوب حياة صحي (عدم التدخين ، والتحكم في الوزن ، والتمارين الرياضية المناسبة ، والنظام الغذائي السليم ، والمكملات الغذائية)</li><br/>");
            sb.Append("<li>أدرك أن هذه الخدمات سيتم توفيرها لي من قبل أطباء وممرضات ومساعدة طبيب وطاقم طبي آخر</li><br/>");
            sb.Append("<li>لقد تم إبلاغي بالمخاطر والآثار الجانبية المحتملة بما في ذلك على سبيل المثال لا الحصر الانزعاج والكدمات والألم في موقع الحقن والتعب ورد الفعل التحسسي والآثار الجانبية الأخرى غير المعروفة وغير المتوقعة من الإجراء</li><br/>");
            sb.Append("<li>أوافق على أنه إذا كان لدي أي أسئلة أو مخاوف بشأن نتائج علاجي. سأقوم بإخطار العيادة على الفور حتى يمكن توفير المتابعة والتدخل في الوقت المناسب</li><br/>");
            sb.Append("<li>تمت الإجابة على جميع أسئلتي بصورة مرضية وأوافق على الالتزام بجميع احتياطات وتعليمات السلامة بعد العلاج</li><br/>");
            sb.Append("<li>مركز توب لايف للعلاج الطبيعي و الحجامة غير مسؤول عن أي مضاعفات قد تحدث بسبب عدم الامتثال للتعليمات المطلوبة لهذا الإجراء</li><br/>");
            sb.Append("<li>أمنح بموجب هذا موافقتي الطوعية على الخضوع لعلاج IV بالتنقيط والتخلي عن مركز Top Life للعلاج الطبيعي ومركز الحجامة والطاقم الطبي والإدارات من أي مسؤولية مرتبطة بالإجراء.</li><br/>");
            sb.Append("</ol>");
            sb.Append("</td>");
            sb.Append("</tr>");
            sb.Append("<tr>");
            sb.Append("<td style='width:49%;'>");
            sb.Append("<p>\"I agree that healthcare provider(s) involved in my care at this facility will access my health information through the Health Information Exchange System(NABIDH) in accordance with the Laws of the United Arab Emirates, Emirate of Dubai Legislation and Dubai Health Authority Policies \"</p>");
            sb.Append("</td>");
            sb.Append("<td style='width:2%;'></td>");
            sb.Append("<td style='width:49%;' dir='rtl'>");
            sb.Append("<p>اوافق بان يقوم مزاولي المهن الصحية المشرفين علي تقديم خدمات الرعاية الصحية لي في هذه المنشاة. بالاطلاع علي معلوماتي الصحية في نظام تبادل  المعلومات الصحية(نابض) وفقا للتشريعات السارية في دولة الامارات العربية المتحدة بشكل عام و امارة دبي بشكل خاص بمافيها القرارات الصادرة عن هيئة الصحة في دبي</p><br/>");
            sb.Append("</td>");
            sb.Append("</tr>");

            sb.Append("</table>");
            sb.Append("</div>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;'  colspan='3'>");
            sb.Append("            <p>Sign here, only if all of your questions have been answered to your satisfaction<br/>قم بالتوقيع هنا، فقط إذا تمت الإجابة على جميع أسئلتك بما يرضيك</p>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("            Patient<br/>مريض");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 34%;'>");
            sb.Append("            witness");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("            Doctor<br/>طبيب");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000'>");
            sb.Append("            <img src='" + psign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000'>");
            sb.Append("            <img src='" + wsign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;'>");
            sb.Append("            <img src='" + emr.doc_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000;border-top:1px solid #000000;'>");
            sb.Append("            Patient Name<br/>اسم المريض");
            sb.Append("             <br/>" + emr.pat_name + "<br/>");
            sb.Append("<br/>Date<br/>تاريخ<br/>");
            sb.Append(emr.app_fdate_time);
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000;border-top:1px solid #000000;'>");
            sb.Append("            Witness Name<br/>اسم الشاهد");
            sb.Append("             <br/>" + pdf.dtc_1 + "<br/>");
            sb.Append("<br/>Date<br/>تاريخ<br/>");
            sb.Append(emr.app_fdate_time);
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-top:1px solid #000000;'>");
            sb.Append("            Doctor's Name<br/>اسم الطبيب");
            sb.Append("             <br/>" + emr.doc_name + "<br/>");
            sb.Append("<br/>Date<br/>تاريخ<br/>");
            sb.Append(emr.app_fdate_time);
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("</table>");

            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + footer + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");
            sb.Append("    </body>");
            sb.Append("</html>");

            String htmlString = sb.ToString();

            return htmlString;
        }

        //Lipolysis Injection consent Form  
        public static string HtmlLipolysisInjection(int appId, EMRInfo emr, int setId)
        {
            BusinessEntities.ConsentForms.LipolysisInjection pdf = BusinessLogicLayer.ConsentForms.LipolysisInjection.GetLipolysisInjectionData(appId).FirstOrDefault();
            BusinessEntities.Common.eSignature psign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "patient", "LipolysisInjection").FirstOrDefault();
            BusinessEntities.Common.eSignature wsign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "witness", "LipolysisInjection").FirstOrDefault();
            BusinessEntities.Common.PDFHeaderFooter hf = BusinessLogicLayer.Common.PDF.GetHeaderFooterByBranch(setId);

            string header = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "header_images", hf.header.ToString());
            string footer = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "footer_images", hf.footer.ToString());

            StringBuilder sb = new StringBuilder();

            sb.Append("<html>");
            sb.Append("    <head>");
            sb.Append("    <title> <u>Lipolysis Injection consent Form</u></title>");
            sb.Append("    <meta charset='utf-8'>");
            sb.Append("    </head>");
            sb.Append("    <body style='font-family: Verdana, Geneva, Tahoma, sans-serif;'>");

            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + header + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'  colspan='9'>");
            sb.Append("            <h1>Lipolysis Injection consent Form<br /><span dir='rtl'>نموذج الموافقة على حقن تحلل الدهون</span></h1>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Patient Name<br/>اسم المريض</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000' colspan='4'>" + emr.pat_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Emirates ID<br/>هويه الإمارات</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_emirateid + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>File No<br/>رقم الملف</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_code + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>DOB<br/>تاريخ الميلاد</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_dob + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Nationality<br/>جنسية</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_nationality + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Gender<br/>جنس</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_gender + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Doctor's Name<br/>اسم الطبيب</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.doc_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Date<br/>تاريخ</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.app_fdate + "</td>");
            sb.Append("    </tr>");
            sb.Append("</table>");

            sb.Append("<div style='width:100%; text-align:justify; font-size: 12px; margin-top: 50px;margin-bottom: 50px;'>");
            sb.Append("<table style='width:100%; text-align:justify;'>");
            sb.Append("<tr>");
            sb.Append("<td style='width:49%;'>");
            sb.Append("<p>I, the undersigned hereby consent to allow myself to undertake Lipolysis Injection procedures which were discussed during our consultation for Fat Reduction and localized fat deposits</p>");
            sb.Append("</td>");
            sb.Append("<td style='width:2%;'></td>");
            sb.Append("<td style='width:49%;' dir='rtl'>");
            sb.Append("<p>أنا ، الموقع أدناه ، أوافق على السماح لنفسي بإجراء عمليات \r\nحقن تذويب الدهون التي تمت مناقشتها  خلال استشارتنا لتقليل الدهون وترسبات الدهون الموضعية\r\n</p><br/>");
            sb.Append("</td>");
            sb.Append("</tr>");
            sb.Append("<tr>");
            sb.Append("<td style='width:49%;'>");
            sb.Append("<ol>");
            sb.Append("<li>Prior to Lipolysis Injection I hereby acknowledge that I had an opportunity to discuss my medical history and recent condition, the size, and location of the fat deposits were examined, and the circumference was measured</li><br/>");
            sb.Append("<li>I am aware that these services will be provided to me by licensed doctors, nurses, physician’s assistance, and other medical staff </li><br/>");
            sb.Append("<li>The following is the list of possible side effects of Lipolysis Injection but they are minimal and temporary which typically resolve within 3 to 5 days");
            sb.Append("<ul>");
            sb.Append("<li>Bruises are common and normal during and after the treatment and they will disappear after 2-3 hours</li><br/>");
            sb.Append("<li>Redness or swelling at the injection site </li><br/>");
            sb.Append("<li>Itching and burning lasting 20 minutes to a few hours</li><br/>");
            sb.Append("<li>Dizziness and possible allergic reactions could happen</li><br/>");
            sb.Append("<li>May also experience mild, intermittent diarrhea as your body converts the broken down fatty structures into waste products</li>");
            sb.Append("</ul>");
            sb.Append("</li><br/>");
            sb.Append("<li>I hereby acknowledge that I am advised to adhere to the following instruction;");
            sb.Append("<ul>");
            sb.Append("<li>Avoid extreme exercise after Lipolysis Injection for 1 day</li><br/>");
            sb.Append("<li>Away from hot bath and hot water for 1 day</li><br/>");
            sb.Append("<li>Avoid sunbathing or tanning</li><br/>");
            sb.Append("</ul>");
            sb.Append("</li><br/>");
            sb.Append("</ol>");
            sb.Append("</td>");
            sb.Append("<td style='width:2%;'></td>");
            sb.Append("<td style='width:49%;' dir='rtl'>");
            sb.Append("<ol style='margin-bottom: 100px;'>");
            sb.Append("<li>أنا أفهم أن حقن تذويب الدهون قد يتطلب العديد من الحقن \r\nالصغيرة حول المنطقة (المناطق) المراد علاجها.\r\n1.\tقبل حقن تذويب الدهون ، أقر انه أتيحت لي الفرصة لمناقشة تاريخي الطبي وحالتي الحديثة ، وتم فحص حجم وموقع رواسب الدهون ، وتم قياس المحيط\r\n</li><br/>");
            sb.Append("<li>أدرك أن هذه الخدمات سيتم توفيرها لي من قبل  أطباء وممرضات ومساعدة طبيب وطاقم طبي آخر</li><br/>");
            sb.Append("<li>فيما يلي قائمة بالآثار الجانبية المحتملة لحقن تحلل الدهون ولكنها محدودة ومؤقتة والتي عادة ما يتم حلها في غضون 3 إلى 5 أيام");
            sb.Append("<ul>");
            sb.Append("<li> الكدمات شائعة وطبيعية أثناء وبعد العلاج وتختفي بعد 3-4 ايام</li><br/>");
            sb.Append("<li> احمرار أو انتفاخ في موقع الحقن</li><br/>");
            sb.Append("<li> يستمر الحكة والحرقان لمدة 20 دقيقة إلى بضع ساعات</li><br/>");
            sb.Append("<li>قد يحدث دوار وتفاعلات تحسسية محتملة</li><br/>");
            sb.Append("<li>قد تعاني أيضًا من الإسهال الخفيف والمتقطع لأن\r\n جسمك يحول الهياكل الدهنية المتكسرة إلى فضلات\r\n</li>");
            sb.Append("</ul>");
            sb.Append("</li><br/>");
            sb.Append("<li> أقر بموجب هذا بأنني سوف التزم بالتعليمات كاملة على النحو التالي:");
            sb.Append("<ul>");
            sb.Append("<li>الابتعاد عن الحمام الساخن والماء الساخن لمدة يوم واحد</li><br/>");
            sb.Append("<li>تجنب الاستحمام الشمسي </li><br/>");
            sb.Append("</ul>");
            sb.Append("</li><br/>");
            sb.Append("</ol>");
            sb.Append("</td>");
            sb.Append("</tr>");
            sb.Append("<tr>");
            sb.Append("<td style='width:49%;'>");
            sb.Append("<ol start='5'>");
            sb.Append("<li>I agree that if I should have any questions or concerns regarding my treatment results. I will notify the clinic immediately so that timely follow-up and intervention can be provided</li><br/>");
            sb.Append("<li>I acknowledge that this treatment has been thoroughly explained to me in a detailed in all clear manner and with its benefits and associated risk and other unknown and unexpected side effects from the procedure</li><br/>");
            sb.Append("<li>All of my questions have been satisfactorily answered and I agree to adhere to all safety precautions and instructions after the treatment</li><br/>");
            sb.Append("<li>Top Life Physiotherapy and Hijjama Center is not responsible for any complications that may occur due to non-compliance with the instruction required for this procedure</li><br/>");
            sb.Append("</ol>");
            sb.Append("</td>");
            sb.Append("<td style='width:2%;'></td>");
            sb.Append("<td style='width:49%;' dir='rtl'>");
            sb.Append("<ol style='margin-bottom: 100px;' start='5'>");
            sb.Append("<li>أوافق على أنه إذا كان لدي أي أسئلة أو مخاوف بشأن نتائج علاجي. سأقوم  بإخطار العيادة على الفور حتى يمكن توفير المتابعة  والتدخل في الوقت المناسب</li><br/>");
            sb.Append("<li> تم شرح جميع طرق العلاج اللازمة بشكل شامل  ومفصل وبكل طريقة واضحة والآثار الجانبية المحتملة</li><br/>");
            sb.Append("<li>تمت الإجابة على جميع أسئلتي بشكل مرض وأوافق\r\n على الالتزام بجميع احتياطات وتعليمات السلامة بعد العلاج\r\nقد تحدث بعص الاعراض الجانبية الغير معروفة والغير متوقعة في بعض الاحيان\r\n</li><br/>");
            sb.Append("<li>وان مركز توب لايف للعلاج الطبيعي والحجامة غير مسؤول عن أي مضاعفات قد تحدث بسبب عدم الامتثال للتعليمات المطلوبة لهذا الإجراء</li><br/>");
            sb.Append("</ol>");
            sb.Append("</td>");
            sb.Append("</tr>");
            sb.Append("<tr>");
            sb.Append("<td style='width:49%;'>");
            sb.Append("<p>I hereby give my voluntary consent to undergo Lipolysis Injection and release Top Life Physiotherapy and Hijjama Center, its medical staff, and administrations from any liability associated with the procedure</p>");
            sb.Append("<p>\"I agree that healthcare provider(s) involved in my care at this facility will access my health information through the Health Information Exchange System(NABIDH) in accordance with the Laws of the United Arab Emirates, Emirate of Dubai Legislation and Dubai Health Authority Policies \"</p>");
            sb.Append("</td>");
            sb.Append("<td style='width:2%;'></td>");
            sb.Append("<td style='width:49%;' dir='rtl'>");
            sb.Append("<p>أمنح بموجب هذا موافقتي الطوعية للخضوع لحقن تحلل الدهون وأعفي مركز توب لايف للعلاج الطبيعي والحجامة وطاقمه الطبي والإدارات من أي مسؤولية مرتبطة بهذا الإجراء</p>");
            sb.Append("<p>\r\nاوافق بان يقوم مزاولي المهن الصحية المشرفين علي تقديم خدمات الرعاية الصحية لي في هذه المنشاة. بالاطلاع علي معلوماتي الصحية في نظام تبادل  المعلومات الصحية(نابض) وفقا للتشريعات السارية في دولة الامارات العربية المتحدة بشكل عام و امارة دبي بشكل خاص بمافيها القرارات الصادرة عن هيئة الصحة في دبي\r\n</p><br/>");
            sb.Append("</td>");
            sb.Append("</tr>");

            sb.Append("</table>");
            sb.Append("</div>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;'  colspan='3'>");
            sb.Append("            <p>Sign here, only if all of your questions have been answered to your satisfaction<br/>قم بالتوقيع هنا، فقط إذا تمت الإجابة على جميع أسئلتك بما يرضيك</p>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("            Patient<br/>مريض");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 34%;'>");
            sb.Append("            witness");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("            Doctor<br/>طبيب");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000'>");
            sb.Append("            <img src='" + psign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000'>");
            sb.Append("            <img src='" + wsign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;'>");
            sb.Append("            <img src='" + emr.doc_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000;border-top:1px solid #000000;'>");
            sb.Append("            Patient Name<br/>اسم المريض");
            sb.Append("             <br/>" + emr.pat_name + "<br/>");
            sb.Append("<br/>Date<br/>تاريخ<br/>");
            sb.Append(emr.app_fdate_time);
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000;border-top:1px solid #000000;'>");
            sb.Append("            Witness Name<br/>اسم الشاهد");
            sb.Append("             <br/>" + pdf.lic_1 + "<br/>");
            sb.Append("<br/>Date<br/>تاريخ<br/>");
            sb.Append(emr.app_fdate_time);
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-top:1px solid #000000;'>");
            sb.Append("            Doctor's Name<br/>اسم الطبيب");
            sb.Append("             <br/>" + emr.doc_name + "<br/>");
            sb.Append("<br/>Date<br/>تاريخ<br/>");
            sb.Append(emr.app_fdate_time);
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("</table>");

            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + footer + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");
            sb.Append("    </body>");
            sb.Append("</html>");

            String htmlString = sb.ToString();

            return htmlString;
        }

        //Massage Therapy consent Form  
        public static string HtmlMassageTherapy(int appId, EMRInfo emr, int setId)
        {
            BusinessEntities.ConsentForms.MassageTherapy pdf = BusinessLogicLayer.ConsentForms.MassageTherapy.GetMassageTherapyData(appId).FirstOrDefault();
            BusinessEntities.Common.eSignature psign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "patient", "MassageTherapy").FirstOrDefault();
            BusinessEntities.Common.eSignature wsign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "witness", "MassageTherapy").FirstOrDefault();
            BusinessEntities.Common.PDFHeaderFooter hf = BusinessLogicLayer.Common.PDF.GetHeaderFooterByBranch(setId);

            string header = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "header_images", hf.header.ToString());
            string footer = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "footer_images", hf.footer.ToString());

            StringBuilder sb = new StringBuilder();

            sb.Append("<html>");
            sb.Append("    <head>");
            sb.Append("    <title> <u>Massage Therapy consent Form</u></title>");
            sb.Append("    <meta charset='utf-8'>");
            sb.Append("    </head>");
            sb.Append("    <body style='font-family: Verdana, Geneva, Tahoma, sans-serif;'>");

            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + header + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'  colspan='9'>");
            sb.Append("            <h1>Massage Therapy consent Form<br /><span dir='rtl'>نموذج الموافقة على العلاج بالتدليك</span></h1>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Patient Name<br/>اسم المريض</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000' colspan='4'>" + emr.pat_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Emirates ID<br/>هويه الإمارات</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_emirateid + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>File No<br/>رقم الملف</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_code + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>DOB<br/>تاريخ الميلاد</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_dob + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Nationality<br/>جنسية</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_nationality + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Gender<br/>جنس</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_gender + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Doctor's Name<br/>اسم الطبيب</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.doc_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Date<br/>تاريخ</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.app_fdate + "</td>");
            sb.Append("    </tr>");
            sb.Append("</table>");

            sb.Append("<div style='width:100%; text-align:justify; font-size: 12px; margin-top: 50px;margin-bottom: 50px;'>");
            sb.Append("<table style='width:100%; text-align:justify;'>");

            sb.Append("<tr>");
            sb.Append("<td style='width:49%;'>");
            sb.Append("<p>I understand that Massage Therapy is provided for the basic purpose of relieving muscular tension, relieving pain, and facilitating a range of motion and relaxation</p>");
            sb.Append("<p>If I experience any pain or discomfort during the session, I will immediately inform the therapist so that the pressure and/or strokes may be adjusted to my level of comfort.</p>");
            sb.Append("<p>I understand, as in all health care, in the practice of massage therapy there can involve minimal risks and side effects from the therapy, including muscle tenderness, bruises, fatigue, skin redness, and dizziness that may subside after a few hours</p>");
            sb.Append("<p>I confirm that the Massage therapy has been thoroughly explained to me in detail and its benefits and risks in all clear manner and other unknown and unexpected side effects from the procedure</p>");
            sb.Append("<p>I agree that if I should have any questions or concerns regarding my treatment results. I will notify the clinic immediately so that timely follow-up and intervention can be provided</p><br/>");
            sb.Append("</td>");
            sb.Append("<td style='width:2%;'></td>");
            sb.Append("<td style='width:49%;' dir='rtl'>");
            sb.Append("<p>أدرك أن العلاج بالتدليك يتم توفيره لغرض أساسي هو تخفيف التوتر العضلي وتخفيف الألم وتسهيل نطاق الحركة والاسترخاء.</p>");
            sb.Append("<p>إذا شعرت بأي ألم أو إزعاج أثناء الجلسة ، فسوف أبلغ المعالج على الفور حتى يتم ضبط الضغط على مستوى راحتي.</p>");
            sb.Append("<p>أفهم ، كما هو الحال في جميع أنواع الرعاية الصحية ، أنه في ممارسة العلاج بالتدليك يمكن أن تنطوي على مخاطر قليلة وآثار جانبية من العلاج ، بما في ذلك إيلام العضلات والكدمات والتعب واحمرار الجلد والدوخة التي قد تهدأ بعد ساعات قليلة</p>");
            sb.Append("<p>\r\nأؤكد أن العلاج بالتدليك قد تم شرحه لي بشكل مفصل وفوائده ومخاطره بكل طريقة واضحة وآثار جانبية أخرى غير معروفة وغير متوقعة من الإجراء\r\n</p>");
            sb.Append("<p>أوافق على أنه إذا كان لدي أي أسئلة أو مخاوف بشأن نتائج علاجي. سأقوم بإخطار العيادة على الفور حتى يمكن توفير المتابعة والتدخل في الوقت المناسب</p><br/>");
            sb.Append("</td>");
            sb.Append("</tr>");

            sb.Append("<tr>");
            sb.Append("<td style='width:49%;'>");
            sb.Append("<p>I hereby give my voluntary consent to undergo Massage Therapy and release Top Life Physiotherapy and Hijjama Center, its medical staff, and administrations from any liability associated from the procedure</p>");
            sb.Append("<p><b>\"I agree that healthcare provider(s) involved in my care at this facility will access my health information through the Health Information Exchange System(NABIDH) in accordance with the Laws of the United Arab Emirates, Emirate of Dubai Legislation and Dubai Health Authority Policies \"</b>");
            sb.Append("</td>");
            sb.Append("<td style='width:2%;'></td>");
            sb.Append("<td style='width:49%;' dir='rtl'>");
            sb.Append("<p>أمنح بموجب هذا موافقتي الطوعية على الخضوع للعلاج بالتدليك وأعفي مركز توب لايف للعلاج الطبيعي الحجامة وطاقمه الطبي وإداراته من أي مسؤولية مرتبطة بذلك.</p>");
            sb.Append("<p><b>اوافق بان يقوم مزاولي المهن الصحية المشرفين علي تقديم خدمات الرعاية الصحية لي في هذه المنشاة. بالاطلاع علي معلوماتي الصحية في نظام تبادل  المعلومات الصحية(نابض) وفقا للتشريعات السارية في دولة الامارات العربية المتحدة بشكل عام و امارة دبي بشكل خاص بمافيها القرارات الصادرة عن هيئة الصحة في دبي</b>");
            sb.Append("</td>");
            sb.Append("</tr>");

            sb.Append("</table>");
            sb.Append("</div>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;'  colspan='3'>");
            sb.Append("            <p>Sign here, only if all of your questions have been answered to your satisfaction<br/>قم بالتوقيع هنا، فقط إذا تمت الإجابة على جميع أسئلتك بما يرضيك</p>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("            Patient<br/>مريض");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 34%;'>");
            sb.Append("            witness");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("            Doctor<br/>طبيب");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000'>");
            sb.Append("            <img src='" + psign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000'>");
            sb.Append("            <img src='" + wsign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;'>");
            sb.Append("            <img src='" + emr.doc_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000;border-top:1px solid #000000;'>");
            sb.Append("            Patient Name<br/>اسم المريض");
            sb.Append("             <br/>" + emr.pat_name + "<br/>");
            sb.Append("<br/>Date<br/>تاريخ<br/>");
            sb.Append(emr.app_fdate_time);
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000;border-top:1px solid #000000;'>");
            sb.Append("            Witness Name<br/>اسم الشاهد");
            sb.Append("             <br/>" + pdf.mtc_1 + "<br/>");
            sb.Append("<br/>Date<br/>تاريخ<br/>");
            sb.Append(emr.app_fdate_time);
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-top:1px solid #000000;'>");
            sb.Append("            Doctor's Name<br/>اسم الطبيب");
            sb.Append("             <br/>" + emr.doc_name + "<br/>");
            sb.Append("<br/>Date<br/>تاريخ<br/>");
            sb.Append(emr.app_fdate_time);
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("</table>");

            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + footer + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");
            sb.Append("    </body>");
            sb.Append("</html>");

            String htmlString = sb.ToString();

            return htmlString;
        }

        //Dermatology General consent Form  
        public static string HtmlDermatologyGeneral(int appId, EMRInfo emr, int setId)
        {
            BusinessEntities.ConsentForms.DermatologyGeneral pdf = BusinessLogicLayer.ConsentForms.DermatologyGeneral.GetDermatologyGeneralData(appId).FirstOrDefault();
            BusinessEntities.Common.eSignature psign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "patient", "DermatologyGeneral").FirstOrDefault();
            BusinessEntities.Common.eSignature wsign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "witness", "DermatologyGeneral").FirstOrDefault();
            BusinessEntities.Common.PDFHeaderFooter hf = BusinessLogicLayer.Common.PDF.GetHeaderFooterByBranch(setId);

            string header = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "header_images", hf.header.ToString());
            string footer = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "footer_images", hf.footer.ToString());

            StringBuilder sb = new StringBuilder();

            string ChkHtml1 = "<input type='checkbox'  class='custom-control-input' name='dgc_1' value='1' id='dgc_11'>";
            string ChkHtml2 = "<input type='checkbox'  class='custom-control-input' name='dgc_1' value='2' id='dgc_12'>";
            string ChkHtml3 = "<input type='checkbox'  class='custom-control-input' name='dgc_1' value='3' id='dgc_13'>";
            string ChkHtml4 = "<input type='checkbox'  class='custom-control-input' name='dgc_1' value='4' id='dgc_14'>";
            string ChkHtml5 = "<input type='checkbox'  class='custom-control-input' name='dgc_1' value='5' id='dgc_15'>";
            string ChkHtml6 = "<input type='checkbox'  class='custom-control-input' name='dgc_1' value='6' id='dgc_16'>";
            string ChkHtml7 = "<input type='checkbox'  class='custom-control-input' name='dgc_1' value='7' id='dgc_17'>";
            string ChkHtml8 = "<input type='checkbox'  class='custom-control-input' name='dgc_1' value='8' id='dgc_18'>";
            string ChkHtml9 = "<input type='checkbox'  class='custom-control-input' name='dgc_1' value='9' id='dgc_19'>";
            string ChkHtml10 = "<input type='checkbox'  class='custom-control-input' name='dgc_1' value='10' id='dgc_110'>";
            string ChkHtml11 = "<input type='checkbox'  class='custom-control-input' name='dgc_1' value='11' id='dgc_111'>";
            string ChkHtml12 = "<input type='checkbox'  class='custom-control-input' name='dgc_1' value='12' id='dgc_112'>";
            string ChkHtml13 = "<input type='checkbox'  class='custom-control-input' name='dgc_1' value='13' id='dgc_113'>";
            string ChkHtml14 = "<input type='checkbox'  class='custom-control-input' name='dgc_1' value='14' id='dgc_114'>";
            string ChkHtml15 = "<input type='checkbox'  class='custom-control-input' name='dgc_1' value='15' id='dgc_115'>";
            string ChkHtml16 = "<input type='checkbox'  class='custom-control-input' name='dgc_1' value='16' id='dgc_116'>";
            string ChkHtml17 = "<input type='checkbox'  class='custom-control-input' name='dgc_1' value='17' id='dgc_117'>";
            string ChkHtml18 = "<input type='checkbox'  class='custom-control-input' name='dgc_1' value='18' id='dgc_118'>";
            string ChkHtml19 = "<input type='checkbox'  class='custom-control-input' name='dgc_1' value='19' id='dgc_119'>";
            string ChkHtml20 = "<input type='checkbox'  class='custom-control-input' name='dgc_1' value='20' id='dgc_120'>";
            string ChkHtml21 = "<input type='checkbox'  class='custom-control-input' name='dgc_1' value='21' id='dgc_121'>";

            if (pdf.dgc_1.Contains("1"))
            {
                ChkHtml1 = ChkHtml1.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.dgc_1.Contains("2"))
            {
                ChkHtml2 = ChkHtml2.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.dgc_1.Contains("3"))
            {
                ChkHtml3 = ChkHtml3.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.dgc_1.Contains("4"))
            {
                ChkHtml4 = ChkHtml4.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.dgc_1.Contains("5"))
            {
                ChkHtml5 = ChkHtml5.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.dgc_1.Contains("6"))
            {
                ChkHtml6 = ChkHtml6.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.dgc_1.Contains("7"))
            {
                ChkHtml7 = ChkHtml7.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.dgc_1.Contains("8"))
            {
                ChkHtml8 = ChkHtml8.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.dgc_1.Contains("9"))
            {
                ChkHtml9 = ChkHtml9.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.dgc_1.Contains("10"))
            {
                ChkHtml10 = ChkHtml10.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.dgc_1.Contains("11"))
            {
                ChkHtml11 = ChkHtml11.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.dgc_1.Contains("12"))
            {
                ChkHtml12 = ChkHtml12.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.dgc_1.Contains("13"))
            {
                ChkHtml13 = ChkHtml13.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.dgc_1.Contains("14"))
            {
                ChkHtml14 = ChkHtml14.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.dgc_1.Contains("15"))
            {
                ChkHtml15 = ChkHtml15.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.dgc_1.Contains("16"))
            {
                ChkHtml16 = ChkHtml16.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.dgc_1.Contains("17"))
            {
                ChkHtml17 = ChkHtml17.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.dgc_1.Contains("18"))
            {
                ChkHtml18 = ChkHtml18.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.dgc_1.Contains("19"))
            {
                ChkHtml19 = ChkHtml19.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.dgc_1.Contains("20"))
            {
                ChkHtml20 = ChkHtml20.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.dgc_1.Contains("21"))
            {
                ChkHtml21 = ChkHtml21.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }

            sb.Append("<html>");
            sb.Append("    <head>");
            sb.Append("    <title> <u>Dermatology General consent Form</u></title>");
            sb.Append("    <meta charset='utf-8'>");
            sb.Append("    </head>");
            sb.Append("    <body style='font-family: Verdana, Geneva, Tahoma, sans-serif;'>");

            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + header + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'  colspan='9'>");
            sb.Append("            <h1>Dermatology General consent Form<br /><span dir='rtl'>نموذج الموافقة العامة للأمراض الجلدية</span></h1>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Patient Name<br/>اسم المريض</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000' colspan='4'>" + emr.pat_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Emirates ID<br/>هويه الإمارات</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_emirateid + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>File No<br/>رقم الملف</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_code + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>DOB<br/>تاريخ الميلاد</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_dob + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Nationality<br/>جنسية</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_nationality + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Gender<br/>جنس</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_gender + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Doctor's Name<br/>اسم الطبيب</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.doc_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Date<br/>تاريخ</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.app_fdate + "</td>");
            sb.Append("    </tr>");
            sb.Append("</table>");

            sb.Append("<table style='width:100%; border:0px solid #000000;border-collapse: collapse;margin-top: 10px;'>");
            sb.Append("<tr>");
            sb.Append("<td style='width:18%;'></td>");
            sb.Append("<td style='width:30%;'>");
            sb.Append(" " + ChkHtml1 + "Acne scar treatment <br/>");
            sb.Append(" " + ChkHtml2 + "Lipolysis injection<br/>");
            sb.Append(" " + ChkHtml3 + "Lip plumping(pinky lips)<br/>");
            sb.Append(" " + ChkHtml4 + "PRP(hair/derma)<br/>");
            sb.Append(" " + ChkHtml5 + "Botox<br/>");
            sb.Append(" " + ChkHtml6 + "Filler<br/>");
            sb.Append(" " + ChkHtml7 + "Texas<br/>");
            sb.Append(" " + ChkHtml8 + "Chemical peeling<br/>");
            sb.Append(" " + ChkHtml9 + "Mesotherapy<br/>");
            sb.Append(" " + ChkHtml10 + "Magic Threads<br/>");
            sb.Append(" " + ChkHtml11 + "Micro Filler<br/>");
            sb.Append("</td>");
            sb.Append("<td style='width:8%;'></td>");
            sb.Append("<td style='width:40%;'>");
            sb.Append(" " + ChkHtml12 + "Profound<br/>");
            sb.Append(" " + ChkHtml13 + "Royal Injection<br/>");
            sb.Append(" " + ChkHtml14 + "Visco Derm<br/>");
            sb.Append(" " + ChkHtml15 + "Prophilo<br/>");
            sb.Append(" " + ChkHtml16 + "IV Drip Therapy<br/>");
            sb.Append(" " + ChkHtml17 + "Buttocks Filler<br/>");
            sb.Append(" " + ChkHtml18 + "Threads<br/>");
            sb.Append(" " + ChkHtml19 + "Fiber Subsession <br/>");
            sb.Append(" " + ChkHtml20 + "Cell Proliferation (Regenera Treatment)<br/>");
            sb.Append(" " + ChkHtml21 + "Other <u>" + pdf.dgc_2 + "<u/>");
            sb.Append("</td>");
            sb.Append("<td style='width:4%;'></td>");
            sb.Append("</tr>");
            sb.Append("</table>");

            sb.Append("<div style='width:100%; text-align:justify; font-size: 12px; margin-top: 50px;margin-bottom: 50px;'>");
            sb.Append("<table style='width:100%; text-align:justify;'>");
            sb.Append("<tr>");
            sb.Append("<td style='width:49%;'>");
            sb.Append("<ol>");
            sb.Append("<li>I hereby consent to allow myself to undertake the above-preferred treatment for the purpose of aesthetic enhancement</li>");
            sb.Append("<li>I have decided to have this treatment of my own accord with the sole intention and the potential benefits and possible risks associated with the procedure</li>");
            sb.Append("<li>I will provide accurate information of my medical history, including all known allergies or prescription drugs, or products I am currently ingesting or using topically</li>");
            sb.Append("<li>As with most of the medical procedures, I understand that any of the above procedures may have some allergic reactions or known and unknown side effects </li>");
            sb.Append("<li>I agree to follow all doctor’s advice, instruction, recommendations, and other alternative treatment options after the procedures</li>");
            sb.Append("<li>I understand that if I should have any questions or concerns regarding my treatment results. I will notify the clinic immediately so that timely follow-up and intervention can be provided</li>");
            sb.Append("<li>Top Life Physiotherapy and Hijjama Center is not responsible for any complications that may occur due to non-compliance with the doctor’s advice, instruction, and recommendations</li>");
            sb.Append("</ol>");
            sb.Append("</td>");
            sb.Append("<td style='width:2%;'></td>");
            sb.Append("<td style='width:49%;' dir='rtl'>");
            sb.Append("<ol>");
            sb.Append("<li>. أوافق بموجب هذا على السماح لنفسي بالقيام بالعلاج المفضل أعلاه بغرض التعزيز الجمالي</li>");
            sb.Append("<li>لقد قررت أن أحصل على هذا العلاج من تلقاء نفسي بقصد وحيد والفوائد المحتملة والمخاطر المحتملة المرتبطة بالإجراء</li>");
            sb.Append("<li> سأقدم معلومات دقيقة عن سجلي الطبي ، بما في ذلك جميع أنواع الحساسية المعروفة أو الأدوية أو المنتجات التي أتناولها حاليًا أو أستخدمها موضعيًا</li>");
            sb.Append("<li>. مثل معظم الإجراءات الطبية ، أفهم أن أيًا من الإجراءات المذكورة أعلاه قد يكون لها بعض الحساسية أو آثار جانبية معروفة وغير معروفة</li>");
            sb.Append("<li>أوافق على اتباع جميع نصائح الطبيب وتعليماته وتوصياته وخيارات العلاج البديل الأخرى بعد الإجراءات</li>");
            sb.Append("<li>أفهم أنه إذا كان لدي أي أسئلة أو مخاوف بشأن نتائج علاجي. سأقوم بإخطار العيادة على الفور حتى يمكن توفير المتابعة والتدخل في الوقت المناسب</li>");
            sb.Append("<li>مركز توب لايف للعلاج الطبيعي ومركز الحجامة غير مسؤول عن أي مضاعفات قد تحدث بسبب عدم الامتثال لتعليمات وتوصيات الطبيب</li>");
            sb.Append("</ol>");
            sb.Append("</td>");
            sb.Append("</tr>");

            sb.Append("<tr>");
            sb.Append("<td style='width:49%;'>");
            sb.Append("<ol start='8'>");
            sb.Append("<li>I understand that this consent will be automatically withdrawn in case I refuse to do the treatment after the consultation due to some existing medical issues or personal reason</li>");
            sb.Append("</ol>");
            sb.Append("<p><b>\"I agree that healthcare provider(s) involved in my care at this facility will access my health information through the Health Information Exchange System(NABIDH) in accordance with the Laws of the United Arab Emirates, Emirate of Dubai Legislation and Dubai Health Authority Policies \"</b></p>");
            sb.Append("</td>");
            sb.Append("<td style='width:2%;'></td>");
            sb.Append("<td style='width:49%;' dir='rtl'>");
            sb.Append("<ol start='8'>");
            sb.Append("<li>أفهم أنه سيتم سحب هذه الموافقة تلقائيًا في حالة رفضي إجراء العلاج بعد الاستشارة بسبب بعض المشكلات الطبية الحالية أو لأسباب شخصية</li>");
            sb.Append("</ol>");
            sb.Append("<p dir='rtl'><b>اوافق بان يقوم مزاولي المهن الصحية المشرفين علي تقديم خدمات الرعاية الصحية لي في هذه المنشاة. بالاطلاع علي معلوماتي الصحية في نظام تبادل  المعلومات الصحية(نابض) وفقا للتشريعات السارية في دولة الامارات العربية المتحدة بشكل عام و امارة دبي بشكل خاص بمافيها القرارات الصادرة عن هيئة الصحة في دبي</b></p>");
            sb.Append("</td>");
            sb.Append("</tr>");

            sb.Append("</table>");
            sb.Append("</div>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;'  colspan='3'>");
            sb.Append("            <p>Sign here, only if all of your questions have been answered to your satisfaction<br/>قم بالتوقيع هنا، فقط إذا تمت الإجابة على جميع أسئلتك بما يرضيك</p>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("            Patient<br/>مريض");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 34%;'>");
            sb.Append("            witness");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("            Doctor<br/>طبيب");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000'>");
            sb.Append("            <img src='" + psign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000'>");
            sb.Append("            <img src='" + wsign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;'>");
            sb.Append("            <img src='" + emr.doc_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000;border-top:1px solid #000000;'>");
            sb.Append("            Patient Name<br/>اسم المريض");
            sb.Append("             <br/>" + emr.pat_name + "<br/>");
            sb.Append("<br/>Date<br/>تاريخ<br/>");
            sb.Append(emr.app_fdate_time);
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000;border-top:1px solid #000000;'>");
            sb.Append("            Witness Name<br/>اسم الشاهد");
            sb.Append("             <br/>" + pdf.dgc_3 + "<br/>");
            sb.Append("<br/>Date<br/>تاريخ<br/>");
            sb.Append(emr.app_fdate_time);
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-top:1px solid #000000;'>");
            sb.Append("            Doctor's Name<br/>اسم الطبيب");
            sb.Append("             <br/>" + emr.doc_name + "<br/>");
            sb.Append("<br/>Date<br/>تاريخ<br/>");
            sb.Append(emr.app_fdate_time);
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("</table>");

            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + footer + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");
            sb.Append("    </body>");
            sb.Append("</html>");

            String htmlString = sb.ToString();

            return htmlString;
        }

        //Laser Assessment consent Form  
        public static string HtmlLaserAssessment(int appId, EMRInfo emr, int setId)
        {
            BusinessEntities.ConsentForms.LaserAssessment pdf = BusinessLogicLayer.ConsentForms.LaserAssessment.GetLaserAssessmentData(appId).FirstOrDefault();
            BusinessEntities.Common.eSignature psign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "patient", "LaserAssessment").FirstOrDefault();
            BusinessEntities.Common.eSignature wsign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "witness", "LaserAssessment").FirstOrDefault();
            BusinessEntities.Common.PDFHeaderFooter hf = BusinessLogicLayer.Common.PDF.GetHeaderFooterByBranch(setId);

            string header = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "header_images", hf.header.ToString());
            string footer = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "footer_images", hf.footer.ToString());

            StringBuilder sb = new StringBuilder();

            string ChkHtml1 = "<input type='checkbox'  class='custom-control-input' name='lac_11' value='1' id='lac_chk_111'>";
            string ChkHtml2 = "<input type='checkbox'  class='custom-control-input' name='lac_11' value='2' id='lac_chk_112'>";
            string ChkHtml3 = "<input type='checkbox'  class='custom-control-input' name='lac_11' value='3' id='lac_chk_113'>";
            string ChkHtml4 = "<input type='checkbox'  class='custom-control-input' name='lac_11' value='4' id='lac_chk_114'>";
            string ChkHtml5 = "<input type='checkbox'  class='custom-control-input' name='lac_11' value='5' id='lac_chk_115'>";
            string ChkHtml6 = "<input type='checkbox'  class='custom-control-input' name='lac_11' value='6' id='lac_chk_116'>";
            string ChkHtml7 = "<input type='checkbox'  class='custom-control-input' name='lac_11' value='7' id='lac_chk_117'>";
            string ChkHtml8 = "<input type='checkbox'  class='custom-control-input' name='lac_11' value='8' id='lac_chk_118'>";
            string ChkHtml9 = "<input type='checkbox'  class='custom-control-input' name='lac_11' value='9' id='lac_chk_119'>";
            string ChkHtml10 = "<input type='checkbox'  class='custom-control-input' name='lac_11' value='10' id='lac_chk_1110'>";
            string ChkHtml11 = "<input type='checkbox'  class='custom-control-input' name='lac_11' value='11' id='lac_chk_1111'>";
            string ChkHtml12 = "<input type='checkbox'  class='custom-control-input' name='lac_11' value='12' id='lac_chk_1112'>";
            string ChkHtml13 = "<input type='checkbox'  class='custom-control-input' name='lac_11' value='13' id='lac_chk_1113'>";
            string ChkHtml14 = "<input type='checkbox'  class='custom-control-input' name='lac_11' value='14' id='lac_chk_1114'>";
            string ChkHtml15 = "<input type='checkbox'  class='custom-control-input' name='lac_11' value='15' id='lac_chk_1115'>";
            string ChkHtml16 = "<input type='checkbox'  class='custom-control-input' name='lac_11' value='16' id='lac_chk_1116'>";
            string ChkHtml17 = "<input type='checkbox'  class='custom-control-input' name='lac_11' value='17' id='lac_chk_1117'>";
            string ChkHtml18 = "<input type='checkbox'  class='custom-control-input' name='lac_11' value='18' id='lac_chk_1118'>";
            string ChkHtml19 = "<input type='checkbox'  class='custom-control-input' name='lac_11' value='19' id='lac_chk_1119'>";
            string ChkHtml20 = "<input type='checkbox'  class='custom-control-input' name='lac_11' value='20' id='lac_chk_1120'>";
            string ChkHtml21 = "<input type='checkbox'  class='custom-control-input' name='lac_11' value='21' id='lac_chk_1121'>";
            string ChkHtml22 = "<input type='checkbox'  class='custom-control-input' name='lac_11' value='22' id='lac_chk_1122'>";
            string ChkHtml23 = "<input type='checkbox'  class='custom-control-input' name='lac_11' value='23' id='lac_chk_1123'>";
            string ChkHtml24 = "<input type='checkbox'  class='custom-control-input' name='lac_11' value='24' id='lac_chk_1124'>";
            string ChkHtml25 = "<input type='checkbox'  class='custom-control-input' name='lac_11' value='25' id='lac_chk_1125'>";

            if (pdf.lac_11.Contains("1"))
            {
                ChkHtml1 = ChkHtml1.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.lac_11.Contains("2"))
            {
                ChkHtml2 = ChkHtml2.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.lac_11.Contains("3"))
            {
                ChkHtml3 = ChkHtml3.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.lac_11.Contains("4"))
            {
                ChkHtml4 = ChkHtml4.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.lac_11.Contains("5"))
            {
                ChkHtml5 = ChkHtml5.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.lac_11.Contains("6"))
            {
                ChkHtml6 = ChkHtml6.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.lac_11.Contains("7"))
            {
                ChkHtml7 = ChkHtml7.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.lac_11.Contains("8"))
            {
                ChkHtml8 = ChkHtml8.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.lac_11.Contains("9"))
            {
                ChkHtml9 = ChkHtml9.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.lac_11.Contains("10"))
            {
                ChkHtml10 = ChkHtml10.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.lac_11.Contains("11"))
            {
                ChkHtml11 = ChkHtml11.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.lac_11.Contains("12"))
            {
                ChkHtml12 = ChkHtml12.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.lac_11.Contains("13"))
            {
                ChkHtml13 = ChkHtml13.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.lac_11.Contains("14"))
            {
                ChkHtml14 = ChkHtml14.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.lac_11.Contains("15"))
            {
                ChkHtml15 = ChkHtml15.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.lac_11.Contains("16"))
            {
                ChkHtml16 = ChkHtml16.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.lac_11.Contains("17"))
            {
                ChkHtml17 = ChkHtml17.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.lac_11.Contains("18"))
            {
                ChkHtml18 = ChkHtml18.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.lac_11.Contains("19"))
            {
                ChkHtml19 = ChkHtml19.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.lac_11.Contains("20"))
            {
                ChkHtml20 = ChkHtml20.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.lac_11.Contains("21"))
            {
                ChkHtml21 = ChkHtml21.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.lac_11.Contains("22"))
            {
                ChkHtml22 = ChkHtml22.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.lac_11.Contains("23"))
            {
                ChkHtml23 = ChkHtml23.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.lac_11.Contains("24"))
            {
                ChkHtml24 = ChkHtml24.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.lac_11.Contains("25"))
            {
                ChkHtml25 = ChkHtml25.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }

            string pdflac1 = pdf.lac_1;
            string pdflac2 = pdf.lac_2;
            string pdflac3 = pdf.lac_3;
            string pdflac4 = pdf.lac_4;
            string pdflac5 = pdf.lac_5;
            string pdflac6 = pdf.lac_6;
            string pdflac7 = pdf.lac_7;
            string pdflac8 = pdf.lac_8;
            string pdflac9 = pdf.lac_9;
            string pdflac10 = pdf.lac_10;
            string radioHtml11 = "<input type='radio' class='custom-control-input' name='lac_1' value='No' id='lac_rb_11'>";
            string radioHtml12 = "<input type='radio' class='custom-control-input' name='lac_1' value='Yes' id='lac_rb_12'>";
            string radioHtml21 = "<input type='radio' class='custom-control-input' name='lac_2' value='No' id='lac_rb_21'>";
            string radioHtml22 = "<input type='radio' class='custom-control-input' name='lac_2' value='Yes' id='lac_rb_22'>";
            string radioHtml31 = "<input type='radio' class='custom-control-input' name='lac_3' value='No' id='lac_rb_31'>";
            string radioHtml32 = "<input type='radio' class='custom-control-input' name='lac_3' value='Yes' id='lac_rb_32'>";
            string radioHtml41 = "<input type='radio' class='custom-control-input' name='lac_4' value='No' id='lac_rb_41'>";
            string radioHtml42 = "<input type='radio' class='custom-control-input' name='lac_4' value='Yes' id='lac_rb_42'>";
            string radioHtml51 = "<input type='radio' class='custom-control-input' name='lac_5' value='No' id='lac_rb_51'>";
            string radioHtml52 = "<input type='radio' class='custom-control-input' name='lac_5' value='Yes' id='lac_rb_52'>";
            string radioHtml61 = "<input type='radio' class='custom-control-input' name='lac_6' value='No' id='lac_rb_61'>";
            string radioHtml62 = "<input type='radio' class='custom-control-input' name='lac_6' value='Yes' id='lac_rb_62'>";
            string radioHtml71 = "<input type='radio' class='custom-control-input' name='lac_7' value='No' id='lac_rb_71'>";
            string radioHtml72 = "<input type='radio' class='custom-control-input' name='lac_7' value='Yes' id='lac_rb_72'>";
            string radioHtml81 = "<input type='radio' class='custom-control-input' name='lac_8' value='No' id='lac_rb_81'>";
            string radioHtml82 = "<input type='radio' class='custom-control-input' name='lac_8' value='Yes' id='lac_rb_82'>";
            string radioHtml91 = "<input type='radio' class='custom-control-input' name='lac_9' value='No' id='lac_rb_91'>";
            string radioHtml92 = "<input type='radio' class='custom-control-input' name='lac_9' value='Yes' id='lac_rb_92'>";
            string radioHtml101 = "<input type='radio' class='custom-control-input' name='lac_10' value='No' id='lac_rb_101'>";
            string radioHtml102 = "<input type='radio' class='custom-control-input' name='lac_10' value='Yes' id='lac_rb_102'>";



            if (pdflac1 == "No")
            {
                radioHtml11 = radioHtml11.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdflac1 == "Yes")
            {
                radioHtml12 = radioHtml12.Replace("<input type='radio'", "<input type='radio' checked");
            }
            if (pdflac2 == "No")
            {
                radioHtml21 = radioHtml21.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdflac2 == "Yes")
            {
                radioHtml22 = radioHtml22.Replace("<input type='radio'", "<input type='radio' checked");
            }
            if (pdflac3 == "No")
            {
                radioHtml31 = radioHtml31.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdflac3 == "Yes")
            {
                radioHtml32 = radioHtml32.Replace("<input type='radio'", "<input type='radio' checked");
            }
            if (pdflac4 == "No")
            {
                radioHtml41 = radioHtml41.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdflac4 == "Yes")
            {
                radioHtml42 = radioHtml42.Replace("<input type='radio'", "<input type='radio' checked");
            }
            if (pdflac5 == "No")
            {
                radioHtml51 = radioHtml51.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdflac5 == "Yes")
            {
                radioHtml52 = radioHtml52.Replace("<input type='radio'", "<input type='radio' checked");
            }
            if (pdflac6 == "No")
            {
                radioHtml61 = radioHtml61.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdflac6 == "Yes")
            {
                radioHtml62 = radioHtml62.Replace("<input type='radio'", "<input type='radio' checked");
            }
            if (pdflac7 == "No")
            {
                radioHtml71 = radioHtml71.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdflac7 == "Yes")
            {
                radioHtml72 = radioHtml72.Replace("<input type='radio'", "<input type='radio' checked");
            }
            if (pdflac8 == "No")
            {
                radioHtml81 = radioHtml81.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdflac8 == "Yes")
            {
                radioHtml82 = radioHtml82.Replace("<input type='radio'", "<input type='radio' checked");
            }
            if (pdflac9 == "No")
            {
                radioHtml91 = radioHtml91.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdflac9 == "Yes")
            {
                radioHtml92 = radioHtml92.Replace("<input type='radio'", "<input type='radio' checked");
            }
            if (pdflac10 == "No")
            {
                radioHtml101 = radioHtml101.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdflac10 == "Yes")
            {
                radioHtml102 = radioHtml102.Replace("<input type='radio'", "<input type='radio' checked");
            }


            sb.Append("<html>");
            sb.Append("    <head>");
            sb.Append("    <title> <u>Laser Assessment consent Form</u></title>");
            sb.Append("    <meta charset='utf-8'>");
            sb.Append("    </head>");
            sb.Append("    <body style='font-family: Verdana, Geneva, Tahoma, sans-serif;'>");

            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + header + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'  colspan='9'>");
            sb.Append("            <h1>Laser Assessment Consent Form<br /><span dir='rtl'>نموذج الموافقة على تقييم الليزر</span></h1>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Patient Name<br/>اسم المريض</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000' colspan='4'>" + emr.pat_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Emirates ID<br/>هويه الإمارات</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_emirateid + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>File No<br/>رقم الملف</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_code + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>DOB<br/>تاريخ الميلاد</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_dob + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Nationality<br/>جنسية</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_nationality + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Gender<br/>جنس</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_gender + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Doctor's Name<br/>اسم الطبيب</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.doc_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Date<br/>تاريخ</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.app_fdate + "</td>");
            sb.Append("    </tr>");
            sb.Append("</table>");

            sb.Append("<div style='width:100%; text-align:justify; font-size: 14px; margin-top: 10px;margin-bottom: 10px;'>");

            sb.Append("<table style='width:100%; font-size: 14px; border:1px; margin-bottom: 10px;margin-top: 10px;'>");
            sb.Append("<tr style='margin-bottom: 10px;'>");
            sb.Append("<td style='width:100%;margin-bottom: 10px;'>");
            sb.Append("Patient Name  <span dir='rtl'>:اسم المريض</span><u>" + emr.pat_name + "</u>");
            sb.Append("</td>");
            sb.Append("</tr>");
            sb.Append("<tr><td></td></tr>");
            sb.Append("<tr style='margin-bottom: 10px;'>");
            sb.Append("<td style='width:100%;margin-bottom: 10px;'>");
            sb.Append("Mobile No  <span dir='rtl'>:رقم الموبايل</span><u>" + emr.pat_mob + "</u>");
            sb.Append("</td>");
            sb.Append("</tr>");
            sb.Append("<tr><td></td></tr>");
            sb.Append("<tr style='margin-bottom: 10px;'>");
            sb.Append("<td style='width:100%;margin-bottom: 10px;'>");
            sb.Append("Emergency Contact  <span dir='rtl'>:اسم و رقم جهة تواصل للطوارئ</span><u>" + pdf.lac_12 + "</u>");
            sb.Append("</td>");
            sb.Append("</tr>");
            sb.Append("<tr><td></td></tr>");
            sb.Append("<tr style='margin-bottom: 10px;'>");
            sb.Append("<td style='width:100%;margin-bottom: 10px;'>");
            sb.Append("Area(s) to be treated  <span dir='rtl'>:المنطقة التي سوف يتم معالجتها </span><u>" + pdf.lac_13 + "</u>");
            sb.Append("</td>");
            sb.Append("</tr>");
            sb.Append("</table>");

            sb.Append("<table style='width:100%; font-size: 14px;border:1px; margin-bottom: 10px; margin-top: 10px;'>");

            sb.Append("<tr style='margin-bottom: 10px;'>");
            sb.Append("<td style='width:100%;'colspan='3'>");
            sb.Append("Are you currently under the care of another physician?</br> <span dir='rtl'>?هل انت تحت اشراف طبيب اخر حاليا  </span>");
            sb.Append("</td>");
            sb.Append("</tr>");
            sb.Append("<tr  style='width:100%;margin-bottom: 10px;'>");
            sb.Append("<td style='width:10%;'>" + radioHtml11 + "NO  لا</td>");
            sb.Append("<td style='width:10%;'>" + radioHtml12 + "YES نعم</td>");
            sb.Append("<td style='width:80%;'>Please Specify<span dir='rtl'>:من فضلك حدد</span><u>" + pdf.lac_14 + "</u></td>");
            sb.Append("</tr>");
            sb.Append("<tr><td></td></tr>");

            sb.Append("<tr  style='width:100%;margin-bottom: 10px;'>");
            sb.Append("<td style='width:100%;'colspan='3'>");
            sb.Append("For female patients, are you pregnant, trying to conceive, or breastfeeding ?</br> <span dir='rtl'> ?بالنسبة للمرضى النساء,هل أنت حامل ,محاولة حمل او  </span>");
            sb.Append("</td>");
            sb.Append("</tr>");
            sb.Append("<tr style='margin-bottom: 10px;'>");
            sb.Append("<td style='width:10%;'>" + radioHtml21 + "NO  لا</td>");
            sb.Append("<td style='width:10%;'>" + radioHtml22 + "YES نعم</td>");
            sb.Append("<td style='width:80%;'>Please Specify<span dir='rtl'>:من فضلك حدد</span><u>" + pdf.lac_15 + "</u></td>");
            sb.Append("</tr>");
            sb.Append("<tr><td></td></tr>");

            sb.Append("<tr  style='width:100%;margin-bottom: 10px;'>");
            sb.Append("<td style='width:100%;'colspan='3'>");
            sb.Append("Do you have any allergy ? </br> <span dir='rtl'> ?هل انت تعاني من الحساسية</span>");
            sb.Append("</td>");
            sb.Append("</tr>");
            sb.Append("<tr style='margin-bottom: 10px;'>");
            sb.Append("<td style='width:10%;'>" + radioHtml31 + "NO  لا</td>");
            sb.Append("<td style='width:10%;'>" + radioHtml32 + "YES نعم</td>");
            sb.Append("<td style='width:80%;'>Please Specify<span dir='rtl'>:من فضلك حدد</span><u>" + pdf.lac_16 + "</u></td>");
            sb.Append("</tr>");
            sb.Append("<tr><td></td></tr>");

            sb.Append("<tr  style='width:100%;margin-bottom: 10px;'>");
            sb.Append("<td style='width:100%;'colspan='3'>");
            sb.Append("Do you have any medical condition or past illness ?</br> <span dir='rtl'>?هل لديك أي حالة طبية أو مرض سابق</span>");
            sb.Append("</td>");
            sb.Append("</tr>");
            sb.Append("<tr style='margin-bottom: 10px;'>");
            sb.Append("<td style='width:10%;'>" + radioHtml41 + "NO  لا</td>");
            sb.Append("<td style='width:10%;'>" + radioHtml42 + "YES نعم</td>");
            sb.Append("<td style='width:80%;'>Please Specify<span dir='rtl'>:من فضلك حدد</span><u>" + pdf.lac_17 + "</u></td>");
            sb.Append("</tr>");
            sb.Append("<tr><td></td></tr>");

            sb.Append("<tr  style='width:100%;margin-bottom: 10px;'>");
            sb.Append("<td style='width:100%;'colspan='3'>");
            sb.Append("Do you have photosensitive disorder such as epilepsy , lupus , sun rash, vitiligo , porphyria , Scleroderma ?</br> <span dir='rtl'>? هل لديك اضطراب حساسية للضوء مثل الصرع والذئبة والطفح الجلدي والبهاق والبرفيريا وتصلب الجلد</span>");
            sb.Append("</td>");
            sb.Append("</tr>");
            sb.Append("<tr style='margin-bottom: 10px;'>");
            sb.Append("<td style='width:10%;'>" + radioHtml51 + "NO  لا</td>");
            sb.Append("<td style='width:10%;'>" + radioHtml52 + "YES نعم</td>");
            sb.Append("<td style='width:80%;'>Please Specify<span dir='rtl'>:من فضلك حدد</span><u>" + pdf.lac_18 + "</u></td>");
            sb.Append("</tr>");
            sb.Append("<tr><td></td></tr>");

            sb.Append("<tr  style='width:100%;margin-bottom: 10px;'>");
            sb.Append("<td style='width:100%;'colspan='3'>");
            sb.Append("Are you currently taking any medications ?  </br><span dir='rtl'> ? هل تأخذ حاليا أي علاج</span>");
            sb.Append("</td>");
            sb.Append("</tr>");
            sb.Append("<tr style='margin-bottom: 10px;'>");
            sb.Append("<td style='width:10%;'>" + radioHtml61 + "NO  لا</td>");
            sb.Append("<td style='width:10%;'>" + radioHtml62 + "YES نعم</td>");
            sb.Append("<td style='width:80%;'>Please Specify<span dir='rtl'>:من فضلك حدد</span><u>" + pdf.lac_19 + "</u></td>");
            sb.Append("</tr>");
            sb.Append("</table>");

            sb.Append("<table style='width:100%; font-size: 14px;border:1px; margin-bottom: 10px; margin-top: 10px;'>");

            sb.Append("<tr style='margin-bottom: 10px;'>");
            sb.Append("<td style='width:100%;'colspan='3'>");
            sb.Append("Please check medication / supplements taken for the past 6 months. </br><span dir='rtl'>يرجى التحقق من الأدوية / المكملات الغذائية التي تم تناولها خلال الأشهر الستة الماضية.</span>");
            sb.Append("</td>");
            sb.Append("</tr>");
            sb.Append("<tr><td></td></tr>");

            sb.Append("<tr  style='width:100%;margin-bottom: 10px;'>");
            sb.Append("<td style='width:30%;'>" + ChkHtml1 + "Accutane <span dir='rtl'> دواء الاكوتان</span></td>");
            sb.Append("<td style='width:30%;'>" + ChkHtml2 + "Contraceptives <span dir='rtl'> موانع الحمل</span></td>");
            sb.Append("<td style='width:40%;'>Please Specify<span dir='rtl'>:من فضلك حدد</span><u>" + pdf.lac_20 + "</u></td>");
            sb.Append("</tr>");

            sb.Append("<tr  style='width:100%;margin-bottom: 10px;'>");
            sb.Append("<td style='width:30%;'>" + ChkHtml3 + "Antihistamine <span dir='rtl'> مضادات الهيستامين</span></td>");
            sb.Append("<td style='width:30%;'>" + ChkHtml4 + "Antibiotic   <span dir='rtl'> مضاد حيوي </span></td>");
            sb.Append("<td style='width:40%;'>Please Specify<span dir='rtl'>:من فضلك حدد</span><u>" + pdf.lac_21 + "</u></td>");
            sb.Append("</tr>");
            sb.Append("<tr  style='width:100%;margin-bottom: 10px;'>");
            sb.Append("<td style='width:30%;'>" + ChkHtml5 + "Gold Therapy  <span dir='rtl'> العلاج بالذهب </span></td>");
            sb.Append("<td style='width:30%;'colspan='2'>" + ChkHtml6 + "Ibuprofen    <span dir='rtl'> ايبوبروفين  </span></td>");
            //sb.Append("<td style='width:40%;'>Please Specify<span dir='rtl'>:من فضلك حدد</span><u>" + pdf.lac_21 + "</u></td>");
            sb.Append("</tr>");
            sb.Append("<tr  style='width:100%;margin-bottom: 10px;'>");
            sb.Append("<td style='width:30%;'>" + ChkHtml7 + "Aspirin   <span dir='rtl'> اسبيرين  </span></td>");
            sb.Append("<td style='width:30%;'>" + ChkHtml8 + "Antihypertensive     <span dir='rtl'> ارتفاع ضغط الدم  </span></td>");
            sb.Append("<td style='width:40%;'>Please Specify<span dir='rtl'>:من فضلك حدد</span><u>" + pdf.lac_22 + "</u></td>");
            sb.Append("</tr>");
            sb.Append("</tr>");
            sb.Append("<tr  style='width:100%;margin-bottom: 10px;'>");
            sb.Append("<td style='width:30%;'>" + ChkHtml9 + "Fish Oils    <span dir='rtl'> زيت السمك    </span></td>");
            sb.Append("<td style='width:30%;'>" + ChkHtml10 + "Others     <span dir='rtl'>   </span></td>");
            sb.Append("<td style='width:40%;'>Please Specify<span dir='rtl'>:من فضلك حدد</span><u>" + pdf.lac_23 + "</u></td>");
            sb.Append("</tr>");
            sb.Append("<tr  style='width:100%;margin-bottom: 10px;'>");
            sb.Append("<td style='width:30%;'colspan='3'>" + ChkHtml11 + "St. John’s Wort    <span dir='rtl'> نبتة سانت جون    </span></td>");
            //sb.Append("<td style='width:30%;'>" + ChkHtml10 + "Others     <span dir='rtl'>   </span></td>");
            //sb.Append("<td style='width:40%;'>Please Specify<span dir='rtl'>:من فضلك حدد</span><u>" + pdf.lac_23 + "</u></td>");
            sb.Append("</tr>");

            sb.Append("</table>");

            sb.Append("<table style='width:100%; font-size: 14px;border:1px; margin-bottom: 70px; margin-top: 10px;'>");

            sb.Append("<tr style='margin-bottom: 10px;'>");
            sb.Append("<td style='width:100%;'colspan='3'>");
            sb.Append("Do you have any tattoos or permanent makeup ?</br> <span dir='rtl'>? هل لديك اي وشوم او مكياج دائم  </span>");
            sb.Append("</td>");
            sb.Append("</tr>");
            sb.Append("<tr  style='width:100%;margin-bottom: 10px;'>");
            sb.Append("<td style='width:10%;'>" + radioHtml71 + "NO  لا</td>");
            sb.Append("<td style='width:10%;'>" + radioHtml72 + "YES نعم</td>");
            sb.Append("<td style='width:80%;'colspan='2'>Please Specify<span dir='rtl'>:من فضلك حدد</span><u>" + pdf.lac_24 + "</u></td>");
            sb.Append("</tr>");
            sb.Append("<tr><td></td></tr>");

            sb.Append("<tr style='margin-bottom: 10px;'>");
            sb.Append("<td style='width:100%;'colspan='3'>");
            sb.Append("Do you have history of keloid or hypertrophic scar ? </br> <span dir='rtl'>? هل لديك تاريخ من الجدرة أو الندب الضخمة   </span>");
            sb.Append("</td>");
            sb.Append("</tr>");
            sb.Append("<tr  style='width:100%;margin-bottom: 10px;'>");
            sb.Append("<td style='width:10%;'>" + radioHtml81 + "NO  لا</td>");
            sb.Append("<td style='width:10%;'>" + radioHtml82 + "YES نعم</td>");
            sb.Append("<td style='width:80%;'colspan='2'>Please Specify<span dir='rtl'>:من فضلك حدد</span><u>" + pdf.lac_25 + "</u></td>");
            sb.Append("</tr>");
            sb.Append("<tr><td></td></tr>");

            sb.Append("<tr style='margin-bottom: 10px;'>");
            sb.Append("<td style='width:100%;'colspan='4'>");
            sb.Append("Have you had any cosmetic procedure such as Botox , filler , threads , chemical peeling ?</br> <span dir='rtl'>?  هل لديك  اي اجراء تجميلي متل الفيلر والبوتوكس و الخيوط الشد التجميلية و التقشير الكيميائي     </span>");
            sb.Append("</td>");
            sb.Append("</tr>");
            sb.Append("<tr  style='width:100%;margin-bottom: 10px;'>");
            sb.Append("<td style='width:5%;'>" + radioHtml91 + "NO  لا</td>");
            sb.Append("<td style='width:10%;'>" + radioHtml92 + "YES نعم</td>");
            sb.Append("<td style='width:50%;'>Please Specify type and date of treatment </br><span dir='rtl'>:ضلك حدد النوع والتاريخ التي قمت فيه باجراء تجميلي </span><u>" + pdf.lac_26 + "</u></td>");
            sb.Append("<td style='width:35%;'>Date : <u>" + pdf.lac_32 + "</u></td>");
            sb.Append("</tr>");
            sb.Append("<tr><td></td></tr>");
            sb.Append("</table>");

            sb.Append("<table style='width:100%; font-size: 14px;border:1px; margin-bottom: 10px; margin-top: 10px;'>");

            sb.Append("<tr style='margin-bottom: 10px;'>");
            sb.Append("<td style='width:100%;'colspan='3'>");
            sb.Append("Please check any tanning history and specify date of last use </br><span dir='rtl'> من فضلك اختر تاريخ التعرض للشمس و حدد تاريخ اخر مرة </span>");
            sb.Append("</td>");
            sb.Append("</tr>");
            sb.Append("<tr><td></td></tr>");
            sb.Append("<tr  style='width:100%;margin-bottom: 10px;'>");
            sb.Append("<td style='width:45%;'>" + ChkHtml12 + "Long Sun Exposure <span dir='rtl'>  التعرض لاشعة الشمس لمدة طويلة  </span></td>");
            sb.Append("<td style='width:25%;'><u>" + pdf.lac_27 + "</u></td>");
            sb.Append("<td style='width:30%;'>Date :<u>" + pdf.lac_33 + "</u></td>");
            sb.Append("</tr>");
            sb.Append("<tr  style='width:100%;margin-bottom: 10px;'>");
            sb.Append("<td style='width:45%;'>" + ChkHtml13 + "Tanning Booth <span dir='rtl'>  جهاز التسمير   </span></td>");
            sb.Append("<td style='width:25%;'><u>" + pdf.lac_28 + "</u></td>");
            sb.Append("<td style='width:30%;'>Date :<u>" + pdf.lac_34 + "</u></td>");
            sb.Append("</tr>");
            sb.Append("<tr  style='width:100%;margin-bottom: 10px;'>");
            sb.Append("<td style='width:45%;'>" + ChkHtml14 + "Spray Tans <span dir='rtl'>  بخاخات التسمير   </span></td>");
            sb.Append("<td style='width:25%;'><u>" + pdf.lac_29 + "</u></td>");
            sb.Append("<td style='width:30%;'>Date :<u>" + pdf.lac_35 + "</u></td>");
            sb.Append("</tr>");

            sb.Append("</table>");

            sb.Append("<table style='width:100%; font-size: 14px;border:1px; margin-bottom: 10px; margin-top: 10px;'>");

            sb.Append("<tr style='margin-bottom: 10px;'>");
            sb.Append("<td style='width:100%;'colspan='2'>");
            sb.Append("Please select the one that best describe you if you were exposed to the sun for long hours without sunblock </br><span dir='rtl'> يرجى تحديد أفضل ما يصفك إذا كنت قد تعرضت لأشعة الشمس لساعات طويلة بدون واقي شمسي </span>");
            sb.Append("</td>");
            sb.Append("</tr>");
            sb.Append("<tr><td></td></tr>");
            sb.Append("<tr  style='width:100%;margin-bottom: 10px;'>");
            sb.Append("<td style='width:50%;'>" + ChkHtml15 + "Always burns,never tans <span dir='rtl'>  دائما حروق ولا تسمير ابدا    </span></td>");
            sb.Append("<td style='width:50%;'>" + ChkHtml16 + "Rarely burns,tans with ease <span dir='rtl'>   نادرا ما احترق و تسمير بسهولة    </span></td>");
            sb.Append("</tr>");
            sb.Append("<tr  style='width:100%;margin-bottom: 10px;'>");
            sb.Append("<td style='width:50%;'>" + ChkHtml17 + "Usually burns,never tans <span dir='rtl'>  عادة ما تحترق ، ولا تسمير أبدًا</span></td>");
            sb.Append("<td style='width:50%;'>" + ChkHtml18 + "Very rarely burns, tans very easily <span dir='rtl'>   نادرا جدا ما احترق و تسمير بسهولة   </span></td>");
            sb.Append("</tr>");
            sb.Append("<tr  style='width:100%;margin-bottom: 10px;'>");
            sb.Append("<td style='width:50%;'>" + ChkHtml19 + "Burns mildly,tans slowly <span dir='rtl'>  حروق خفيفة ، تسمر ببطء</span></td>");
            sb.Append("<td style='width:50%;'>" + ChkHtml20 + "Never Burns,always Tans <span dir='rtl'>   لاحروق و دائما تسمير   </span></td>");
            sb.Append("</tr>");

            sb.Append("</table>");

            sb.Append("<table style='width:100%; font-size: 14px;border:1px; margin-bottom: 10px; margin-top: 10px;'>");
            sb.Append("<tr style='margin-bottom: 10px;'>");
            sb.Append("<td style='width:100%;'colspan='3'>");
            sb.Append("Check any previous hair removal history if applicable </br><span dir='rtl'> تحقق من أي تاريخ سابق لإزالة الشعر إن أمكن </span>");
            sb.Append("</td>");
            sb.Append("</tr>");
            sb.Append("<tr><td></td></tr>");
            sb.Append("<tr  style='width:100%;margin-bottom: 10px;'>");
            sb.Append("<td style='width:25%;'>" + ChkHtml21 + "Waxing <span dir='rtl'>  واكس  </span></td>");
            sb.Append("<td style='width:25%;'>" + ChkHtml22 + "Plucking <span dir='rtl'>  نتف  </span></td>");
            sb.Append("<td style='width:50%;'>" + ChkHtml23 + "Electrolysis <span dir='rtl'>  جهاز كهربائي لازالة الشعر  </span></td>");
            sb.Append("</tr>");
            sb.Append("<tr  style='width:100%;margin-bottom: 10px;'>");
            sb.Append("<td style='width:25%;'>" + ChkHtml24 + "Shaving  <span dir='rtl'> حلاقة  </span></td>");
            sb.Append("<td style='width:25%;'>" + ChkHtml25 + "Others </td>");
            sb.Append("<td style='width:50%;'>Please Specify<span dir='rtl'>:من فضلك حدد</span><u>" + pdf.lac_30 + "</u></td>");
            sb.Append("</tr>");
            sb.Append("</table>");

            sb.Append("<table style='width:100%; font-size: 14px;border:1px; margin-bottom: 10px; margin-top: 10px;'>");
            sb.Append("<tr style='margin-bottom: 10px;'>");
            sb.Append("<td style='width:100%;'colspan='3'>");
            sb.Append("Have your done any laser hair removal before ? </br> <span dir='rtl'>? هل قمت بعمل ليزر لازالة الشعر من قبل   </span>");
            sb.Append("</td>");
            sb.Append("</tr>");
            sb.Append("<tr  style='width:100%;margin-bottom: 10px;'>");
            sb.Append("<td style='width:10%;'>" + radioHtml101 + "NO  لا</td>");
            sb.Append("<td style='width:10%;'>" + radioHtml102 + "YES نعم</td>");
            sb.Append("<td style='width:80%;'colspan='2'>Please Specify the number of sessions done and date of last session </br><span dir='rtl'>: يرجى تحديد عدد الجلسات التي تم إجراؤها وتاريخ آخر جلسة</span><u>" + pdf.lac_31 + "</u></br>Date :<u>" + pdf.lac_36 + "</u></td>");

            //sb.Append("<td style='width:30%;'>Date :<u>" + pdf.lac_36 + "</u></td>");
            sb.Append("</tr>");
            sb.Append("<tr><td></td></tr>");
            sb.Append("</table>");
            sb.Append("<p><center>I attest the above information to be true , knowing my technician relies on this for safe and effective treatment</center></p>");
            sb.Append("<p><center dir='rtl'>أشهد أن المعلومات الواردة أعلاه صحيحة ، مع العلم أن فني يعتمد على هذا للحصول على علاج آمن وفعال</center></p>");

            sb.Append("</div>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;'  colspan='2'>");
            sb.Append("            <p>Sign here, only if all of your questions have been answered to your satisfaction<br/><span dir='rtl'>قم بالتوقيع هنا، فقط إذا تمت الإجابة على جميع أسئلتك بما يرضيك</span></p>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("            Patient<br/>مريض");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("            Doctor<br/>طبيب");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000'>");
            sb.Append("            <img src='" + psign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;'>");
            sb.Append("            <img src='" + emr.doc_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000;border-top:1px solid #000000;'>");
            sb.Append("            Patient Name<br/>اسم المريض");
            sb.Append("             <br/>" + emr.pat_name + "<br/>");
            sb.Append("<br/>Date<br/>تاريخ<br/>");
            sb.Append(emr.app_fdate_time);
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-top:1px solid #000000;'>");
            sb.Append("            Doctor's Name<br/>اسم الطبيب");
            sb.Append("             <br/>" + emr.doc_name + "<br/>");
            sb.Append("<br/>Date<br/>تاريخ<br/>");
            sb.Append(emr.app_fdate_time);
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("</table>");

            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + footer + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");
            sb.Append("    </body>");
            sb.Append("</html>");

            String htmlString = sb.ToString();

            return htmlString;
        }

        //Laser consent Form  
        public static string HtmlLaserConsent(int appId, EMRInfo emr, int setId)
        {
            BusinessEntities.ConsentForms.LaserConsent pdf = BusinessLogicLayer.ConsentForms.LaserConsent.GetLaserConsentData(appId).FirstOrDefault();
            BusinessEntities.Common.eSignature psign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "patient", "LaserConsent").FirstOrDefault();
            BusinessEntities.Common.eSignature wsign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "witness", "LaserConsent").FirstOrDefault();
            BusinessEntities.Common.PDFHeaderFooter hf = BusinessLogicLayer.Common.PDF.GetHeaderFooterByBranch(setId);

            string header = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "header_images", hf.header.ToString());
            string footer = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "footer_images", hf.footer.ToString());

            StringBuilder sb = new StringBuilder();

            sb.Append("<html>");
            sb.Append("    <head>");
            sb.Append("    <title> <u>Laser Consent Form</u></title>");
            sb.Append("    <meta charset='utf-8'>");
            sb.Append("    </head>");
            sb.Append("    <body style='font-family: Verdana, Geneva, Tahoma, sans-serif;'>");

            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + header + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'  colspan='9'>");
            sb.Append("            <h1>Laser Consent Form<br /><span dir='rtl'>نموذج موافقة الليزر</span></h1>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Patient Name<br/>اسم المريض</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000' colspan='4'>" + emr.pat_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Emirates ID<br/>هويه الإمارات</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_emirateid + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>File No<br/>رقم الملف</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_code + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>DOB<br/>تاريخ الميلاد</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_dob + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Nationality<br/>جنسية</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_nationality + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Gender<br/>جنس</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_gender + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Doctor's Name<br/>اسم الطبيب</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.doc_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Date<br/>تاريخ</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.app_fdate + "</td>");
            sb.Append("    </tr>");
            sb.Append("</table>");

            sb.Append("<div style='width:100%; text-align:justify; font-size: 12px; margin-top: 50px;margin-bottom: 50px;'>");
            sb.Append("<table style='width:100%; text-align:justify;'>");


            sb.Append("<tr>");
            sb.Append("<td style='width:49%;'>");
            sb.Append("<ol>");
            sb.Append("<li>Laser Hair Removal is more effective on black and thick hair. It does not work at all on white, fine and lighter hair.</li><br/>");
            sb.Append("<li>Laser Hair Removal  only affects a certain phase(active phase) The effectiveness of each session will show after 3 weeks session.\r\n</li><br/>");
            sb.Append("<li>In some cases especially with men (beard) there is no guarantee to have a straight neck line</li><br/>");
            sb.Append("<li>Time between each session is necessary (usually 4-8 weeks )</li><br/>");
            sb.Append("<li>The hairs will not necessarily decrease after each treatment.</li><br/>");
            sb.Append("<li>LHR may result in the following side effects like: burn , scars , hyperpigmentation, itching, swelling of the skin and increase of white hair.</li><br/>");
            sb.Append("<li>Side effects can be diminished with time but in some cases may stay longer or even permanent.\r\nMay stay  may stay longer or even permanent.\r\n</li><br/>");
            sb.Append("<li>In some cases laser may cause increase in hair growth and thickness.</li><br/>");
            sb.Append("<li>History of any Dermal Fillers / Botox or Tattoos must be informed</li><br/>");
            sb.Append("<li>Protective eyewear (shields) will be provided to you during the treatment.\r\nFailure to wear eye shields during the entire treatment may cause severe and permanent eye damage Laser treatments are not advised for pregnant women.\r\n</li><br/>");
            sb.Append("<li>Laser treatments are not recommended right before an important event because reactions vary after each session.</li><br/>");
            sb.Append("<li>The number of sessions on different areas varies from person to person therefore, results cannot be estimated.</li><br/>");
            sb.Append("<li>The results are staged, no guarantees can be or have been made.</li><br/>");
            sb.Append("<li>There are no refunds for services rendered.</li><br/>");
            sb.Append("<li>Choice of suitable laser machine for the treatment is done by doctor.</li><br/>");
            sb.Append("<li>I am a competent consenting adult of at least 18 years of age ( or my\r\n parents or legal guardian is giving consent on my behalf), and further:\r\n");
            sb.Append("<ul>");
            sb.Append("<li>Pre and Post Treatment instructions have been explained to me.</li>");
            sb.Append("<li>Have had the opportunity to ask questions and all of my questions have been answered to my satisfaction.</li>");
            sb.Append("<li>Must notify the clinician if my medical history changes prior to subsequent treatments</li>");
            sb.Append("<li>My signature below constitutes my acknowledgement and understanding of all this information.</li>");
            sb.Append("</ul>");
            sb.Append("</li><br/>");
            sb.Append("</ol>");
            sb.Append("</td>");
            sb.Append("<td style='width:2%;'></td>");
            sb.Append("<td style='width:49%;' dir='rtl'>");
            sb.Append("<ol style='margin-bottom: 100px;'>");
            sb.Append("<li>ليزر إزالة الشعر فعال  بشكل كبير على الشعر الاسود  ولايكون فعال على الشعر   الابيض والفاتح . والكثيف</li><br/>");
            sb.Append("<li>يؤثر ليزر إزالة الشعر  فقط في مرحلة معينة (المرحلة النشطة ).ستظهر النتيجة وفعاليتها  بعد 3 اسابيع. </li><br/>");
            sb.Append("<li>في بعض الحالات وخاصة (دقن)الرجال لايوجد ضمان في الحصول على خط مستقيم للعنق </li><br/>");
            sb.Append("<li>الوقت بين كل جلسة والاخرى يجب أن تكون من 4 الى 8 اسابيع حسب حالة كل شخص. </li><br/>");
            sb.Append("<li>ليس من الضروري أن ينقص الشعر بعد كل جلسة</li><br/>");
            sb.Append("<li>قد يصاحب الليزر اثار جانبية مثل: الحروق ,الندبات,التصبغات,الحكة, تورم وزيادة في الشعر الأبيض</li><br/>");
            sb.Append("<li>عادة قد تختفي هذه الاعراض بمرور الوقت ولكن في بعض الحالات قد تستمر لفترة اطول او حتى بشكل دائم</li><br/>");
            sb.Append("<li>في بعض الحالات النادرة قد يسبب  الليزر زيادة في نمو الشعروكثافته. </li><br/>");
            sb.Append("<li>يجب ابلاغنا في حال تم عمل أي إجراء جلدي ك: الفيلر,البوتوكس ,الوشوم . </li><br/>");
            sb.Append("<li>سيتم توفير نظارات واقية  للعين  أثناء العلاج . عدم ارتداء النظارات الواقية خلال العلاج من الممكن أن يسبب ضرر دائم وشديد للعين</li><br/>");
            sb.Append("<li>لا ينصح بعلاج الليزر للحوامل</li><br/>");
            sb.Append("<li>لاينصح القيام مباشرة قبل حدث مهم لأن من الممكن أن تختلف ردود الأفعال بعد كل جلسة . </li><br/>");
            sb.Append("<li>عدد الجلسات يختلف من شخص لأخر وحسب المنطقة أيضا  لذلك لا يمكن تقدير النتائج ولا يمكن تقديم اي ضمانات</li><br/>");
            sb.Append("<li>النتائج على مراحل, ولن يكون هناك ضمانات .لايوجد مبالغ مستردة للخدمات المقدمة.</li><br/>");
            sb.Append("<li>سيتم اختيار جهاز الليزر المناسب لك من قبل الطبيب المختص</li><br/>");
            sb.Append("<li>أنا شخص بالغ لا يقل عمري عن 18 عامًا (أو والدي أو الوصي القانوني يعطي الموافقة نيابة عني) ، علاوة على ذلك:");
            sb.Append("<ul>");
            sb.Append("<li> تم شرح تعليمات ما قبل وبعد العلاج لي.</li>");
            sb.Append("<li>لقد أتيحت لي الفرصة لطرح الأسئلة وتمت الإجابة على جميع أسئلتي بما يرضيني.</li>");
            sb.Append("<li>يجب إخطار الطبيب إذا تغير تاريخي الطبي قبل العلاجات اللاحقة.</li>");
            sb.Append("<li> توقيعي أدناه يشكل إقراري وفهمي لجميع هذه المعلومات.</li>");
            sb.Append("</ul>");
            sb.Append("</li><br/>");
            sb.Append("</ol>");
            sb.Append("</ol>");
            sb.Append("</td>");
            sb.Append("</tr>");
            sb.Append("<tr>");
            sb.Append("<td style='width:49%;'>");
            sb.Append("<p>I hereby authorize and direct Top Life Physiotherapy & Hijjama Center doctors and laser technicians to perform LHR treatment on me.</p>");
            sb.Append("<p>\"I agree that healthcare provider(s) involved in my care at this facility will access my health information through the Health Information Exchange System(NABIDH) in accordance with the Laws of the United Arab Emirates, Emirate of Dubai Legislation and Dubai Health Authority Policies \"</p>");
            sb.Append("</td>");
            sb.Append("<td style='width:2%;'></td>");
            sb.Append("<td style='width:49%;' dir='rtl'>");
            sb.Append("<p>أوافق على بدء إجراء علاج إزالة الشعر بالليزر من قبل اطباء وفني الليزر دون أدني مسئولية علي ادارة مركز توب لايف للعلاج الطبيعي والحجامة. </p><br/>");
            sb.Append("<p>اوافق بان يقوم مزاولي المهن الصحية المشرفين علي تقديم خدمات الرعاية الصحية لي في هذه المنشاة. بالاطلاع علي معلوماتي الصحية في نظام تبادل  المعلومات الصحية(نابض) وفقا للتشريعات السارية في دولة الامارات العربية المتحدة بشكل عام و امارة دبي بشكل خاص بمافيها القرارات الصادرة عن هيئة الصحة في دبي</p><br/>");
            sb.Append("</td>");
            sb.Append("</tr>");

            sb.Append("</table>");
            sb.Append("</div>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;'  colspan='3'>");
            sb.Append("            <p>Sign here, only if all of your questions have been answered to your satisfaction<br/>قم بالتوقيع هنا، فقط إذا تمت الإجابة على جميع أسئلتك بما يرضيك</p>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("            Patient<br/>مريض");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 34%;'>");
            sb.Append("            Parent/Guardian<br/>الوالد/الوصي");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("            Doctor/Therapist<br/>طبيب / معالج");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000'>");
            sb.Append("            <img src='" + psign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000'>");
            sb.Append("            <img src='" + wsign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;'>");
            sb.Append("            <img src='" + emr.doc_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000;border-top:1px solid #000000;'>");
            sb.Append("            Patient Name<br/>اسم المريض");
            sb.Append("             <br/>" + emr.pat_name + "<br/>");
            sb.Append("<br/>Date<br/>تاريخ<br/>");
            sb.Append(emr.app_fdate_time);
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000;border-top:1px solid #000000;'>");
            sb.Append("            Parent/Guardian Name(if patient is minor)<br/>(اسم الوالد/الوصي (إذا كان المريض قاصرًا");
            sb.Append("             <br/>" + pdf.lcf_1 + "<br/>");
            sb.Append("<br/>Date<br/>تاريخ<br/>");
            sb.Append(emr.app_fdate_time);
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-top:1px solid #000000;'>");
            sb.Append("            Doctor/Therapist Name<br/>اسم الطبيب/المعالج");
            sb.Append("             <br/>" + emr.doc_name + "<br/>");
            sb.Append("<br/>Date<br/>تاريخ<br/>");
            sb.Append(emr.app_fdate_time);
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("</table>");

            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + footer + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");
            sb.Append("    </body>");
            sb.Append("</html>");

            String htmlString = sb.ToString();

            return htmlString;
        }

        //Media Consent Arb(AR)
        public static string HtmlMediaConsentArbDerma(int appId, EMRInfo emr, int setId)
        {
            BusinessEntities.ConsentForms.MediaConsentArbDerma pdf = BusinessLogicLayer.ConsentForms.MediaConsentArbDerma.GetMediaConsentArbDermaData(appId).FirstOrDefault();
            BusinessEntities.Common.eSignature psign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "patient", "MediaConsentArbDerma").FirstOrDefault();
            BusinessEntities.Common.eSignature wsign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "witness", "MediaConsentArbDerma").FirstOrDefault();
            BusinessEntities.Common.PDFHeaderFooter hf = BusinessLogicLayer.Common.PDF.GetHeaderFooterByBranch(setId);

            string header = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "header_images", hf.header.ToString());
            string footer = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "footer_images", hf.footer.ToString());

            StringBuilder sb = new StringBuilder();


            sb.Append("<html>");
            sb.Append("    <head>");
            sb.Append("    <title> <u>نموذج موافقة وسائل الإعلام باللغة العربية</u></title>");
            sb.Append("    <meta charset='utf-8'>");
            sb.Append("    </head>");
            //sb.Append("    <head><title> <u>موافقة المريض على بدء علاج تبييض الأسنان</u></title><meta charset='utf-8'></head>");
            sb.Append("    <body style='font-family: Verdana, Geneva, Tahoma, sans-serif;'>");

            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + header + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    <table dir='rtl' style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'  colspan='9'>");
            sb.Append("            <h1>نموذج موافقة وسائل الإعلام باللغة العربية</h1>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>اسم المريض</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>" + emr.pat_name + "</td>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>هويه الإمارات</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000' colspan='4'>" + emr.pat_emirateid + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>رقم الملف</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>" + emr.pat_code + "</td>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>تاريخ الميلاد</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>" + emr.pat_dob + "</td>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>جنسية</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>" + emr.pat_nationality + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>جنس</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>" + emr.pat_gender + "</td>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>اسم الطبيب</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>" + emr.doc_name + "</td>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>تاريخ</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>" + emr.app_fdate + "</td>");
            sb.Append("    </tr>");
            sb.Append("</table>");

            sb.Append("<div dir='rtl' style='width:100%; text-align:justify; dir font-size: 12px; margin-top: 50px;margin-bottom: 50px;'>");

            sb.Append("<p dir='rtl'>اسم المريض:" + emr.pat_name + "</p>");
            sb.Append("<p><img src=\"http://localhost:55640/images/ConsentForms/Dermatology/mediaconsent_arb.jpg\" style=\"width:100%\" /></p>");

            sb.Append("</div>");

            sb.Append("    <table dir='rtl' style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;'  colspan='3'>");
            sb.Append("            <p>قم بالتوقيع هنا فقط إذا تمت الموافقة على جميع الأسئلة</p>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("            مريض");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 34%;'>");
            sb.Append("            شاهد");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("            طبيب");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-left:1px solid #000000'>");
            sb.Append("            <img src='" + psign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-left:1px solid #000000'>");
            sb.Append("            <img src='" + wsign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;'>");
            sb.Append("            <img src='" + emr.doc_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000;border-top:1px solid #000000; width: 33%;'>");
            sb.Append("            اسم المريض");
            sb.Append("             <br/>" + emr.pat_name + "<br/>");
            sb.Append("<br/>تاريخ<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000;border-top:1px solid #000000; width: 34%;'>");
            sb.Append("            اسم الشاهد");
            sb.Append("             <br/>" + pdf.mca_1);
            sb.Append("<br/><br/>تاريخ<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("        <td dir='ltr' style='text-align: center;padding: 10px;border-top:1px solid #000000; width: 33%;'>");
            sb.Append("            " + emr.app_doctor_department + "<br/>");
            sb.Append("<br/>تاريخ<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("</table>");

            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + footer + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");
            sb.Append("    </body>");
            sb.Append("</html>");

            String htmlString = sb.ToString();

            return htmlString;
        }

        //Informed Consent For Botox
        public static string HtmlInformedConsentBotox(int appId, EMRInfo emr, int setId)
        {
            BusinessEntities.ConsentForms.InformedConsentBotox pdf = BusinessLogicLayer.ConsentForms.InformedConsentBotox.GetInformedConsentBotoxData(appId).FirstOrDefault();
            BusinessEntities.Common.eSignature psign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "patient", "InformedConsentBotox").FirstOrDefault();
            BusinessEntities.Common.eSignature wsign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "witness", "InformedConsentBotox").FirstOrDefault();
            BusinessEntities.Common.PDFHeaderFooter hf = BusinessLogicLayer.Common.PDF.GetHeaderFooterByBranch(setId);

            string header = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "header_images", hf.header.ToString());
            string footer = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "footer_images", hf.footer.ToString());

            StringBuilder sb = new StringBuilder();


            sb.Append("<html>");
            sb.Append("    <head><title> <u>Informed Consent For Botox Botulinum Injections</u></title></head>");
            sb.Append("    <body style='font-family: Verdana, Geneva, Tahoma, sans-serif;'>");

            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + header + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000' colspan='9'>");
            sb.Append("            <h1>Informed Consent For Botox Botulinum Injections</h1>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Patient Name</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000' colspan='4'>" + emr.pat_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Emirates ID</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_emirateid + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>File No</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_code + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>DOB</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_dob + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Nationality</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_nationality + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Gender</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_gender + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Doctor's Name</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.doc_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Date</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.app_fdate + "</td>");
            sb.Append("    </tr>");
            sb.Append("</table>");

            sb.Append("<div style='width:100%; text-align:justify; font-size: 12px; margin-top: 50px;margin-bottom: 50px;'>");
            sb.Append("<p><h5 style='margin-bottom: 5px;'>INSTRUCTIONS</h5></p>");
            sb.Append("<p>This is an informed consent document that has been prepared to help inform you concerning Botox injections, its risks, alternatives treatnents(s).</p>");
            sb.Append("<p>It is important that you read this information carefully and completely. Please initial each page, indicating that you have read the page and sigi the consent.</p>");
            sb.Append("<p><h5 style='margin-top: 10px;'>INTRODUCTION</h5></p>");
            sb.Append("<p>BOTOXinjections involve a series of small injections in order to weaken the chosen muscles for example on the brow or below the eyes. Weakening of the injected muscles begins to be apparent after 2-3 days with the peak effect being reached after 7 days. Results can last 3-6 months. The procedure can be repeated after 3 months; however, injections given less than 3 month inter.zals may reduce the efficacy of the injections.</p>");
            sb.Append("<p><h5 style='margin-top: 10px;'>ALTERNATIVE TREATMENTS</h5></p>");
            sb.Append("<p>Altemative forms of non-surgical and surgical management for the appearance of wrinkles and lines in the skin consist of Collagen treatment, laser brasion, and brow lift. Risks and potential complications are associated with alternative forms of treatment</p>");
            sb.Append("<p><h5 style='margin-top: 10px;'>RISKS OF BOTOX INJECTIONS</h5></p>");
            sb.Append("<p>Every procedure involves a certain amount of risk, and it is important that you understand that risks involved. An individual's choice to undergo a procedure is based on the comparison ofthe risk to potential benefit. Although the majority of patients do no experience these complications, you should discuss each of them with your surgeon to make sure you understand the risks, potential complications, and consequences of BOTOX injections.</p>");
            sb.Append("<p><h5 style='margin-top: 10px;'>Bleeding</h5></p>");
            sb.Append("<p>It is possible, though unusual, to experience a bleeding episode during or after the procedure. Do not take any aspirin or anti-inflammatory medications for ten days prior to your BOTOX injection appointment.</p>");
            sb.Append("<p><h5 style='margin-top: 10px;'>Bruising</h5></p>");
            sb.Append("<p>Following this procedure, it is not uncommon to bruise at the injection site.</p>");
            sb.Append("<p><h5 style='margin-top: 10px;'>Infection</h5></p>");
            sb.Append("<p>Infection is unusual. Should an infection occur, additional ffeatntent including antibiotics may be necessary.</p>");
            sb.Append("<p><h5 style='margin-top: 10px;'>Unsatisfactory Results</h5></p>");
            sb.Append("<p>There is a possibility of an unsatisfactory result from the procedure.</p>");
            sb.Append("<p>The procedure may result in unacceptable visible deformities, loss of function and/or loss of sensation. You may be disappointed with the results of the procedure.</p>");
            sb.Append("<p>Allergic reactions - In rare cases, local allergies to topical preparations have been reported. Systemic</p>");
            sb.Append("<p>reactions, which are more serious, may result from drugs used during surgery and prescription medicines. Allergic reactions may require additional treatment.</p>");
            sb.Append("<p>Drooping ofthe eyelids (Ptosis) - This is rare but &ansient complication occurring in 1-2% ofpatients. The incidence can be minimized by positioning post injections.</p>");
            sb.Append("<p><h5>It is important that you read the above information carefully and have all of your questions answered before signing this consent.</h5></p>");
            sb.Append("<p><h5>I have read a copy of the foregoing consent for the procedure, understand it, accept these facts, and hereby authorize Dr." + emr.doc_name + "  to perform the procedure of BOTOX injections.</h5></p>");
            sb.Append("</div>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;'  colspan='3'>");
            sb.Append("            <p>Sign here, only if all of your questions have been answered to your satisfaction</p>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("             Patient");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 34%;'>");
            sb.Append("            Witness");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("            Doctor");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000'>");
            sb.Append("            <img src='" + psign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000'>");
            sb.Append("            <img src='" + wsign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;'>");
            sb.Append("            <img src='" + emr.doc_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000;border-top:1px solid #000000;'>");
            sb.Append("            Patient Name");
            sb.Append("             <br/>" + emr.pat_name);
            sb.Append("</br><br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000;border-top:1px solid #000000;'>");
            sb.Append("            Witness Name");
            sb.Append("             <br/>" + pdf.icb_1);
            sb.Append("</br><br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-top:1px solid #000000;'>");
            sb.Append("           Doctor Name<br/>");
            sb.Append("            " + emr.app_doctor_department + "<br/>");
            sb.Append("<br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("</table>");
            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + footer + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    </body>");
            sb.Append("</html>");

            String htmlString = sb.ToString();

            return htmlString;
        }

        //Consent For Botox Arb(AR)
        public static string HtmlConsentBotoxArb(int appId, EMRInfo emr, int setId)
        {
            BusinessEntities.ConsentForms.ConsentBotoxArb pdf = BusinessLogicLayer.ConsentForms.ConsentBotoxArb.GetConsentBotoxArbData(appId).FirstOrDefault();
            BusinessEntities.Common.eSignature psign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "patient", "ConsentBotoxArb").FirstOrDefault();
            BusinessEntities.Common.eSignature wsign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "witness", "ConsentBotoxArb").FirstOrDefault();
            BusinessEntities.Common.PDFHeaderFooter hf = BusinessLogicLayer.Common.PDF.GetHeaderFooterByBranch(setId);

            string header = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "header_images", hf.header.ToString());
            string footer = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "footer_images", hf.footer.ToString());

            StringBuilder sb = new StringBuilder();


            sb.Append("<html>");
            sb.Append("    <head>");
            sb.Append("    <title> <u>الموافقة على الحقن بالبوتوكسحقن البوتولينوم(Botox)</u></title>");
            sb.Append("    <meta charset='utf-8'>");
            sb.Append("    </head>");
            sb.Append("    <body style='font-family: Verdana, Geneva, Tahoma, sans-serif;'>");

            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + header + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    <table dir='rtl' style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'  colspan='9'>");
            sb.Append("            <h1>الموافقة على الحقن بالبوتوكسحقن البوتولينوم(Botox)</h1>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>اسم المريض</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>" + emr.pat_name + "</td>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>هويه الإمارات</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000' colspan='4'>" + emr.pat_emirateid + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>رقم الملف</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>" + emr.pat_code + "</td>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>تاريخ الميلاد</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>" + emr.pat_dob + "</td>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>جنسية</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>" + emr.pat_nationality + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>جنس</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>" + emr.pat_gender + "</td>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>اسم الطبيب</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>" + emr.doc_name + "</td>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>تاريخ</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>" + emr.app_fdate + "</td>");
            sb.Append("    </tr>");
            sb.Append("</table>");

            sb.Append("<div dir='rtl' style='width:100%; text-align:justify; dir font-size: 12px; margin-top: 50px;margin-bottom: 50px;'>");

            sb.Append("<p><h5 dir='rtl'>تعليمات</h5></p>");
            sb.Append("<p dir='rtl'>هذه وثيقة موافقة تم إعدادها للمساعدة في إخبارك فيما يتعلق بحقن البوتوكس ، وخطرها ، والعلاج (العلاجات) البديلة.</p>");
            sb.Append("<p dir='rtl'>من المهم أن تقرأ هذه المعلومات بعناية وبشكل كامل. يرجى التهيئة الأولية لكل صفحة ، مشيرة إلى أنك قرأت الصفحة ووقعت الموافقة.</p>");
            sb.Append("<p><h5 dir='rtl'>المقدمة</h5></p>");
            sb.Append("<p dir='rtl'>يشمل حقن البوتوكس سلسلة من الحقن الصغيرة لإضعاف العضلات المختارة على سبيل المثال في الحاجب أو تحت العين. يبدأ ضعف العضلات المحقونة في الظهور بعد 2-3 أيام مع وصول تأثير الذروة بعد 7 أيام. يمكن أن تستمر النتيجة 3-6 أشهر. يمكن تكرار الإجراء بعد 3 أشهر ؛ ومع ذلك ، فإن الحقن المعطى لفترة أقل من 3 أشهر قد يقلل من فعالية الحقن.</p>");
            sb.Append("<p><h5 dir='rtl'>العلاج البديل</h5></p>");
            sb.Append("<p dir='rtl'>البديل عن العلاج غير الجراحي والجراحي لظهور التجاعيد والخطوط في الجلد يتكون من علاج الكولاجين و بالليزر ورفع الحاجب. ترتبط المخاطر والمضاعفات المحتملة بأشكال العلاج البديلة.</p>");
            sb.Append("<p><h5 dir='rtl'>مخاطر حقن البوتوكس</h5></p>");
            sb.Append("<p dir='rtl'>ينطوي كل إجراء على قدر معين من المخاطر ، ومن المهم أن تفهم المخاطر التي تنطوي عليها. يعتمد اختيار الفرد للخضوع لإجراء ما على مقارنة المخاطر بالفوائد المحتملة. على الرغم من أن غالبية المرضى لا يعانون من هذه المضاعفات ، يجب عليك مناقشة كل منهم مع الجراح للتأكد من أنك تفهم المخاطر والمضاعفات المحتملة وعواقب حقن البوتوكس.</p>");
            sb.Append("<p dir='rtl'>النزيف من الممكن ، على الرغم من أنه غير عادي ، تجربة نزيف أثناء أو بعد العملية. لا تتناول أي أدوية تحتوي على الأسبرين أو مضادات الالتهاب لمدة عشرة (10) أيام قبل موعد حقن البوتوكس الخاص بك.</p>");
            sb.Append("<p dir='rtl'>التورم بعد هذا الإجراء ، ليس من غير المألوف الكدمات في موقع الحقن.</p>");
            sb.Append("<p dir='rtl'>التهاب في حالة حدوث التهاب ، قد يكون من الضروري علاج إضافي بما في ذلك المضادات الحيوية. قد يؤدي الإجراء إلى تشوهات مرئية غير مقبولة ، وفقدان الوظيفة و / أو فقدان الإحساس. قد تشعر بخيبة أمل من نتائج الإجراء.</p>");
            sb.Append("<p dir='rtl'>ردود الفعل التحسسية - في حالات نادرة ، تم الإبلاغ عن الحساسية المحلية للمستحضرات الموضعية. قد تنتج التفاعلات الجهازية الأكثر خطورة عن الأدوية المستخدمة أثناء الجراحة والأدوية الموصوفة. قد يتطلب رد الفعل التحسسي معالجة إضافية .</p>");
            sb.Append("<p dir='rtl'>إسقاط الجفون (تدلي الجفون) - هذه مضاعفات نادرة ولكنها عابرة تحدث في 1-2٪ من المرضى. يمكن تقليل الإصابة عن طريق وضع الحقن اللاحقة.</p>");
            sb.Append("<p><h5 dir='rtl'>من المهم أن تقرأ المعلومات المذكورة أعلاه بعناية وأن تجيب على جميع أسئلتك قبل التوقيع على هذه الموافقة.</h5></p>");
            sb.Append("<p><h5 dir='rtl'>لقد قرأت نسخة من الموافقة السابقة على الإجراء ، أفهمه ، أقبل هذه الحقائق ، وأصرح الدكتور . " + emr.doc_name + " ، بإجراء عملية حقن البوتوكس.</h5></p>");

            sb.Append("</div>");

            sb.Append("    <table dir='rtl' style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;'  colspan='3'>");
            sb.Append("            <p>قم بالتوقيع هنا فقط إذا تمت الموافقة على جميع الأسئلة</p>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("            مريض");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 34%;'>");
            sb.Append("            شاهد");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("            طبيب");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-left:1px solid #000000'>");
            sb.Append("            <img src='" + psign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-left:1px solid #000000'>");
            sb.Append("            <img src='" + wsign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;'>");
            sb.Append("            <img src='" + emr.doc_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000;border-top:1px solid #000000; width: 33%;'>");
            sb.Append("            اسم المريض");
            sb.Append("             <br/>" + emr.pat_name + "<br/>");
            sb.Append("<br/>تاريخ<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000;border-top:1px solid #000000; width: 34%;'>");
            sb.Append("            اسم الشاهد");
            sb.Append("             <br/>" + pdf.cba_1);
            sb.Append("<br/><br/>تاريخ<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("        <td dir='ltr' style='text-align: center;padding: 10px;border-top:1px solid #000000; width: 33%;'>");
            sb.Append("            " + emr.app_doctor_department + "<br/>");
            sb.Append("<br/>تاريخ<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("</table>");

            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + footer + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");
            sb.Append("    </body>");
            sb.Append("</html>");

            String htmlString = sb.ToString();

            return htmlString;
        }

        //Informed Consent For Filler
        public static string HtmlFillerInformed(int appId, EMRInfo emr, int setId)
        {
            BusinessEntities.ConsentForms.FillerInformed pdf = BusinessLogicLayer.ConsentForms.FillerInformed.GetFillerInformedData(appId).FirstOrDefault();
            BusinessEntities.Common.eSignature psign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "patient", "FillerInformed").FirstOrDefault();
            BusinessEntities.Common.eSignature wsign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "witness", "FillerInformed").FirstOrDefault();
            BusinessEntities.Common.PDFHeaderFooter hf = BusinessLogicLayer.Common.PDF.GetHeaderFooterByBranch(setId);

            string header = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "header_images", hf.header.ToString());
            string footer = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "footer_images", hf.footer.ToString());

            StringBuilder sb = new StringBuilder();


            sb.Append("<html>");
            sb.Append("    <head><title> <u>Derma Filler Informed Consent</u></title></head>");
            sb.Append("    <body style='font-family: Verdana, Geneva, Tahoma, sans-serif;'>");

            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + header + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000' colspan='9'>");
            sb.Append("            <h1>Derma Filler Informed Consent</h1>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Patient Name</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000' colspan='4'>" + emr.pat_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Emirates ID</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_emirateid + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>File No</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_code + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>DOB</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_dob + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Nationality</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_nationality + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Gender</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_gender + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Doctor's Name</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.doc_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Date</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.app_fdate + "</td>");
            sb.Append("    </tr>");
            sb.Append("</table>");

            sb.Append("<div style='width:100%; text-align:justify; font-size: 12px; margin-top: 50px;margin-bottom: 50px;'>");

            sb.Append("<p>I understand that I will be injected with derma filler, in the following area(s) : " + pdf.fic_1 + "</p>");
            sb.Append("<p>The indicated dermal filler has been FDA approved for use in cosmetic treatment for moderate to severe wrinkles around the nose and mouth. I understand this treatment is temporary, and re-injection is necessary after about six months. It has been explained to me that other temporary and more permanent treatments are available.</p>");
            sb.Append("<p>The following complication may occurs with dermal filler injection procedure:");
            sb.Append("<ol>");
            sb.Append("<li>Risk: I understand there is a risk of bruising, redness, pain at the injection site, tenderness, itching, allergic reaction, and raised bump of the skin (nodules)</li>");
            sb.Append("<li>Infection: Post treatment bacterial, viral and/or fungal infection can occur which is most cases are easily treatable but is rare cases a permanent scarring in the area can occur.</li>");
            sb.Append("<li>Effectiveness: Treatment can last anywhere from 4-6 months to one year.</li>");
            sb.Append("<li>Treatment: I understand more than one injection may be needed to achieve a satisfactory result.</li>");
            sb.Append("<li>Allergic reactions: In rare cases, there may be an allergic reaction to the injection.</li>");
            sb.Append("<li>There is a risk of scarring.</li>");
            sb.Append("<li>I will follow all aftercare instruction as it is crucial I do so for healing.</li>");
            sb.Append("</ol>");
            sb.Append("</p>");
            sb.Append("<p>As dermal filler are not an exact science, there might be an uneven appearance of the face with some areas more affected by the filler than other. In most cases this uneven appearance can be corrected by more injection in the same or nearby areas. However in some cases this uneven appearance can persist for several weeks or months</p>");
            sb.Append("<p>This list is not meant to be inclusive of all possible risk associated with dermal filler as there are both known and unknown side effects associated with any medication or procedure.</p>");
            sb.Append("<p>These dermal filler should not be administered to a pregnant or a nursing woman.</p>");
            sb.Append("<p>The number of units injected is an estimate of the amount of dermal filler required to add volume to the skin and give the appearance of a smoother face. I understand there is no guarantee of results of any treatment and the regular charge applies to all subsequent treatments.</p>");
            sb.Append("<p>I understand and agree that all services are charged directly to me and I am personally responsible for payment. further agree in the event of non-payment, to bear the cost of collection, and/or Court cost and reasonable legal fees, should be this required. By signing below, I acknowledge that I have read the foregoing informed consent and agree to the treatment with its associated risks. I hereby give consent to perform this and all subsequent dermal filler treatment with all the above understood. I hereby release the doctor, the person injecting the ermal filler and the facility from liability associated with this procedure.</p>");

            sb.Append("</div>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;'  colspan='2'>");
            sb.Append("            <p>Sign here, only if all of your questions have been answered to your satisfaction</p>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("             Patient");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("            Doctor");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000'>");
            sb.Append("            <img src='" + psign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;'>");
            sb.Append("            <img src='" + emr.doc_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000;border-top:1px solid #000000;'>");
            sb.Append("            Patient Name");
            sb.Append("             <br/>" + emr.pat_name);
            sb.Append("</br><br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-top:1px solid #000000;'>");
            sb.Append("           Doctor Name<br/>");
            sb.Append("            " + emr.app_doctor_department + "<br/>");
            sb.Append("<br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("</table>");
            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + footer + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    </body>");
            sb.Append("</html>");

            String htmlString = sb.ToString();

            return htmlString;
        }

        //Informed Consent For Filler Arb(AR)
        public static string HtmlFillerInformedArb(int appId, EMRInfo emr, int setId)
        {
            BusinessEntities.ConsentForms.FillerInformedArb pdf = BusinessLogicLayer.ConsentForms.FillerInformedArb.GetFillerInformedArbData(appId).FirstOrDefault();
            BusinessEntities.Common.eSignature psign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "patient", "FillerInformedArb").FirstOrDefault();
            BusinessEntities.Common.eSignature wsign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "witness", "FillerInformedArb").FirstOrDefault();
            BusinessEntities.Common.PDFHeaderFooter hf = BusinessLogicLayer.Common.PDF.GetHeaderFooterByBranch(setId);

            string header = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "header_images", hf.header.ToString());
            string footer = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "footer_images", hf.footer.ToString());

            StringBuilder sb = new StringBuilder();


            sb.Append("<html>");
            sb.Append("    <head>");
            sb.Append("    <title> <u dir='rtl'>ديرما حشو الموافقة المستنيرة العربية</u></title>");
            sb.Append("    <meta charset='utf-8'>");
            sb.Append("    </head>");
            sb.Append("    <body style='font-family: Verdana, Geneva, Tahoma, sans-serif;'>");

            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + header + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    <table dir='rtl' style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'  colspan='9'>");
            sb.Append("            <h1>(Filler)موافقة العلاج بالفيلر </h1>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>اسم المريض</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>" + emr.pat_name + "</td>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>هويه الإمارات</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000' colspan='4'>" + emr.pat_emirateid + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>رقم الملف</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>" + emr.pat_code + "</td>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>تاريخ الميلاد</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>" + emr.pat_dob + "</td>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>جنسية</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>" + emr.pat_nationality + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>جنس</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>" + emr.pat_gender + "</td>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>اسم الطبيب</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>" + emr.doc_name + "</td>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>تاريخ</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>" + emr.app_fdate + "</td>");
            sb.Append("    </tr>");
            sb.Append("</table>");

            sb.Append("<div dir='rtl' style='width:100%; text-align:justify; dir font-size: 12px; margin-top: 50px;margin-bottom: 50px;'>");

            sb.Append("<p>أنا ، أفهم أنه سيتم حقني بـ فيلر في جلدي ، في المنطقة (المناطق) التالية</br>" + pdf.fica_1 + "</p>");
            sb.Append("<p>تمت الموافقة على حقن الفيلر في الجلد المشار إليه من قِبل إدارة الأغذية والعقاقير للاستخدام في العلاج التجميلي للتجاعيد المتوسطة إلى الشديدة حول الأنف والفم. أفهم أن هذا العلاج مؤقت ، وأن إعادة الحقن ضرورية بعد حوالي ستة أشهر. لقد تم شرح لي أن العلاجات المؤقتة الأخرى والأكثر ديمومة متوفرة..</p>");
            sb.Append("<p>قد تحدث المضاعفات التالية مع إجراء حقن حشو الجلد:");
            sb.Append("<ol>");
            sb.Append("<li>الخطر: أفهم أن هناك خطر كدمات ، احمرار ، ألم في مكان الحقن ، حنان ، حكة ، رد فعل تحسسي ، ورفع نتوء في الجلد (العقيدات).</li>");
            sb.Append("<li>العدوى: يمكن أن تحدث عدوى بكتيرية و / أو فيروسية و / أو فطرية بعد المعالجة ، والتي يمكن علاجها بسهولة في معظم الحالات ، ولكن من النادر حدوث ندوب دائمة في المنطقة.</li>");
            sb.Append("<li>الفعالية: يمكن أن يستمر العلاج من 4-6 أشهر إلى سنة واحدة.</li>");
            sb.Append("<li>العلاج: أفهم أنه قد تكون هناك حاجة إلى أكثر من حقنة واحدة لتحقيق نتيجة مرضية.</li>");
            sb.Append("<li>الحساسية: في حالات نادرة ، قد يكون هناك رد فعل تحسسي للحقن.</li>");
            sb.Append("<li>هناك خطر تندب.</li>");
            sb.Append("<li>سوف أتبع جميع تعليمات الرعاية اللاحقة حيث أنه أمر حاسم لأقوم بالشفاء.</li>");
            sb.Append("</ol>");
            sb.Append("</p>");
            sb.Append("<p>نظرًا لأن الفيلر الجلدي ليس علمًا دقيقًا ، فقد يكون هناك مظهر غير متساو للوجه مع بعض المناطق الأكثر تأثرًا بالحشو من غيرها. في معظم الحالات ، يمكن تصحيح هذا المظهر غير المتكافئ عن طريق حقن أكبر في نفس المناطق أو في المناطق المجاورة. ولكن في بعض الحالات ، قد يستمر هذا المظهر غير المتساوي لعدة أسابيع أو أشهر لا تهدف هذه القائمة إلى أن تكون شاملة لجميع المخاطر المحتملة المرتبطة بحشو الجلد حيث أن هناك آثارًا جانبية معروفة وغير معروفة مرتبطة بأي دواء أو إجراء. لا يجب إعطاء هذه الفيلر الجلدي للمرأة الحامل أو المرضعة.</p>");
            sb.Append("<p>عدد الوحدات التي يتم حقنها هو تقدير لكمية الفيلر المطلوب لإضافة حجم إلى الجلد وإعطاء مظهر وجه أكثر نعومة. أفهم أنه لا يوجد ضمان لنتائج أي علاج وتنطبق الرسوم العادية على جميع العلاجات اللاحقة.</p>");
            sb.Append("<p>\r\nأتفهم وأوافق على أن جميع الخدمات يتم تحصيلها مني مباشرةً وأنا مسؤول شخصيًا عن الدفع. أوافق أيضًا في حالة عدم الدفع ، على تحمل تكلفة التحصيل و / أو تكلفة المحكمة والرسوم القانونية المعقولة ، يجب أن يكون ذلك مطلوبًا. من خلال التوقيع أدناه ، أقر بأنني قرأت الموافقة المستنيرة السابقة وأوافق على العلاج بالمخاطر المرتبطة به. أمنح بهذا موافقتي على إجراء هذا العلاج وجميع حشوات الجلد اللاحقة مع كل ما سبق فهمه. بموجب هذا ، أفرج عن الطبيب والشخص الذي يحقن الحشو الجلدي والمنشأة من المسؤولية المرتبطة بهذا الإجراء.</p>");

            sb.Append("</div>");

            sb.Append("    <table dir='rtl' style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;'  colspan='2'>");
            sb.Append("            <p>قم بالتوقيع هنا فقط إذا تمت الموافقة على جميع الأسئلة</p>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("            مريض");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("            طبيب");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-left:1px solid #000000'>");
            sb.Append("            <img src='" + psign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;'>");
            sb.Append("            <img src='" + emr.doc_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000;border-top:1px solid #000000; width: 33%;'>");
            sb.Append("            اسم المريض");
            sb.Append("             <br/>" + emr.pat_name + "<br/>");
            sb.Append("<br/>تاريخ<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("        <td dir='ltr' style='text-align: center;padding: 10px;border-top:1px solid #000000; width: 33%;'>");
            sb.Append("            " + emr.app_doctor_department + "<br/>");
            sb.Append("<br/>تاريخ<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("</table>");

            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + footer + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");
            sb.Append("    </body>");
            sb.Append("</html>");

            String htmlString = sb.ToString();

            return htmlString;
        }

        // Chemical Peeling Consent Form
        public static string HtmlChemicalPeeling(int appId, EMRInfo emr, int setId)
        {
            BusinessEntities.ConsentForms.ChemicalPeeling pdf = BusinessLogicLayer.ConsentForms.ChemicalPeeling.GetChemicalPeelingData(appId).FirstOrDefault();
            BusinessEntities.Common.eSignature psign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "patient", "ChemicalPeeling").FirstOrDefault();
            BusinessEntities.Common.eSignature wsign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "witness", "ChemicalPeeling").FirstOrDefault();
            BusinessEntities.Common.PDFHeaderFooter hf = BusinessLogicLayer.Common.PDF.GetHeaderFooterByBranch(setId);

            string header = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "header_images", hf.header.ToString());
            string footer = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "footer_images", hf.footer.ToString());

            StringBuilder sb = new StringBuilder();


            sb.Append("<html>");
            sb.Append("    <head><title> <u> Chemical Peeling Consent Form</u></title></head>");
            sb.Append("    <body style='font-family: Verdana, Geneva, Tahoma, sans-serif;'>");

            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + header + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000' colspan='9'>");
            sb.Append("            <h1>Chemical Peeling Consent Form</h1>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Patient Name</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000' colspan='4'>" + emr.pat_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Emirates ID</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_emirateid + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>File No</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_code + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>DOB</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_dob + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Nationality</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_nationality + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Gender</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_gender + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Doctor's Name</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.doc_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Date</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.app_fdate + "</td>");
            sb.Append("    </tr>");
            sb.Append("</table>");

            sb.Append("<div style='width:100%; text-align:justify; font-size: 12px; margin-top: 50px;margin-bottom: 50px;'>");

            sb.Append("<p>To the :" + emr.pat_name + "</p>");
            sb.Append("<p>You have a right to be informed about your condition and its treatment, so that you may decide whether or not to undergo the procedure after knowing the risks and hazards involved. This disclosure is not meant to scare or alarm you; it is simply an effort to make you better informed so you may give, or withhold, your consent for treatment.</p>");
            sb.Append("<p>");
            sb.Append("<ol>");
            sb.Append("<li>I " + emr.pat_name + " voluntarily request that " + emr.set_company + " perform the Peel procedure. I acknowledge having been informed that this cosmetic procedure is intended to remove surface layers of the skin to improve the vitality of the skin.</li>");
            sb.Append("<li>Peels, despite their high levels of efficacy and safety, are not free of side effects. Erythema (redness) and edema (swelling) of the treated area can occur but usually subsides within a few hours but can last up to seven days or longer. Irritation, itching, and/or mild burning sensation or pain similar to sunburn may occur within 48 hours of treatment.</li>");
            sb.Append("<li>It is important to use sun screen of SPF 25 or greater when exposed to the sun.</li>");
            sb.Append("<li>I understand complications can include white heads, cold sores, infection, scarring, numbness and permanent discoloration, particularly in people with dark skin.</li>");
            sb.Append("<li>No guarantee, warranty, or assurance has been made to me as to the results that may be obtained. I am aware that follow-up treatments may be necessary for desired results. Most patients require a number of treatments over several months with gradual results occurring over this time. Clinical results will vary per patient. I agree to adhere to all safety precautions and regulations during the treatment. No refunds will be given for treatments received.</li>");
            sb.Append("</ol>");
            sb.Append("</p>");
            sb.Append("<p>I understand that treatment is not recommended for tanned patients until the tan has faded and that sun exposure must be avoided between treatments. I have not tanned, and will not tan, in the areas to be treated during the entire treatment course and for six weeks before and after treatment. This includes sun exposure and tanning booths. Artificial tanning products must be discontinued two weeks prior to treatments.</p>");
            sb.Append("<p>I understand and agree that all services rendered to me are charged to me directly and that I am personally responsible for payment.</p>");
            sb.Append("<p>Note: All prices are subject to change without prior notice</p>");

            sb.Append("</div>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;'  colspan='3'>");
            sb.Append("            <p>Sign here, only if all of your questions have been answered to your satisfaction</p>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("             Patient");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 34%;'>");
            sb.Append("            Witness");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("            Doctor");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000'>");
            sb.Append("            <img src='" + psign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000'>");
            sb.Append("            <img src='" + wsign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;'>");
            sb.Append("            <img src='" + emr.doc_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000;border-top:1px solid #000000;'>");
            sb.Append("            Patient Name");
            sb.Append("             <br/>" + emr.pat_name);
            sb.Append("</br><br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000;border-top:1px solid #000000;'>");
            sb.Append("            Witness Name");
            sb.Append("             <br/>" + pdf.cpf_1);
            sb.Append("</br><br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-top:1px solid #000000;'>");
            sb.Append("           Doctor Name<br/>");
            sb.Append("            " + emr.app_doctor_department + "<br/>");
            sb.Append("<br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("</table>");
            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + footer + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    </body>");
            sb.Append("</html>");

            String htmlString = sb.ToString();

            return htmlString;
        }

        //Chemical Peeling Consent Form Arb(AR)
        public static string HtmlChemicalPeelingArb(int appId, EMRInfo emr, int setId)
        {
            BusinessEntities.ConsentForms.ChemicalPeelingArb pdf = BusinessLogicLayer.ConsentForms.ChemicalPeelingArb.GetChemicalPeelingArbData(appId).FirstOrDefault();
            BusinessEntities.Common.eSignature psign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "patient", "ChemicalPeelingArb").FirstOrDefault();
            BusinessEntities.Common.eSignature wsign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "witness", "ChemicalPeelingArb").FirstOrDefault();
            BusinessEntities.Common.PDFHeaderFooter hf = BusinessLogicLayer.Common.PDF.GetHeaderFooterByBranch(setId);

            string header = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "header_images", hf.header.ToString());
            string footer = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "footer_images", hf.footer.ToString());

            StringBuilder sb = new StringBuilder();


            sb.Append("<html>");
            sb.Append("    <head>");
            sb.Append("    <title> <u>نموذج الموافقة على التقشير الكيميائي</u></title>");
            sb.Append("    <meta charset='utf-8'>");
            sb.Append("    </head>");
            sb.Append("    <body style='font-family: Verdana, Geneva, Tahoma, sans-serif;'>");

            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + header + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    <table dir='rtl' style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'  colspan='9'>");
            sb.Append("            <h1>نموذج الموافقة على التقشير الكيميائي</h1>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>اسم المريض</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>" + emr.pat_name + "</td>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>هويه الإمارات</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000' colspan='4'>" + emr.pat_emirateid + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>رقم الملف</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>" + emr.pat_code + "</td>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>تاريخ الميلاد</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>" + emr.pat_dob + "</td>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>جنسية</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>" + emr.pat_nationality + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>جنس</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>" + emr.pat_gender + "</td>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>اسم الطبيب</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>" + emr.doc_name + "</td>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>تاريخ</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>" + emr.app_fdate + "</td>");
            sb.Append("    </tr>");
            sb.Append("</table>");

            sb.Append("<div dir='rtl' style='width:100%; text-align:justify; dir font-size: 12px; margin-top: 50px;margin-bottom: 50px;'>");

            sb.Append("<p>إلى:" + emr.pat_name + "</p>");
            sb.Append("<p>لديك الحق في معرفة حالتك وعلاجها ، بحيث يمكنك أن تقرر ما إذا كنت ستخضع للإجراء أم لا بعد معرفة المخاطر التي تنطوي عليها. ليس الهدف من هذا الكشف أن يخيفك أو ينبهك ؛ إنه مجرد جهد لجعلك على دراية أفضل حتى تتمكن من منح موافقتك على العلاج أو حجبها.</p>");
            sb.Append("<p>");
            sb.Append("<ol>");
            sb.Append("<li>أنا ، أطلب بشكل طوعي أن يقوم مركز أستراليا الطبي بإجراء عملية التقشير. أقر بأنني أبلغت أن هذا الإجراء التجميلي يهدف إلى إزالة الطبقات السطحية من الجلد لتحسين حيوية الجلد.</li>");
            sb.Append("<li>التقشير ، على الرغم من ارتفاع مستويات الفعالية والأمان ، لا يخلو من الآثار الجانبية. يمكن أن يحدث احمرار ووذمة (تورم) في المنطقة المعالجة ولكنها عادة ما تنحسر في غضون ساعات قليلة ولكن يمكن أن تستمر حتى سبعة أيام أو أكثر. قد يحدث تهيج أو حكة أو إحساس خفيف بالحرقان أو ألم مماثل لحروق الشمس في غضون 48 ساعة من العلاج.</li>");
            sb.Append("<li>من المهم استخدام واقي من الشمس بعامل حماية 25 أو أكثر عند التعرض للشمس.</li>");
            sb.Append("<li>أفهم أن المضاعفات يمكن أن تشمل الرؤوس البيضاء ، القروح الباردة ، العدوى ، التندب ، الخدر وتغير اللون الدائم ، خاصة في الأشخاص ذوي البشرة الداكنة.</li>");
            sb.Append("<li>لم يتم تقديم أي ضمان لي بشأن النتائج التي يمكن الحصول عليها. إنني أدرك أن علاجات المتابعة قد تكون ضرورية لتحقيق النتائج المرجوة. يحتاج معظم المرضى إلى عدد من العلاجات على مدى عدة أشهر مع حدوث نتائج تدريجية خلال هذا الوقت. ستختلف النتائج السريرية لكل مريض. أوافق على الالتزام بجميع احتياطات وأنظمة السلامة أثناء العلاج. لن يتم استرداد الأموال للعلاجات المستلمة.</li>");
            sb.Append("<li>لقد قرأت وفهمت تعليمات ما قبل وبعد العلاج. أوافق على اتباع هذه التعليمات بعناية.</li>");
            sb.Append("</ol>");
            sb.Append("</p>");
            sb.Append("<p>أفهم وأوافق على أن جميع الخدمات المقدمة لي يتم تحصيلها مني مباشرةً وأنني مسؤول شخصياً عن الدفع.</p>");
            sb.Append("<p>قد قرأت وفهمت هذه الاتفاقية. تم الرد على جميع أسئلتي بشكل يرضي وأوافق على شروط هذه الاتفاقية.</p>");
            sb.Append("<p>لقد تم شرح لي طرق العلاج البديلة ومخاطرها وفوائدها ، وأنا أفهم أن لدي الحق في رفض العلاج.</p>");
            sb.Append("<p>ملاحظة: جميع الأسعار قابلة للتغيير دون إشعار مسبق</p>");

            sb.Append("</div>");

            sb.Append("    <table dir='rtl' style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;'  colspan='3'>");
            sb.Append("            <p>قم بالتوقيع هنا فقط إذا تمت الموافقة على جميع الأسئلة</p>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("            مريض");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 34%;'>");
            sb.Append("            شاهد");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("            طبيب");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-left:1px solid #000000'>");
            sb.Append("            <img src='" + psign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-left:1px solid #000000'>");
            sb.Append("            <img src='" + wsign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;'>");
            sb.Append("            <img src='" + emr.doc_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000;border-top:1px solid #000000; width: 33%;'>");
            sb.Append("            اسم المريض");
            sb.Append("             <br/>" + emr.pat_name + "<br/>");
            sb.Append("<br/>تاريخ<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000;border-top:1px solid #000000; width: 34%;'>");
            sb.Append("            اسم الشاهد");
            sb.Append("             <br/>" + pdf.cpfa_1);
            sb.Append("<br/><br/>تاريخ<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("        <td dir='ltr' style='text-align: center;padding: 10px;border-top:1px solid #000000; width: 33%;'>");
            sb.Append("            " + emr.app_doctor_department + "<br/>");
            sb.Append("<br/>تاريخ<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("</table>");

            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + footer + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");
            sb.Append("    </body>");
            sb.Append("</html>");

            String htmlString = sb.ToString();

            return htmlString;
        }

        //Ophthalmology Forms
        //Informed Consent For CCl English
        public static string HtmlCclEnglish(int appId, EMRInfo emr, int setId)
        {
            BusinessEntities.ConsentForms.CclEnglish pdf = BusinessLogicLayer.ConsentForms.CclEnglish.GetCclEnglishData(appId).FirstOrDefault();
            BusinessEntities.Common.eSignature psign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "patient", "CclEnglish").FirstOrDefault();
            BusinessEntities.Common.eSignature wsign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "witness", "CclEnglish").FirstOrDefault();
            BusinessEntities.Common.PDFHeaderFooter hf = BusinessLogicLayer.Common.PDF.GetHeaderFooterByBranch(setId);

            string header = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "header_images", hf.header.ToString());
            string footer = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "footer_images", hf.footer.ToString());

            StringBuilder sb = new StringBuilder();


            sb.Append("<html>");
            sb.Append("    <head><title> <u>Informed Consent For Corneal Collagen Cross Link</u></title></head>");
            sb.Append("    <body style='font-family: Verdana, Geneva, Tahoma, sans-serif;'>");

            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + header + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000' colspan='9'>");
            sb.Append("            <h1>Informed Consent For Corneal Collagen Cross Link</h1>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Patient Name</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000' colspan='4'>" + emr.pat_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Emirates ID</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_emirateid + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>File No</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_code + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>DOB</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_dob + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Nationality</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_nationality + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Gender</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_gender + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Doctor's Name</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.doc_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Date</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.app_fdate + "</td>");
            sb.Append("    </tr>");
            sb.Append("</table>");

            sb.Append("<div style='width:100%; text-align:justify; font-size: 12px; margin-top: 50px;margin-bottom: 50px;'>");

            sb.Append("<p> I, the undersignee " + emr.pat_name + " with file number " + emr.pat_code + ", acknowledge that I have been informed with the following:</p>");
            sb.Append("<p><ul>");
            sb.Append("<li>Corneal Collagen Cross Linking is not a form of refractive surgery and there is a possibility that I may need glasses or contact lenses after the procedure.</li>");
            sb.Append("<li>As with all types of surgery there is a risk of complications which include but are not limited to glare, a star bursting or halo effect, especially while driving at night.</li>");
            sb.Append("</ul></p>");
            sb.Append("<p>By signing this informed consent, I certify that I have read the preceding information and understand the content. The details of the procedure have been presented and explained to me by my Ophthalmologist. My Ophthalmologist has answered all my questions to my satisfaction and has discussed the risks, benefits, and alternatives of the procedure.</p>");
            sb.Append("<p>Hereby, I authorize my Doctor to perform Corneal Collagen Cross Linking procedure on my " + pdf.cef_1 + " eye/s under local anesthesia:</p>");

            sb.Append("</div>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;'  colspan='3'>");
            sb.Append("            <p>Sign here, only if all of your questions have been answered to your satisfaction</p>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("             Patient");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 34%;'>");
            sb.Append("            Witness");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("            Doctor");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000'>");
            sb.Append("            <img src='" + psign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000'>");
            sb.Append("            <img src='" + wsign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;'>");
            sb.Append("            <img src='" + emr.doc_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000;border-top:1px solid #000000;'>");
            sb.Append("            Patient Name");
            sb.Append("             <br/>" + emr.pat_name);
            sb.Append("</br><br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000;border-top:1px solid #000000;'>");
            sb.Append("            Witness Name");
            sb.Append("             <br/>" + pdf.cef_2);
            sb.Append("</br><br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-top:1px solid #000000;'>");
            sb.Append("           Doctor Name<br/>");
            sb.Append("            " + emr.app_doctor_department + "<br/>");
            sb.Append("<br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("</table>");
            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + footer + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    </body>");
            sb.Append("</html>");

            String htmlString = sb.ToString();

            return htmlString;
        }

        //Informed Consent For Enhancement Procedure
        public static string HtmlEnhancementProcedure(int appId, EMRInfo emr, int setId)
        {
            BusinessEntities.ConsentForms.EnhancementProcedure pdf = BusinessLogicLayer.ConsentForms.EnhancementProcedure.GetEnhancementProcedureData(appId).FirstOrDefault();
            BusinessEntities.Common.eSignature psign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "patient", "EnhancementProcedure").FirstOrDefault();
            BusinessEntities.Common.eSignature wsign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "witness", "EnhancementProcedure").FirstOrDefault();
            BusinessEntities.Common.PDFHeaderFooter hf = BusinessLogicLayer.Common.PDF.GetHeaderFooterByBranch(setId);

            string header = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "header_images", hf.header.ToString());
            string footer = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "footer_images", hf.footer.ToString());

            StringBuilder sb = new StringBuilder();


            sb.Append("<html>");
            sb.Append("    <head><title> <u>Informed Consent For Enhancement Procedure</u></title></head>");
            sb.Append("    <body style='font-family: Verdana, Geneva, Tahoma, sans-serif;'>");

            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + header + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000' colspan='9'>");
            sb.Append("            <h1>Informed Consent For Enhancement Procedure</h1>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Patient Name</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000' colspan='4'>" + emr.pat_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Emirates ID</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_emirateid + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>File No</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_code + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>DOB</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_dob + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Nationality</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_nationality + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Gender</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_gender + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Doctor's Name</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.doc_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Date</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.app_fdate + "</td>");
            sb.Append("    </tr>");
            sb.Append("</table>");

            sb.Append("<div style='width:100%; text-align:justify; font-size: 12px; margin-top: 50px;margin-bottom: 50px;'>");

            sb.Append("<p> I, the undersignee " + emr.pat_name + " with file number " + emr.pat_code + ", acknowledge that I have been informed with the following:</p>");
            sb.Append("<p><ul>");
            sb.Append("<li>Retreatment are at times indicated to correct remaining or induced myopia (nearsightedness), hyperopia (farsightedness), and astigmatism. There is no guarantee that repeat Lasik will correct the problem. Alternative forms of vision correction exist including eyeglasses, contact lenses and others.</li>");
            sb.Append("<li>Repeat Lasik may result in overcorrection and under correction leaving patients nearsighted, farsighted, or with astigmatism.</li>");
            sb.Append("<li>I might develop glare, a star bursting or halo effect around light, especially at night.</li>");
            sb.Append("<li>I might develop epithelial ingrowth which is a complication produced when epithelial surface cells grow underneath the corneal flap during the healing of the corneal flap incision.</li>");
            sb.Append("<li>I might develop Keratoconus (Post Lasik Ectasia) which might necessitate corneal cross linking in the future.</li>");
            sb.Append("</ul></p>");
            sb.Append("<p>By signing this informed consent form, I certify that I have read the preceding information and understand the content. The details of the procedure have been presented and explained to me by my Ophthalmologist. My Ophthalmologist has answered all my questions to my satisfaction and has discussed the risks, benefits, and alternatives of the procedure.</p>");
            sb.Append("<p>Hereby, I authorize my Doctor to perform The Enhancement procedure on my " + pdf.cep_1 + " eye/s under local anesthesia:</p>");

            sb.Append("</div>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;'  colspan='3'>");
            sb.Append("            <p>Sign here, only if all of your questions have been answered to your satisfaction</p>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("             Patient");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 34%;'>");
            sb.Append("            Witness");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("            Doctor");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000'>");
            sb.Append("            <img src='" + psign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000'>");
            sb.Append("            <img src='" + wsign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;'>");
            sb.Append("            <img src='" + emr.doc_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000;border-top:1px solid #000000;'>");
            sb.Append("            Patient Name");
            sb.Append("             <br/>" + emr.pat_name);
            sb.Append("</br><br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000;border-top:1px solid #000000;'>");
            sb.Append("            Witness Name");
            sb.Append("             <br/>" + pdf.cep_2);
            sb.Append("</br><br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-top:1px solid #000000;'>");
            sb.Append("           Doctor Name<br/>");
            sb.Append("            " + emr.app_doctor_department + "<br/>");
            sb.Append("<br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("</table>");
            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + footer + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    </body>");
            sb.Append("</html>");

            String htmlString = sb.ToString();

            return htmlString;
        }

        //Informed Consent For Eylea Injection
        public static string HtmlEyleaInjection(int appId, EMRInfo emr, int setId)
        {
            BusinessEntities.ConsentForms.EyleaInjection pdf = BusinessLogicLayer.ConsentForms.EyleaInjection.GetEyleaInjectionData(appId).FirstOrDefault();
            BusinessEntities.Common.eSignature psign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "patient", "EyleaInjection").FirstOrDefault();
            BusinessEntities.Common.eSignature wsign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "witness", "EyleaInjection").FirstOrDefault();
            BusinessEntities.Common.PDFHeaderFooter hf = BusinessLogicLayer.Common.PDF.GetHeaderFooterByBranch(setId);

            string header = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "header_images", hf.header.ToString());
            string footer = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "footer_images", hf.footer.ToString());

            StringBuilder sb = new StringBuilder();


            sb.Append("<html>");
            sb.Append("    <head><title> <u> Informed Consent For Intravitreal Eylea Injection Procedure</u></title></head>");
            sb.Append("    <body style='font-family: Verdana, Geneva, Tahoma, sans-serif;'>");

            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + header + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000' colspan='9'>");
            sb.Append("            <h1> Informed Consent For Intravitreal Eylea Injection Procedure</h1>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Patient Name</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000' colspan='4'>" + emr.pat_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Emirates ID</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_emirateid + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>File No</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_code + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>DOB</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_dob + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Nationality</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_nationality + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Gender</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_gender + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Doctor's Name</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.doc_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Date</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.app_fdate + "</td>");
            sb.Append("    </tr>");
            sb.Append("</table>");

            sb.Append("<div style='width:100%; text-align:justify; font-size: 12px; margin-top: 50px;margin-bottom: 50px;'>");

            sb.Append("<p> I, the undersignee " + emr.pat_name + " with file number " + emr.pat_code + ", acknowledge that I have been informed with the following:</p>");
            sb.Append("<p><ul>");
            sb.Append("<li>The goal of the treatment is to prevent further loss of vision. Although many patients have regained vision, the medication may not restore vision that has been lost and may not ultimately prevent further loss of vision</li>");
            sb.Append("<li>Possible complications and side effects of the procedure include but are not limited to retinal detachment and bleeding. There is also a possibility of an eye infection (Endophthalmitis).</li>");
            sb.Append("<li>As with all types of surgeries, there is a possibility of complications due to anesthesia, drug reaction, or others.</li>");
            sb.Append("</ul></p>");
            sb.Append("<p>The above explanation has been read by/to me. The nature of my eye condition has been fully explained and the proposed treatment has been discussed. The risks, benefits, alternatives, and limitations of the treatment have been discussed with me. All my questions have been answered</p>");
            sb.Append("<p>Hereby, I authorize my Doctor to administer Intravitreal Eylea Injection in my " + pdf.iei_1 + " eye/s under local anesthesia at regular intervals as needed:</p>");

            sb.Append("</div>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;'  colspan='3'>");
            sb.Append("            <p>Sign here, only if all of your questions have been answered to your satisfaction</p>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("             Patient");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 34%;'>");
            sb.Append("            Witness");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("            Doctor");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000'>");
            sb.Append("            <img src='" + psign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000'>");
            sb.Append("            <img src='" + wsign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;'>");
            sb.Append("            <img src='" + emr.doc_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000;border-top:1px solid #000000;'>");
            sb.Append("            Patient Name");
            sb.Append("             <br/>" + emr.pat_name);
            sb.Append("</br><br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000;border-top:1px solid #000000;'>");
            sb.Append("            Witness Name");
            sb.Append("             <br/>" + pdf.iei_2);
            sb.Append("</br><br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-top:1px solid #000000;'>");
            sb.Append("           Doctor Name<br/>");
            sb.Append("            " + emr.app_doctor_department + "<br/>");
            sb.Append("<br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("</table>");
            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + footer + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    </body>");
            sb.Append("</html>");

            String htmlString = sb.ToString();

            return htmlString;
        }

        //Informed Consent For Lasik Procedure
        public static string HtmlLasikProcedure(int appId, EMRInfo emr, int setId)
        {
            BusinessEntities.ConsentForms.LasikProcedure pdf = BusinessLogicLayer.ConsentForms.LasikProcedure.GetLasikProcedureData(appId).FirstOrDefault();
            BusinessEntities.Common.eSignature psign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "patient", "LasikProcedure").FirstOrDefault();
            BusinessEntities.Common.eSignature wsign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "witness", "LasikProcedure").FirstOrDefault();
            BusinessEntities.Common.PDFHeaderFooter hf = BusinessLogicLayer.Common.PDF.GetHeaderFooterByBranch(setId);

            string header = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "header_images", hf.header.ToString());
            string footer = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "footer_images", hf.footer.ToString());

            StringBuilder sb = new StringBuilder();


            sb.Append("<html>");
            sb.Append("    <head><title> <u>Informed Consent For Lasik/Lasek Procedure</u></title></head>");
            sb.Append("    <body style='font-family: Verdana, Geneva, Tahoma, sans-serif;'>");

            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + header + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000' colspan='9'>");
            sb.Append("            <h1>Informed Consent For Lasik/Lasek Procedure</h1>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Patient Name</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000' colspan='4'>" + emr.pat_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Emirates ID</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_emirateid + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>File No</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_code + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>DOB</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_dob + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Nationality</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_nationality + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Gender</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_gender + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Doctor's Name</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.doc_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Date</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.app_fdate + "</td>");
            sb.Append("    </tr>");
            sb.Append("</table>");

            sb.Append("<div style='width:100%; text-align:justify; font-size: 12px; margin-top: 50px;margin-bottom: 50px;'>");

            sb.Append("<p> I, the undersignee " + emr.pat_name + " with file number " + emr.pat_code + ", acknowledge that I have been informed with the following:</p>");
            sb.Append("<p><ul>");
            sb.Append("<li>I may not get a full correction from my procedure and this may require further retreatment procedures.</li>");
            sb.Append("<li>I might develop glare, a star bursting or halo effect, especially while driving at night.</li>");
            sb.Append("<li>Keratoconus (Post Lasik Ectasia) is a possible complication which might necessitate Corneal Collagen Cross Linking in the future.</li>");
            sb.Append("</ul></p>");
            sb.Append("<p>By signing this informed consent form, I certify that I have read the preceding information and understand the content. The details of the procedure have been presented and explained to me by my Ophthalmologist. My Ophthalmologist has answered all my questions to my satisfaction and has discussed the risks, benefits, and alternatives of the procedure.</p>");
            sb.Append("<p>Hereby, I authorize my Doctor to perform the Lasik/Lasek procedure on my " + pdf.lpf_1 + " eye/s under local anesthesia :</p>");

            sb.Append("</div>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;'  colspan='3'>");
            sb.Append("            <p>Sign here, only if all of your questions have been answered to your satisfaction</p>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("             Patient");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 34%;'>");
            sb.Append("            Witness");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("            Doctor");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000'>");
            sb.Append("            <img src='" + psign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000'>");
            sb.Append("            <img src='" + wsign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;'>");
            sb.Append("            <img src='" + emr.doc_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000;border-top:1px solid #000000;'>");
            sb.Append("            Patient Name");
            sb.Append("             <br/>" + emr.pat_name);
            sb.Append("</br><br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000;border-top:1px solid #000000;'>");
            sb.Append("            Witness Name");
            sb.Append("             <br/>" + pdf.lpf_2);
            sb.Append("</br><br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-top:1px solid #000000;'>");
            sb.Append("           Doctor Name<br/>");
            sb.Append("            " + emr.app_doctor_department + "<br/>");
            sb.Append("<br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("</table>");
            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + footer + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    </body>");
            sb.Append("</html>");

            String htmlString = sb.ToString();

            return htmlString;
        }

        //Informed Consent For Lucentis Injection
        public static string HtmlLucentisInjection(int appId, EMRInfo emr, int setId)
        {
            BusinessEntities.ConsentForms.LucentisInjection pdf = BusinessLogicLayer.ConsentForms.LucentisInjection.GetLucentisInjectionData(appId).FirstOrDefault();
            BusinessEntities.Common.eSignature psign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "patient", "LucentisInjection").FirstOrDefault();
            BusinessEntities.Common.eSignature wsign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "witness", "LucentisInjection").FirstOrDefault();
            BusinessEntities.Common.PDFHeaderFooter hf = BusinessLogicLayer.Common.PDF.GetHeaderFooterByBranch(setId);

            string header = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "header_images", hf.header.ToString());
            string footer = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "footer_images", hf.footer.ToString());

            StringBuilder sb = new StringBuilder();


            sb.Append("<html>");
            sb.Append("    <head><title> <u> Informed Consent For Intravitreal Lucentis Injection Procedure</u></title></head>");
            sb.Append("    <body style='font-family: Verdana, Geneva, Tahoma, sans-serif;'>");

            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + header + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000' colspan='9'>");
            sb.Append("            <h1> Informed Consent For Intravitreal Lucentis Injection Procedure</h1>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Patient Name</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000' colspan='4'>" + emr.pat_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Emirates ID</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_emirateid + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>File No</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_code + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>DOB</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_dob + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Nationality</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_nationality + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Gender</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_gender + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Doctor's Name</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.doc_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Date</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.app_fdate + "</td>");
            sb.Append("    </tr>");
            sb.Append("</table>");

            sb.Append("<div style='width:100%; text-align:justify; font-size: 12px; margin-top: 50px;margin-bottom: 50px;'>");

            sb.Append("<p> I, the undersignee " + emr.pat_name + " with file number " + emr.pat_code + ", acknowledge that I have been informed with the following:</p>");
            sb.Append("<p><ul>");
            sb.Append("<li>The goal of the treatment is to prevent further loss of vision. Although many patients have regained vision, the medication may not restore vision that has been lost and may not ultimately prevent further loss of vision.</li>");
            sb.Append("<li>Possible complications and side effects of the procedure include but are not limited to retinal detachment and bleeding. There is also a possibility of an eye infection (Endophthalmitis).</li>");
            sb.Append("<li>As with all types of surgeries, there is a possibility of complications due to anesthesia, drug reaction, or others.</li>");
            sb.Append("</ul></p>");
            sb.Append("<p>he above explanation has been read by/to me. The nature of my eye condition has been fully explained and the proposed treatment has been discussed. The risks, benefits, alternatives, and limitations of the treatment have been discussed with me. All my questions have been answered.</p>");
            sb.Append("<p>Hereby, I authorize my Doctor to administer Intravitreal Lucentis Injection in my " + pdf.lip_1 + " eye/s under local anesthesia at regular intervals as needed:</p>");

            sb.Append("</div>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;'  colspan='3'>");
            sb.Append("            <p>Sign here, only if all of your questions have been answered to your satisfaction</p>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("             Patient");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 34%;'>");
            sb.Append("            Witness");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("            Doctor");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000'>");
            sb.Append("            <img src='" + psign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000'>");
            sb.Append("            <img src='" + wsign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;'>");
            sb.Append("            <img src='" + emr.doc_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000;border-top:1px solid #000000;'>");
            sb.Append("            Patient Name");
            sb.Append("             <br/>" + emr.pat_name);
            sb.Append("</br><br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000;border-top:1px solid #000000;'>");
            sb.Append("            Witness Name");
            sb.Append("             <br/>" + pdf.lip_2);
            sb.Append("</br><br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-top:1px solid #000000;'>");
            sb.Append("           Doctor Name<br/>");
            sb.Append("            " + emr.app_doctor_department + "<br/>");
            sb.Append("<br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("</table>");
            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + footer + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    </body>");
            sb.Append("</html>");

            String htmlString = sb.ToString();

            return htmlString;
        }


        //Lasik/Lasek (Monovision with Residual) Procedure
        public static string HtmlMonovisionResidual(int appId, EMRInfo emr, int setId)
        {
            BusinessEntities.ConsentForms.MonovisionResidual pdf = BusinessLogicLayer.ConsentForms.MonovisionResidual.GetMonovisionResidualData(appId).FirstOrDefault();
            BusinessEntities.Common.eSignature psign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "patient", "MonovisionResidual").FirstOrDefault();
            BusinessEntities.Common.eSignature wsign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "witness", "MonovisionResidual").FirstOrDefault();
            BusinessEntities.Common.PDFHeaderFooter hf = BusinessLogicLayer.Common.PDF.GetHeaderFooterByBranch(setId);

            string header = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "header_images", hf.header.ToString());
            string footer = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "footer_images", hf.footer.ToString());

            StringBuilder sb = new StringBuilder();


            sb.Append("<html>");
            sb.Append("    <head><title> <u>Informed Consent For Lasik/Lasek (Monovision with Residual) Procedure</u></title></head>");
            sb.Append("    <body style='font-family: Verdana, Geneva, Tahoma, sans-serif;'>");

            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + header + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000' colspan='9'>");
            sb.Append("            <h1>Informed Consent For Lasik/Lasek (Monovision with Residual) Procedure</h1>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Patient Name</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000' colspan='4'>" + emr.pat_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Emirates ID</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_emirateid + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>File No</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_code + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>DOB</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_dob + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Nationality</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_nationality + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Gender</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_gender + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Doctor's Name</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.doc_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Date</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.app_fdate + "</td>");
            sb.Append("    </tr>");
            sb.Append("</table>");

            sb.Append("<div style='width:100%; text-align:justify; font-size: 12px; margin-top: 50px;margin-bottom: 50px;'>");

            sb.Append("<p> I, the undersignee " + emr.pat_name + " with file number " + emr.pat_code + ", acknowledge that I have been informed with the following:</p>");
            sb.Append("<p><ul>");
            sb.Append("<li>I may not get a full correction from my procedure and this may require further retreatment procedures.</li>");
            sb.Append("<li>I might develop glare, a star bursting or halo effect, especially while driving at night.</li>");
            sb.Append("<li>Keratoconus (Post Lasik Ectasia) is a possible complication which might necessitate Corneal Collagen Cross Linking in the future</li>");
            sb.Append("<li>I may need glasses to refine my vision for some purposes including driving at night and other tasks that require fine detailed vision.</li>");
            sb.Append("<li>I received monovision contact lens trial prior to the procedure.</li>");
            sb.Append("</ul></p>");
            sb.Append("<p>Hereby, I authorize my Doctor to administer Intravitreal Eylea Injection in my " + pdf.mwr_1 + " eye/s under local anesthesia at regular intervals as needed:</p>");

            sb.Append("</div>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;'  colspan='3'>");
            sb.Append("            <p>Sign here, only if all of your questions have been answered to your satisfaction</p>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("             Patient");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 34%;'>");
            sb.Append("            Witness");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("            Doctor");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000'>");
            sb.Append("            <img src='" + psign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000'>");
            sb.Append("            <img src='" + wsign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;'>");
            sb.Append("            <img src='" + emr.doc_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000;border-top:1px solid #000000;'>");
            sb.Append("            Patient Name");
            sb.Append("             <br/>" + emr.pat_name);
            sb.Append("</br><br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000;border-top:1px solid #000000;'>");
            sb.Append("            Witness Name");
            sb.Append("             <br/>" + pdf.mwr_2);
            sb.Append("</br><br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-top:1px solid #000000;'>");
            sb.Append("           Doctor Name<br/>");
            sb.Append("            " + emr.app_doctor_department + "<br/>");
            sb.Append("<br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("</table>");
            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + footer + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    </body>");
            sb.Append("</html>");

            String htmlString = sb.ToString();

            return htmlString;
        }

        //Intravitreal Ozurdex Injection Procedure
        public static string HtmlOzurdexInjection(int appId, EMRInfo emr, int setId)
        {
            BusinessEntities.ConsentForms.OzurdexInjection pdf = BusinessLogicLayer.ConsentForms.OzurdexInjection.GetOzurdexInjectionData(appId).FirstOrDefault();
            BusinessEntities.Common.eSignature psign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "patient", "OzurdexInjection").FirstOrDefault();
            BusinessEntities.Common.eSignature wsign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "witness", "OzurdexInjection").FirstOrDefault();
            BusinessEntities.Common.PDFHeaderFooter hf = BusinessLogicLayer.Common.PDF.GetHeaderFooterByBranch(setId);

            string header = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "header_images", hf.header.ToString());
            string footer = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "footer_images", hf.footer.ToString());

            StringBuilder sb = new StringBuilder();


            sb.Append("<html>");
            sb.Append("    <head><title> <u>Informed Consent For Intravitreal Ozurdex Injection Procedure</u></title></head>");
            sb.Append("    <body style='font-family: Verdana, Geneva, Tahoma, sans-serif;'>");

            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + header + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000' colspan='9'>");
            sb.Append("            <h1>Informed Consent For Intravitreal Ozurdex Injection Procedure</h1>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Patient Name</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000' colspan='4'>" + emr.pat_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Emirates ID</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_emirateid + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>File No</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_code + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>DOB</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_dob + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Nationality</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_nationality + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Gender</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_gender + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Doctor's Name</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.doc_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Date</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.app_fdate + "</td>");
            sb.Append("    </tr>");
            sb.Append("</table>");

            sb.Append("<div style='width:100%; text-align:justify; font-size: 12px; margin-top: 50px;margin-bottom: 50px;'>");

            sb.Append("<p> I, the undersignee " + emr.pat_name + " with file number " + emr.pat_code + ", acknowledge that I have been informed with the following:</p>");
            sb.Append("<p><ul>");
            sb.Append("<li>The goal of the treatment is to prevent further loss of vision. Although many patients have regained vision, the medication may not restore vision that has been lost and may not ultimately prevent further loss of vision.</li>");
            sb.Append("<li>Possible complications and side effects of the procedure include but are not limited to retinal detachment and bleeding. There is also a possibility of an eye infection (Endophthalmitis).</li>");
            sb.Append("<li>As with all types of surgeries, there is a possibility of complications due to anesthesia, drug reaction, or others.</li>");
            sb.Append("</ul></p>");
            sb.Append("<p>The above explanation has been read by/to me. The nature of my eye condition has been fully explained and the proposed treatment has been discussed. The risks, benefits, alternatives, and limitations of the treatment have been discussed with me. All my questions have been answered.</p>");
            sb.Append("<p>Hereby, I authorize my Doctor to administer Intravitreal Ozurdex Injection in my " + pdf.oip_1 + " eye/s under local anesthesia at regular intervals as needed:</p>");

            sb.Append("</div>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;'  colspan='3'>");
            sb.Append("            <p>Sign here, only if all of your questions have been answered to your satisfaction</p>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("             Patient");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 34%;'>");
            sb.Append("            Witness");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("            Doctor");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000'>");
            sb.Append("            <img src='" + psign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000'>");
            sb.Append("            <img src='" + wsign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;'>");
            sb.Append("            <img src='" + emr.doc_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000;border-top:1px solid #000000;'>");
            sb.Append("            Patient Name");
            sb.Append("             <br/>" + emr.pat_name);
            sb.Append("</br><br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000;border-top:1px solid #000000;'>");
            sb.Append("            Witness Name");
            sb.Append("             <br/>" + pdf.oip_2);
            sb.Append("</br><br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-top:1px solid #000000;'>");
            sb.Append("           Doctor Name<br/>");
            sb.Append("            " + emr.app_doctor_department + "<br/>");
            sb.Append("<br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("</table>");
            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + footer + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    </body>");
            sb.Append("</html>");

            String htmlString = sb.ToString();

            return htmlString;
        }

        //Informed Consent For Pars Plana Vitrectomy Procedure
        public static string HtmlParsPlana(int appId, EMRInfo emr, int setId)
        {
            BusinessEntities.ConsentForms.ParsPlana pdf = BusinessLogicLayer.ConsentForms.ParsPlana.GetParsPlanaData(appId).FirstOrDefault();
            BusinessEntities.Common.eSignature psign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "patient", "ParsPlana").FirstOrDefault();
            BusinessEntities.Common.eSignature wsign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "witness", "ParsPlana").FirstOrDefault();
            BusinessEntities.Common.PDFHeaderFooter hf = BusinessLogicLayer.Common.PDF.GetHeaderFooterByBranch(setId);

            string header = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "header_images", hf.header.ToString());
            string footer = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "footer_images", hf.footer.ToString());

            StringBuilder sb = new StringBuilder();


            sb.Append("<html>");
            sb.Append("    <head><title> <u>Informed Consent For Pars Plana Vitrectomy Procedure</u></title></head>");
            sb.Append("    <body style='font-family: Verdana, Geneva, Tahoma, sans-serif;'>");

            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + header + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000' colspan='9'>");
            sb.Append("            <h1>Informed Consent For Pars Plana Vitrectomy Procedure</h1>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Patient Name</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000' colspan='4'>" + emr.pat_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Emirates ID</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_emirateid + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>File No</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_code + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>DOB</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_dob + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Nationality</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_nationality + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Gender</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_gender + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Doctor's Name</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.doc_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Date</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.app_fdate + "</td>");
            sb.Append("    </tr>");
            sb.Append("</table>");

            sb.Append("<div style='width:100%; text-align:justify; font-size: 12px; margin-top: 50px;margin-bottom: 50px;'>");

            sb.Append("<p> I, the undersignee " + emr.pat_name + " with file number " + emr.pat_code + ", acknowledge that I have been informed with the following:</p>");
            sb.Append("<p><ul>");
            sb.Append("<li>There is no guarantee that the surgery will improve my vision.</li>");
            sb.Append("<li>Complications can happen right away or not until days, months, or years later. More treatment or surgery may be required to treat the complications.</li>");
            sb.Append("<li>The complications include but are not limited to retinal detachment, cataract formation, bleeding, or an eye infection (Endophthalmitis).</li>");
            sb.Append("<li>The procedure is performed under local anesthesia. General anesthesia may be used instead in some cases. This will be decided in collaboration with the anesthesiologist.</li>");
            sb.Append("</ul></p>");
            sb.Append("<p>By signing this informed consent form, I certify that I have read the preceding information and understand the content. The details of the procedure have been presented and explained to me by my Ophthalmologist. My Ophthalmologist has answered all my questions to my satisfaction and has discussed the risks, benefits, and alternatives of the procedure.</p>");
            sb.Append("<p>Hereby, I authorize my Doctor to perform Pars Plana Vitrectomy on my " + pdf.ppv_1 + " eye/s under local anesthesia:</p>");

            sb.Append("</div>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;'  colspan='3'>");
            sb.Append("            <p>Sign here, only if all of your questions have been answered to your satisfaction</p>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("             Patient");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 34%;'>");
            sb.Append("            Witness");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("            Doctor");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000'>");
            sb.Append("            <img src='" + psign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000'>");
            sb.Append("            <img src='" + wsign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;'>");
            sb.Append("            <img src='" + emr.doc_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000;border-top:1px solid #000000;'>");
            sb.Append("            Patient Name");
            sb.Append("             <br/>" + emr.pat_name);
            sb.Append("</br><br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000;border-top:1px solid #000000;'>");
            sb.Append("            Witness Name");
            sb.Append("             <br/>" + pdf.ppv_2);
            sb.Append("</br><br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-top:1px solid #000000;'>");
            sb.Append("           Doctor Name<br/>");
            sb.Append("            " + emr.app_doctor_department + "<br/>");
            sb.Append("<br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("</table>");
            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + footer + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    </body>");
            sb.Append("</html>");

            String htmlString = sb.ToString();

            return htmlString;
        }

        //Informed Consent For Phacoemulsification + Intraocular Lens Procedure
        public static string HtmlIntraocularLens(int appId, EMRInfo emr, int setId)
        {
            BusinessEntities.ConsentForms.IntraocularLens pdf = BusinessLogicLayer.ConsentForms.IntraocularLens.GetIntraocularLensData(appId).FirstOrDefault();
            BusinessEntities.Common.eSignature psign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "patient", "IntraocularLens").FirstOrDefault();
            BusinessEntities.Common.eSignature wsign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "witness", "IntraocularLens").FirstOrDefault();
            BusinessEntities.Common.PDFHeaderFooter hf = BusinessLogicLayer.Common.PDF.GetHeaderFooterByBranch(setId);

            string header = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "header_images", hf.header.ToString());
            string footer = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "footer_images", hf.footer.ToString());

            StringBuilder sb = new StringBuilder();


            sb.Append("<html>");
            sb.Append("    <head><title> <u>Informed Consent For Phacoemulsification + Intraocular Lens Procedure</u></title></head>");
            sb.Append("    <body style='font-family: Verdana, Geneva, Tahoma, sans-serif;'>");

            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + header + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000' colspan='9'>");
            sb.Append("            <h1>Informed Consent For Phacoemulsification + Intraocular Lens Procedure</h1>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Patient Name</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000' colspan='4'>" + emr.pat_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Emirates ID</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_emirateid + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>File No</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_code + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>DOB</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_dob + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Nationality</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_nationality + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Gender</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_gender + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Doctor's Name</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.doc_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Date</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.app_fdate + "</td>");
            sb.Append("    </tr>");
            sb.Append("</table>");

            sb.Append("<div style='width:100%; text-align:justify; font-size: 12px; margin-top: 50px;margin-bottom: 50px;'>");

            sb.Append("<p> I, the undersignee " + emr.pat_name + " with file number " + emr.pat_code + ", acknowledge that I have been informed with the following:</p>");
            sb.Append("<p><ul>");
            sb.Append("<li>As with all types of surgery, there is a possibility of complication due to anesthesia drug reaction or others.</li>");
            sb.Append("<li>The complications include but are not limited to retinal detachment, dropped crystalline lens, or an eye infection (Endophthalmitis).</li>");
            sb.Append("<li>The procedure is performed under local anesthesia. General anesthesia may be used instead in some cases. This will be decided in collaboration with the anesthesiologist.</li>");
            sb.Append("</ul></p>");
            sb.Append("<p>By signing this informed consent form, I certify that I have read the preceding information and understand the content. The details of the procedure have been presented and explained to me by my Ophthalmologist. My Ophthalmologist has answered all my questions to my satisfaction and has discussed the risks, benefits, and alternatives of the procedure.</p>");
            sb.Append("<p>Hereby, I authorize my Doctor to perform Phacoemulsification + Intraocular lens procedure on my " + pdf.ilp_1 + " eye/s:</p>");

            sb.Append("</div>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;'  colspan='3'>");
            sb.Append("            <p>Sign here, only if all of your questions have been answered to your satisfaction</p>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("             Patient");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 34%;'>");
            sb.Append("            Witness");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("            Doctor");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000'>");
            sb.Append("            <img src='" + psign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000'>");
            sb.Append("            <img src='" + wsign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;'>");
            sb.Append("            <img src='" + emr.doc_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000;border-top:1px solid #000000;'>");
            sb.Append("            Patient Name");
            sb.Append("             <br/>" + emr.pat_name);
            sb.Append("</br><br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000;border-top:1px solid #000000;'>");
            sb.Append("            Witness Name");
            sb.Append("             <br/>" + pdf.ilp_2);
            sb.Append("</br><br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-top:1px solid #000000;'>");
            sb.Append("           Doctor Name<br/>");
            sb.Append("            " + emr.app_doctor_department + "<br/>");
            sb.Append("<br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("</table>");
            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + footer + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    </body>");
            sb.Append("</html>");

            String htmlString = sb.ToString();

            return htmlString;
        }

        //Informed Consent For Surgical Act
        public static string HtmlSurgicalAct(int appId, EMRInfo emr, int setId)
        {
            BusinessEntities.ConsentForms.SurgicalAct pdf = BusinessLogicLayer.ConsentForms.SurgicalAct.GetSurgicalActData(appId).FirstOrDefault();
            BusinessEntities.Common.eSignature psign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "patient", "SurgicalAct").FirstOrDefault();
            BusinessEntities.Common.eSignature wsign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "witness", "SurgicalAct").FirstOrDefault();
            BusinessEntities.Common.PDFHeaderFooter hf = BusinessLogicLayer.Common.PDF.GetHeaderFooterByBranch(setId);

            string header = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "header_images", hf.header.ToString());
            string footer = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "footer_images", hf.footer.ToString());

            StringBuilder sb = new StringBuilder();


            sb.Append("<html>");
            sb.Append("    <head><title> <u>Informed Consent For Surgical Act</u></title></head>");
            sb.Append("    <body style='font-family: Verdana, Geneva, Tahoma, sans-serif;'>");

            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + header + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000' colspan='9'>");
            sb.Append("            <h1>Informed Consent For Surgical Act</h1>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Patient Name</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000' colspan='4'>" + emr.pat_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Emirates ID</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_emirateid + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>File No</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_code + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>DOB</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_dob + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Nationality</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_nationality + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Gender</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_gender + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Doctor's Name</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.doc_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Date</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.app_fdate + "</td>");
            sb.Append("    </tr>");
            sb.Append("</table>");

            sb.Append("<div style='width:100%; text-align:justify; font-size: 12px; margin-top: 50px;margin-bottom: 50px;'>");

            sb.Append("<p>I, the undersignee " + emr.pat_name + " with file number  " + emr.pat_code + ", agree that the eye surgeon, " + emr.doc_name + " perform " + pdf.saf_1 + " surgery on my " + pdf.saf_3 + " eye (s) or any additional act necessary for my condition under " + pdf.saf_4 + " anesthesia or any other type of anesthesia necessary for my safety after consulting the anesthesiologist.</p>");
            sb.Append("<p>I admit that the doctor has explained to me the nature of the procedure and its possible complications in the near or far future, that he has explained to me the consequences of not undergoing the procedure, and that he discussed with me the possible alternative procedures.</p>");
            sb.Append("<p>I also admit that he gave me the chance to ask questions and he answered me to the best of his knowledge and expertise within his specialty.</p>");
            sb.Append("<p>I am fully aware that any medical procedure has its own complications and side effects that may happen during or after the said procedure and that no medical intervention is guaranteed 100%.</p>");

            sb.Append("</div>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;'  colspan='3'>");
            sb.Append("            <p>Sign here, only if all of your questions have been answered to your satisfaction</p>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("             Patient");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 34%;'>");
            sb.Append("            Witness");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("            Doctor");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000'>");
            sb.Append("            <img src='" + psign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000'>");
            sb.Append("            <img src='" + wsign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;'>");
            sb.Append("            <img src='" + emr.doc_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000;border-top:1px solid #000000;'>");
            sb.Append("            Patient Name");
            sb.Append("             <br/>" + emr.pat_name);
            sb.Append("</br><br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000;border-top:1px solid #000000;'>");
            sb.Append("            Witness Name");
            sb.Append("             <br/>" + pdf.saf_2);
            sb.Append("</br><br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-top:1px solid #000000;'>");
            sb.Append("           Doctor Name<br/>");
            sb.Append("            " + emr.app_doctor_department + "<br/>");
            sb.Append("<br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("</table>");
            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + footer + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    </body>");
            sb.Append("</html>");

            String htmlString = sb.ToString();

            return htmlString;
        }

        //Blepharotomy And Drainage
        public static string HtmlBlepharotomyDrainage(int appId, EMRInfo emr, int setId)
        {
            BusinessEntities.ConsentForms.BlepharotomyDrainage pdf = BusinessLogicLayer.ConsentForms.BlepharotomyDrainage.GetBlepharotomyDrainageData(appId).FirstOrDefault();
            BusinessEntities.Common.eSignature psign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "patient", "BlepharotomyDrainage").FirstOrDefault();
            BusinessEntities.Common.eSignature wsign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "witness", "BlepharotomyDrainage").FirstOrDefault();
            BusinessEntities.Common.PDFHeaderFooter hf = BusinessLogicLayer.Common.PDF.GetHeaderFooterByBranch(setId);

            string header = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "header_images", hf.header.ToString());
            string footer = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "footer_images", hf.footer.ToString());

            StringBuilder sb = new StringBuilder();


            sb.Append("<html>");
            sb.Append("    <head><title> <u>Informed Consent For Surgical Act</u></title></head>");
            sb.Append("    <body style='font-family: Verdana, Geneva, Tahoma, sans-serif;'>");

            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + header + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000' colspan='9'>");
            sb.Append("            <h1>Informed Consent For Surgical Act</h1>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Patient Name</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000' colspan='4'>" + emr.pat_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Emirates ID</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_emirateid + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>File No</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_code + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>DOB</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_dob + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Nationality</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_nationality + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Gender</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_gender + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Doctor's Name</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.doc_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Date</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.app_fdate + "</td>");
            sb.Append("    </tr>");
            sb.Append("</table>");

            sb.Append("<div style='width:100%; text-align:justify; font-size: 12px; margin-top: 50px;margin-bottom: 50px;'>");

            sb.Append("<p>NAME : " + emr.pat_name + "</p>");
            sb.Append("<p>MR NUMBER : " + emr.pat_code + "</p>");
            sb.Append("<p style='font-size: 30px; margin-top: 20px;margin-bottom: 20px;'><center><h3>BLEPHAROTOMY AND DRAINAGE OF ABSCESS</h3></center></p>");
            sb.Append("<p style='font-size: 10px;'>EXCISION OF CHALAZION DONE UNDER LA UNDER STRICT ASEPTIC PRECAUTIONS ON " + emr.app_fdate + " BY " + emr.doc_name + ".</p>");
            sb.Append("</div>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;'  colspan='2'>");
            sb.Append("            <p>Sign here, only if all of your questions have been answered to your satisfaction</p>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("             Patient");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("            Doctor");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000'>");
            sb.Append("            <img src='" + psign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;'>");
            sb.Append("            <img src='" + emr.doc_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000;border-top:1px solid #000000;'>");
            sb.Append("            Patient Name");
            sb.Append("             <br/>" + emr.pat_name);
            sb.Append("</br><br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-top:1px solid #000000;'>");
            sb.Append("           Doctor Name<br/>");
            sb.Append("            " + emr.app_doctor_department + "<br/>");
            sb.Append("<br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("</table>");
            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + footer + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    </body>");
            sb.Append("</html>");

            String htmlString = sb.ToString();

            return htmlString;
        }

        //Excision Of Multiple Chalazion
        public static string HtmlExcisionMultiple(int appId, EMRInfo emr, int setId)
        {
            BusinessEntities.ConsentForms.ExcisionMultiple pdf = BusinessLogicLayer.ConsentForms.ExcisionMultiple.GetExcisionMultipleData(appId).FirstOrDefault();
            BusinessEntities.Common.eSignature psign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "patient", "ExcisionMultiple").FirstOrDefault();
            BusinessEntities.Common.eSignature wsign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "witness", "ExcisionMultiple").FirstOrDefault();
            BusinessEntities.Common.PDFHeaderFooter hf = BusinessLogicLayer.Common.PDF.GetHeaderFooterByBranch(setId);

            string header = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "header_images", hf.header.ToString());
            string footer = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "footer_images", hf.footer.ToString());

            StringBuilder sb = new StringBuilder();


            sb.Append("<html>");
            sb.Append("    <head><title> <u>Excision Of Multiple Chalazion</u></title></head>");
            sb.Append("    <body style='font-family: Verdana, Geneva, Tahoma, sans-serif;'>");

            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + header + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000' colspan='9'>");
            sb.Append("            <h1>Excision Of Multiple Chalazion</h1>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Patient Name</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000' colspan='4'>" + emr.pat_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Emirates ID</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_emirateid + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>File No</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_code + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>DOB</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_dob + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Nationality</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_nationality + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Gender</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_gender + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Doctor's Name</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.doc_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Date</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.app_fdate + "</td>");
            sb.Append("    </tr>");
            sb.Append("</table>");

            sb.Append("<div style='width:100%; text-align:justify; font-size: 12px; margin-top: 50px;margin-bottom: 50px;'>");

            sb.Append("<p>NAME : " + emr.pat_name + "</p>");
            sb.Append("<p>MR NUMBER : " + emr.pat_code + "</p>");
            sb.Append("<p style='font-size: 30px; margin-top: 20px;margin-bottom: 20px;'><center><h3>EXCISION OF MULTIPLE CHALAZION</h3></center></p>");
            sb.Append("<p style='font-size: 10px;'>EXCISION OF CHALAZION DONE UNDER LA UNDER STRICT ASEPTIC PRECAUTIONS ON " + emr.app_fdate + " BY " + emr.doc_name + ".</p>");
            sb.Append("</div>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;'  colspan='2'>");
            sb.Append("            <p>Sign here, only if all of your questions have been answered to your satisfaction</p>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("             Patient");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("            Doctor");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000'>");
            sb.Append("            <img src='" + psign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;'>");
            sb.Append("            <img src='" + emr.doc_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000;border-top:1px solid #000000;'>");
            sb.Append("            Patient Name");
            sb.Append("             <br/>" + emr.pat_name);
            sb.Append("</br><br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-top:1px solid #000000;'>");
            sb.Append("           Doctor Name<br/>");
            sb.Append("            " + emr.app_doctor_department + "<br/>");
            sb.Append("<br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("</table>");
            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + footer + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    </body>");
            sb.Append("</html>");

            String htmlString = sb.ToString();

            return htmlString;
        }

        //Consent Form For Excision Of Chalazion
        public static string HtmlConsentChalizion(int appId, EMRInfo emr, int setId)
        {
            BusinessEntities.ConsentForms.ConsentChalizion pdf = BusinessLogicLayer.ConsentForms.ConsentChalizion.GetConsentChalizionData(appId).FirstOrDefault();
            BusinessEntities.Common.eSignature psign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "patient", "ConsentChalizion").FirstOrDefault();
            BusinessEntities.Common.eSignature wsign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "witness", "ConsentChalizion").FirstOrDefault();
            BusinessEntities.Common.PDFHeaderFooter hf = BusinessLogicLayer.Common.PDF.GetHeaderFooterByBranch(setId);

            string header = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "header_images", hf.header.ToString());
            string footer = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "footer_images", hf.footer.ToString());

            StringBuilder sb = new StringBuilder();


            sb.Append("<html>");
            sb.Append("    <head><title> <u>Consent Form For Excision Of Chalazion</u></title></head>");
            sb.Append("    <body style='font-family: Verdana, Geneva, Tahoma, sans-serif;'>");

            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + header + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000' colspan='9'>");
            sb.Append("            <h1>Consent Form For Excision Of Chalazion</h1>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Patient Name</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000' colspan='4'>" + emr.pat_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Emirates ID</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_emirateid + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>File No</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_code + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>DOB</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_dob + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Nationality</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_nationality + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Gender</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_gender + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Doctor's Name</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.doc_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Date</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.app_fdate + "</td>");
            sb.Append("    </tr>");
            sb.Append("</table>");

            sb.Append("<div style='width:100%; text-align:justify; font-size: 12px; margin-top: 50px;margin-bottom: 50px;'>");

            sb.Append("<p>NAME : " + emr.pat_name + "</p>");
            sb.Append("<p>MR NUMBER : " + emr.pat_code + "</p>");
            sb.Append("<p style='font-size: 30px; margin-top: 20px;margin-bottom: 20px;'><center><h3>EXCISION OF MULTIPLE CHALAZION</h3></center></p>");
            sb.Append("<p><h5>CONDITION AND PROPOSED TREATMENT</h5></p>");
            sb.Append("<p>My ophthalmologist has evaluated me and diagnosed with a chalazion, which is a localized inflammatory response involving sebaceous glands of the eyelid that occurs when the gland duct is obstructed. A chalazion may resolve spontaneously or with warm compresses, lid scrubs, and lid massage. When there is no improvement, the chalazion may be incised and drained. After local anesthesia, a chalazion instrument is put in place and an incision is made in the inner aspect of the eyelid. The contents of the chalazion are then carefully drained with a curette followed by gentle pressure or heat to control any bleeding.</p>");
            sb.Append("<p><h5>RISKS AND COPMLICATIONS :</h5></p>");
            sb.Append("<p>No procedure is entirely risk free. Adverse effects from incision and drainage of chalazion may include:</p>");
            sb.Append("<p><ol>");
            sb.Append("<li>Infection - Infections can be treated with topical or oral antibiotics</li>");
            sb.Append("<li>Bleeding - Normally controlled with gentle pressure or heat cautery at the incision site.</li>");
            sb.Append("<li>Pain - Minimal and resolves with healing of incision.</li>");
            sb.Append("<li>Recurrence - Chalazion may recur if incomplete excision.</li>");
            sb.Append("<li>Loss of lashes in the involved area .</li>");
            sb.Append("<li>Eyelid notching in the area of the inflammation .</li>");
            sb.Append("<li>Damage to the globe from the scalpel, needle used to inject the anesthetic, or cautery instrument.</li>");
            sb.Append("<li>Vision loss, including blindness.</li>");
            sb.Append("</ol></p>");
            sb.Append("<p><h5>CONSENT FOR TREATMENT :</h5>By signing below I acknowledge that I have read and understand the above and have had my questions answered by the surgeon to my satisfaction. I consent to the incision and drainage of the chalazion.</p>");

            sb.Append("</div>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;'  colspan='2'>");
            sb.Append("            <p>Sign here, only if all of your questions have been answered to your satisfaction</p>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("             Patient");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("            Doctor");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000'>");
            sb.Append("            <img src='" + psign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;'>");
            sb.Append("            <img src='" + emr.doc_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000;border-top:1px solid #000000;'>");
            sb.Append("            Patient Name");
            sb.Append("             <br/>" + emr.pat_name);
            sb.Append("</br><br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-top:1px solid #000000;'>");
            sb.Append("           Doctor Name<br/>");
            sb.Append("            " + emr.app_doctor_department + "<br/>");
            sb.Append("<br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("</table>");
            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + footer + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    </body>");
            sb.Append("</html>");

            String htmlString = sb.ToString();

            return htmlString;
        }

        //Consent Form For Blephrotomy And Draiange Of Abscess
        public static string HtmlConsentBlephrotomy(int appId, EMRInfo emr, int setId)
        {
            BusinessEntities.ConsentForms.ConsentBlephrotomy pdf = BusinessLogicLayer.ConsentForms.ConsentBlephrotomy.GetConsentBlephrotomyData(appId).FirstOrDefault();
            BusinessEntities.Common.eSignature psign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "patient", "ConsentBlephrotomy").FirstOrDefault();
            BusinessEntities.Common.eSignature wsign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "witness", "ConsentBlephrotomy").FirstOrDefault();
            BusinessEntities.Common.PDFHeaderFooter hf = BusinessLogicLayer.Common.PDF.GetHeaderFooterByBranch(setId);

            string header = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "header_images", hf.header.ToString());
            string footer = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "footer_images", hf.footer.ToString());

            StringBuilder sb = new StringBuilder();


            sb.Append("<html>");
            sb.Append("    <head><title> <u>Consent Form For Blephrotomy And Draiange Of Abscess</u></title></head>");
            sb.Append("    <body style='font-family: Verdana, Geneva, Tahoma, sans-serif;'>");

            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + header + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000' colspan='9'>");
            sb.Append("            <h1>Consent Form For Blephrotomy And Draiange Of Abscess</h1>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Patient Name</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000' colspan='4'>" + emr.pat_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Emirates ID</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_emirateid + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>File No</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_code + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>DOB</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_dob + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Nationality</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_nationality + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Gender</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_gender + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Doctor's Name</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.doc_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Date</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.app_fdate + "</td>");
            sb.Append("    </tr>");
            sb.Append("</table>");

            sb.Append("<div style='width:100%; text-align:justify; font-size: 12px; margin-top: 50px;margin-bottom: 50px;'>");

            sb.Append("<p>NAME : " + emr.pat_name + "</p>");
            sb.Append("<p>MR NUMBER : " + emr.pat_code + "</p>");
            sb.Append("<p style='font-size: 30px; margin-top: 20px;margin-bottom: 20px;'><center><h3>CONSENT FORM FOR BLEPHROTOMY AND DRAIANGE OF ABSCESS</h3></center></p>");
            sb.Append("<p><h5>CONDITION AND PROPOSED TREATMENT</h5></p>");
            sb.Append("<p>My ophthalmologist has evaluated me and diagnosed with a chalazion, which is a localized inflammatory response involving sebaceous glands of the eyelid that occurs when the gland duct is obstructed. A chalazion may resolve spontaneously or with warm compresses, lid scrubs, and lid massage. When there is no improvement, the chalazion may be incised and drained. After local anesthesia, a chalazion instrument is put in place and an incision is made in the inner aspect of the eyelid. The contents of the chalazion are then carefully drained with a curette followed by gentle pressure or heat to control any bleeding.</p>");
            sb.Append("<p><h5>RISKS AND COPMLICATIONS :</h5></p>");
            sb.Append("<p>No procedure is entirely risk free. Adverse effects from incision and drainage of chalazion may include:</p>");
            sb.Append("<p><ol>");
            sb.Append("<li>Infection - Infections can be treated with topical or oral antibiotics</li>");
            sb.Append("<li>Bleeding - Normally controlled with gentle pressure or heat cautery at the incision site.</li>");
            sb.Append("<li>Pain - Minimal and resolves with healing of incision.</li>");
            sb.Append("<li>Recurrence - Chalazion may recur if incomplete excision.</li>");
            sb.Append("<li>Loss of lashes in the involved area .</li>");
            sb.Append("<li>Eyelid notching in the area of the inflammation .</li>");
            sb.Append("<li>Damage to the globe from the scalpel, needle used to inject the anesthetic, or cautery instrument.</li>");
            sb.Append("<li>Vision loss, including blindness.</li>");
            sb.Append("</ol></p>");
            sb.Append("<p><h5>CONSENT FOR TREATMENT :</h5>By signing below I acknowledge that I have read and understand the above and have had my questions answered by the surgeon to my satisfaction. I consent to the blepharotomy and drainage of the abscess.</p>");

            sb.Append("</div>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;'  colspan='2'>");
            sb.Append("            <p>Sign here, only if all of your questions have been answered to your satisfaction</p>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("             Patient");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("            Doctor");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000'>");
            sb.Append("            <img src='" + psign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;'>");
            sb.Append("            <img src='" + emr.doc_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000;border-top:1px solid #000000;'>");
            sb.Append("            Patient Name");
            sb.Append("             <br/>" + emr.pat_name);
            sb.Append("</br><br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-top:1px solid #000000;'>");
            sb.Append("           Doctor Name<br/>");
            sb.Append("            " + emr.app_doctor_department + "<br/>");
            sb.Append("<br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("</table>");
            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + footer + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    </body>");
            sb.Append("</html>");

            String htmlString = sb.ToString();

            return htmlString;
        }

        //Epilation Form
        public static string HtmlEpilationConsent(int appId, EMRInfo emr, int setId)
        {
            BusinessEntities.ConsentForms.EpilationConsent pdf = BusinessLogicLayer.ConsentForms.EpilationConsent.GetEpilationConsentData(appId).FirstOrDefault();
            BusinessEntities.Common.eSignature psign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "patient", "EpilationConsent").FirstOrDefault();
            BusinessEntities.Common.eSignature wsign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "witness", "EpilationConsent").FirstOrDefault();
            BusinessEntities.Common.PDFHeaderFooter hf = BusinessLogicLayer.Common.PDF.GetHeaderFooterByBranch(setId);

            string header = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "header_images", hf.header.ToString());
            string footer = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "footer_images", hf.footer.ToString());

            StringBuilder sb = new StringBuilder();


            sb.Append("<html>");
            sb.Append("    <head><title> <u>Epilation</u></title></head>");
            sb.Append("    <body style='font-family: Verdana, Geneva, Tahoma, sans-serif;'>");

            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + header + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000' colspan='9'>");
            sb.Append("            <h1>Epilation</h1>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Patient Name</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000' colspan='4'>" + emr.pat_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Emirates ID</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_emirateid + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>File No</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_code + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>DOB</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_dob + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Nationality</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_nationality + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Gender</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_gender + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Doctor's Name</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.doc_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Date</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.app_fdate + "</td>");
            sb.Append("    </tr>");
            sb.Append("</table>");

            sb.Append("<div style='width:100%; text-align:justify; font-size: 12px; margin-top: 50px;margin-bottom: 50px;'>");

            sb.Append("<p>NAME : " + emr.pat_name + "</p>");
            sb.Append("<p>MR NUMBER : " + emr.pat_code + "</p>");
            sb.Append("<p style='font-size: 30px; margin-top: 20px;margin-bottom: 20px;'><center><h3>Epilation</h3></center></p>");
            sb.Append("<p style='font-size: 10px;'>CORRECTION OF TRICHIASIS PERFORMED WITH UNDER LA UNDER TOPICAL ANAESTHESIA.</p>");
            sb.Append("</div>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;'  colspan='2'>");
            sb.Append("            <p>Sign here, only if all of your questions have been answered to your satisfaction</p>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("             Patient");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("            Doctor");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000'>");
            sb.Append("            <img src='" + psign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;'>");
            sb.Append("            <img src='" + emr.doc_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000;border-top:1px solid #000000;'>");
            sb.Append("            Patient Name");
            sb.Append("             <br/>" + emr.pat_name);
            sb.Append("</br><br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-top:1px solid #000000;'>");
            sb.Append("           Doctor Name<br/>");
            sb.Append("            " + emr.app_doctor_department + "<br/>");
            sb.Append("<br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("</table>");
            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + footer + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    </body>");
            sb.Append("</html>");

            String htmlString = sb.ToString();

            return htmlString;
        }

        //Removal Of Foreign Body Under Slip-Lamp
        public static string HtmlSlipLamp(int appId, EMRInfo emr, int setId)
        {
            BusinessEntities.ConsentForms.SlipLamp pdf = BusinessLogicLayer.ConsentForms.SlipLamp.GetSlipLampData(appId).FirstOrDefault();
            BusinessEntities.Common.eSignature psign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "patient", "SlipLamp").FirstOrDefault();
            BusinessEntities.Common.eSignature wsign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "witness", "SlipLamp").FirstOrDefault();
            BusinessEntities.Common.PDFHeaderFooter hf = BusinessLogicLayer.Common.PDF.GetHeaderFooterByBranch(setId);

            string header = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "header_images", hf.header.ToString());
            string footer = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "footer_images", hf.footer.ToString());

            StringBuilder sb = new StringBuilder();


            sb.Append("<html>");
            sb.Append("    <head><title> <u>Removal Of Foreign Body Under Slip-Lamp</u></title></head>");
            sb.Append("    <body style='font-family: Verdana, Geneva, Tahoma, sans-serif;'>");

            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + header + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000' colspan='9'>");
            sb.Append("            <h1>Removal Of Foreign Body Under Slip-Lamp</h1>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Patient Name</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000' colspan='4'>" + emr.pat_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Emirates ID</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_emirateid + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>File No</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_code + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>DOB</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_dob + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Nationality</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_nationality + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Gender</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_gender + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Doctor's Name</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.doc_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Date</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.app_fdate + "</td>");
            sb.Append("    </tr>");
            sb.Append("</table>");

            sb.Append("<div style='width:100%; text-align:justify; font-size: 12px; margin-top: 50px;margin-bottom: 50px;'>");

            sb.Append("<p>NAME : " + emr.pat_name + "</p>");
            sb.Append("<p>MR NUMBER : " + emr.pat_code + "</p>");
            sb.Append("<p style='font-size: 30px; margin-top: 20px;margin-bottom: 20px;'><center><h3>REMOVAL OF FOREIGN BODY UNDER SLIP-LAMP</h3></center></p>");
            sb.Append("<p style='font-size: 10px;'>REMOVAL OF CORNEAL FOREIGN BODY DONE UNDER SLIT-LAMP UNDER LOCAL ANAESTHESIA ON " + emr.app_fdate + "</p>");
            sb.Append("</div>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;'  colspan='2'>");
            sb.Append("            <p>Sign here, only if all of your questions have been answered to your satisfaction</p>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("             Patient");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("            Doctor");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000'>");
            sb.Append("            <img src='" + psign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;'>");
            sb.Append("            <img src='" + emr.doc_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000;border-top:1px solid #000000;'>");
            sb.Append("            Patient Name");
            sb.Append("             <br/>" + emr.pat_name);
            sb.Append("</br><br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-top:1px solid #000000;'>");
            sb.Append("           Doctor Name<br/>");
            sb.Append("            " + emr.app_doctor_department + "<br/>");
            sb.Append("<br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("</table>");
            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + footer + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    </body>");
            sb.Append("</html>");

            String htmlString = sb.ToString();

            return htmlString;
        }

        //Closure Of Lacrimal Duct By Punctal Plugs
        public static string HtmlPunctalPlugs(int appId, EMRInfo emr, int setId)
        {
            BusinessEntities.ConsentForms.PunctalPlugs pdf = BusinessLogicLayer.ConsentForms.PunctalPlugs.GetPunctalPlugsData(appId).FirstOrDefault();
            BusinessEntities.Common.eSignature psign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "patient", "PunctalPlugs").FirstOrDefault();
            BusinessEntities.Common.eSignature wsign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "witness", "PunctalPlugs").FirstOrDefault();
            BusinessEntities.Common.PDFHeaderFooter hf = BusinessLogicLayer.Common.PDF.GetHeaderFooterByBranch(setId);

            string header = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "header_images", hf.header.ToString());
            string footer = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "footer_images", hf.footer.ToString());

            StringBuilder sb = new StringBuilder();


            sb.Append("<html>");
            sb.Append("    <head><title> <u>Closure Of Lacrimal Duct By Punctal Plugs</u></title></head>");
            sb.Append("    <body style='font-family: Verdana, Geneva, Tahoma, sans-serif;'>");

            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + header + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000' colspan='9'>");
            sb.Append("            <h1>Closure Of Lacrimal Duct By Punctal Plugs</h1>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Patient Name</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000' colspan='4'>" + emr.pat_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Emirates ID</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_emirateid + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>File No</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_code + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>DOB</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_dob + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Nationality</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_nationality + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Gender</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_gender + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Doctor's Name</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.doc_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Date</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.app_fdate + "</td>");
            sb.Append("    </tr>");
            sb.Append("</table>");

            sb.Append("<div style='width:100%; text-align:justify; font-size: 12px; margin-top: 50px;margin-bottom: 50px;'>");

            sb.Append("<p>NAME : " + emr.pat_name + "</p>");
            sb.Append("<p>MR NUMBER : " + emr.pat_code + "</p>");
            sb.Append("<p style='font-size: 30px; margin-top: 20px;margin-bottom: 20px;'><center><h3>CLOSURE OF LACRIMAL DUCT BY PUNCTAL PLUGS</h3></center></p>");
            sb.Append("<p style='font-size: 10px;'>DILATATION OF LACRIMAL PUNCTUM WITH PUNCTAL DILATOR WAS PERFORMED AND 0.5 MM PUCTUAL PLUGS INSERTED UNDER LA UNDER STRICT ASEPTIC PRECAUTIONS IN BOTH EYES ON " + emr.app_fdate + " BY " + emr.doc_name + ".</p>");
            sb.Append("</div>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;'  colspan='2'>");
            sb.Append("            <p>Sign here, only if all of your questions have been answered to your satisfaction</p>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("             Patient");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("            Doctor");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000'>");
            sb.Append("            <img src='" + psign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;'>");
            sb.Append("            <img src='" + emr.doc_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000;border-top:1px solid #000000;'>");
            sb.Append("            Patient Name");
            sb.Append("             <br/>" + emr.pat_name);
            sb.Append("</br><br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-top:1px solid #000000;'>");
            sb.Append("           Doctor Name<br/>");
            sb.Append("            " + emr.app_doctor_department + "<br/>");
            sb.Append("<br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("</table>");
            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + footer + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    </body>");
            sb.Append("</html>");

            String htmlString = sb.ToString();

            return htmlString;
        }

        //Eye Form1 Template 1
        public static string HtmlEyeForm1(int appId, EMRInfo emr, int setId)
        {
            BusinessEntities.ConsentForms.EyeForm1 pdf = BusinessLogicLayer.ConsentForms.EyeForm1.GetEyeForm1Data(appId).FirstOrDefault();
            BusinessEntities.Common.eSignature psign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "patient", "EyeForm1").FirstOrDefault();
            BusinessEntities.Common.eSignature wsign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "witness", "EyeForm1").FirstOrDefault();
            BusinessEntities.Common.PDFHeaderFooter hf = BusinessLogicLayer.Common.PDF.GetHeaderFooterByBranch(setId);

            string header = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "header_images", hf.header.ToString());
            string footer = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "footer_images", hf.footer.ToString());

            StringBuilder sb = new StringBuilder();

            string pdfefn1_doc = pdf.efn1_doc;
            string pdfefn1_doc_path = "";
            if (pdfefn1_doc != "")
            {
                pdfefn1_doc_path = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], pdfefn1_doc);
            }
            else
            {
                pdfefn1_doc_path = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images/ConsentForms/MasterImages/eye_1.jpg");

            }

            sb.Append("<html>");
            sb.Append("    <head><title> <u>Template 1</u></title></head>");
            sb.Append("    <body style='font-family: Verdana, Geneva, Tahoma, sans-serif;'>");

            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + header + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000' colspan='9'>");
            sb.Append("            <h1>Template 1</h1>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Patient Name</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000' colspan='4'>" + emr.pat_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Emirates ID</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_emirateid + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>File No</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_code + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>DOB</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_dob + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Nationality</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_nationality + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Gender</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_gender + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Doctor's Name</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.doc_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Date</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.app_fdate + "</td>");
            sb.Append("    </tr>");
            sb.Append("</table>");

            sb.Append("<div style='width:100%; text-align:justify; font-size: 12px; margin-top: 50px;margin-bottom: 50px;'>");

            sb.Append("<table style='width:100%; text-align:justify; margin-bottom:20px;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='width:50%;'>");
            sb.Append("            <img src=\'" + pdfefn1_doc_path + "'\" style=\"width:100%; height:80%;\" />");
            sb.Append("        </td>");
            sb.Append("        <td style='width:50%;'>");
            sb.Append("         Notes * <br/>" + pdf.efn1_1 + "");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");


            sb.Append("</div>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;'  colspan='2'>");
            sb.Append("            <p>Sign here, only if all of your questions have been answered to your satisfaction</p>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("             Patient");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("            Doctor");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000'>");
            sb.Append("            <img src='" + psign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;'>");
            sb.Append("            <img src='" + emr.doc_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000;border-top:1px solid #000000;'>");
            sb.Append("            Patient Name");
            sb.Append("             <br/>" + emr.pat_name);
            sb.Append("</br><br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-top:1px solid #000000;'>");
            sb.Append("           Doctor Name<br/>");
            sb.Append("            " + emr.app_doctor_department + "<br/>");
            sb.Append("<br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("</table>");
            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + footer + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    </body>");
            sb.Append("</html>");

            String htmlString = sb.ToString();

            return htmlString;
        }

        //Eye Form1 Template 2
        public static string HtmlEyeForm2(int appId, EMRInfo emr, int setId)
        {
            BusinessEntities.ConsentForms.EyeForm2 pdf = BusinessLogicLayer.ConsentForms.EyeForm2.GetEyeForm2Data(appId).FirstOrDefault();
            BusinessEntities.Common.eSignature psign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "patient", "EyeForm2").FirstOrDefault();
            BusinessEntities.Common.eSignature wsign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "witness", "EyeForm2").FirstOrDefault();
            BusinessEntities.Common.PDFHeaderFooter hf = BusinessLogicLayer.Common.PDF.GetHeaderFooterByBranch(setId);

            string header = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "header_images", hf.header.ToString());
            string footer = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "footer_images", hf.footer.ToString());

            StringBuilder sb = new StringBuilder();

            string pdfefn2_doc = pdf.efn2_doc;
            string pdfefn2_doc_path = "";
            if (pdfefn2_doc != "")
            {
                pdfefn2_doc_path = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], pdfefn2_doc);
            }
            else
            {
                pdfefn2_doc_path = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images/ConsentForms/MasterImages/eye_2.jpg");

            }

            sb.Append("<html>");
            sb.Append("    <head><title> <u>Template 1</u></title></head>");
            sb.Append("    <body style='font-family: Verdana, Geneva, Tahoma, sans-serif;'>");

            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + header + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000' colspan='9'>");
            sb.Append("            <h1>Template 2</h1>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Patient Name</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000' colspan='4'>" + emr.pat_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Emirates ID</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_emirateid + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>File No</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_code + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>DOB</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_dob + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Nationality</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_nationality + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Gender</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_gender + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Doctor's Name</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.doc_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Date</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.app_fdate + "</td>");
            sb.Append("    </tr>");
            sb.Append("</table>");

            sb.Append("<div style='width:100%; text-align:justify; font-size: 12px; margin-top: 50px;margin-bottom: 50px;'>");

            sb.Append("<table style='width:100%; text-align:justify; margin-bottom:20px;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='width:50%;'>");
            sb.Append("            <img src=\'" + pdfefn2_doc_path + "'\" style=\"width:100%; height:80%;\" />");
            sb.Append("        </td>");
            sb.Append("        <td style='width:5%;'>");
            sb.Append("        </td>");
            sb.Append("        <td style='width:45%;'>");
            sb.Append("         Notes * <br/>" + pdf.efn2_1 + "");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");


            sb.Append("</div>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;'  colspan='2'>");
            sb.Append("            <p>Sign here, only if all of your questions have been answered to your satisfaction</p>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("             Patient");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("            Doctor");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000'>");
            sb.Append("            <img src='" + psign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;'>");
            sb.Append("            <img src='" + emr.doc_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000;border-top:1px solid #000000;'>");
            sb.Append("            Patient Name");
            sb.Append("             <br/>" + emr.pat_name);
            sb.Append("</br><br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-top:1px solid #000000;'>");
            sb.Append("           Doctor Name<br/>");
            sb.Append("            " + emr.app_doctor_department + "<br/>");
            sb.Append("<br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("</table>");
            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + footer + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    </body>");
            sb.Append("</html>");

            String htmlString = sb.ToString();

            return htmlString;
        }

        //Final Prescription - Contact Lenses
        public static string HtmlContactLens(int appId, EMRInfo emr, int setId)
        {
            BusinessEntities.ConsentForms.ContactLens pdf = BusinessLogicLayer.ConsentForms.ContactLens.GetContactLensData(appId).FirstOrDefault();
            BusinessEntities.Common.eSignature psign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "patient", "ContactLens").FirstOrDefault();
            BusinessEntities.Common.eSignature wsign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "witness", "ContactLens").FirstOrDefault();
            BusinessEntities.Common.PDFHeaderFooter hf = BusinessLogicLayer.Common.PDF.GetHeaderFooterByBranch(setId);

            string header = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "header_images", hf.header.ToString());
            string footer = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "footer_images", hf.footer.ToString());

            StringBuilder sb = new StringBuilder();


            sb.Append("<html>");
            sb.Append("    <head><title> <u>Final Prescription Contact Lenses</u></title></head>");
            sb.Append("    <body style='font-family: Verdana, Geneva, Tahoma, sans-serif;'>");

            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + header + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000' colspan='9'>");
            sb.Append("            <h1>Final Prescription Contact Lenses</h1>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Patient Name</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000' colspan='4'>" + emr.pat_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Emirates ID</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_emirateid + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>File No</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_code + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>DOB</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_dob + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Nationality</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_nationality + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Gender</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_gender + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Doctor's Name</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.doc_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Date</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.app_fdate + "</td>");
            sb.Append("    </tr>");
            sb.Append("</table>");

            sb.Append("<div style='width:100%; text-align:justify; font-size: 12px; margin-top: 50px;margin-bottom: 50px;'>");


            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr style='margin-bottom: 50px;'>");
            sb.Append("        <td style='text-align: center; width: 33%; padding: 10px;border:1px solid #000000;'>EYE</td>");
            sb.Append("        <td style='text-align: center; width: 33%; padding: 10px;border:1px solid #000000;'>RE</td>");
            sb.Append("        <td style='text-align: center; width: 33%;'>LE</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr style='margin-bottom: 50px;'>");
            sb.Append("        <td style='text-align: center; width: 33%; padding: 10px;border:1px solid #000000;'>Power</td>");
            sb.Append("        <td style='text-align: center; width: 33%; padding: 10px;border:1px solid #000000;'>" + pdf.fcl_1 + "</td>");
            sb.Append("        <td style='text-align: center; width: 33%; padding: 10px;border:1px solid #000000;'>" + pdf.fcl_2 + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr style='margin-bottom: 50px;'>");
            sb.Append("        <td style='text-align: center; width: 33%; padding: 10px;border:1px solid #000000;'>Diameter</td>");
            sb.Append("        <td style='text-align: center; width: 33%; padding: 10px;border:1px solid #000000;'>" + pdf.fcl_3 + "</td>");
            sb.Append("        <td style='text-align: center; width: 33%; padding: 10px;border:1px solid #000000;'>" + pdf.fcl_4 + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr style='margin-bottom: 50px;'>");
            sb.Append("        <td style='text-align: center; width: 33%; padding: 10px;border:1px solid #000000;'>Base Curve</td>");
            sb.Append("        <td style='text-align: center; width: 33%; padding: 10px;border:1px solid #000000;'>" + pdf.fcl_5 + "</td>");
            sb.Append("        <td style='text-align: center; width: 33%; padding: 10px;border:1px solid #000000;'>" + pdf.fcl_6 + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr style='margin-bottom: 50px;'>");
            sb.Append("        <td style='text-align: center; width: 33%; padding: 10px;border:1px solid #000000;'>Visual Acuity - CC/SC</td>");
            sb.Append("        <td style='text-align: center; width: 33%; padding: 10px;border:1px solid #000000;'>" + pdf.fcl_7 + "</td>");
            sb.Append("        <td style='text-align: center; width: 33%; padding: 10px;border:1px solid #000000;'>" + pdf.fcl_8 + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr style='margin-bottom: 50px;'>");
            sb.Append("        <td style='text-align: center; width: 33%; padding: 10px;border:1px solid #000000;'>Type Of Lens</td>");
            sb.Append("        <td style='text-align: left; width: 66%; padding: 10px;border:1px solid #000000;' colspan='2'>" + pdf.fcl_9 + "</td>");
            sb.Append("    </tr>");


            sb.Append("</table>");


            sb.Append("</div>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;'  colspan='2'>");
            sb.Append("            <p>Sign here, only if all of your questions have been answered to your satisfaction</p>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("             Patient");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("            Doctor");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000'>");
            sb.Append("            <img src='" + psign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;'>");
            sb.Append("            <img src='" + emr.doc_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000;border-top:1px solid #000000;'>");
            sb.Append("            Patient Name");
            sb.Append("             <br/>" + emr.pat_name);
            sb.Append("</br><br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-top:1px solid #000000;'>");
            sb.Append("           Doctor Name<br/>");
            sb.Append("            " + emr.app_doctor_department + "<br/>");
            sb.Append("<br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("</table>");
            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + footer + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    </body>");
            sb.Append("</html>");

            String htmlString = sb.ToString();

            return htmlString;
        }

        //Final Prescription - Glasses
        public static string HtmlFinalGlasses(int appId, EMRInfo emr, int setId)
        {
            BusinessEntities.ConsentForms.FinalGlasses pdf = BusinessLogicLayer.ConsentForms.FinalGlasses.GetFinalGlassesData(appId).FirstOrDefault();
            BusinessEntities.Common.eSignature psign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "patient", "FinalGlasses").FirstOrDefault();
            BusinessEntities.Common.eSignature wsign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "witness", "FinalGlasses").FirstOrDefault();
            BusinessEntities.Common.PDFHeaderFooter hf = BusinessLogicLayer.Common.PDF.GetHeaderFooterByBranch(setId);

            string header = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "header_images", hf.header.ToString());
            string footer = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "footer_images", hf.footer.ToString());

            StringBuilder sb = new StringBuilder();


            sb.Append("<html>");
            sb.Append("    <head><title> <u>Final Prescription Glasses</u></title>");
            sb.Append("    <meta charset='utf-8'>");
            sb.Append("</head>");
            sb.Append("    <body style='font-family: Verdana, Geneva, Tahoma, sans-serif;'>");

            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + header + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000' colspan='9'>");
            sb.Append("            <h1>Final Prescription Glasses</h1>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Patient Name</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000' colspan='4'>" + emr.pat_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Emirates ID</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_emirateid + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>File No</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_code + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>DOB</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_dob + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Nationality</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_nationality + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Gender</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_gender + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Doctor's Name</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.doc_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Date</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.app_fdate + "</td>");
            sb.Append("    </tr>");
            sb.Append("</table>");

            sb.Append("<div style='width:100%; text-align:justify; font-size: 12px; margin-top: 10px;margin-bottom: 10px;'>");
            sb.Append("    <table style='width:100%; font-size: 12px;'>");
            sb.Append("    <tr style='margin-bottom: 50px;'>");
            sb.Append("        <td style='text-align: center;padding: 10px;'>EYE CLINIC <span dir='rtl'>عيادة العيون</span></td>");
            sb.Append("    </tr>");
            sb.Append("    <tr style='margin-bottom: 50px;'>");
            sb.Append("        <td style='text-align: center;padding: 10px;'><span dir='rtl'>نظارات</span></td>");
            sb.Append("    </tr>");
            sb.Append("</table>");
            sb.Append("</div>");

            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td>");
            sb.Append("            <center><img src=\"http://localhost:55640/images/ConsentForms/Ophthalmology/glass.jpg\" style=\"width:70%\" /></center>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("<div style='width:100%; text-align:justify; font-size: 12px; margin-top: 10px;margin-bottom: 50px;'>");
            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center; width: 50%; padding: 10px;border:1px solid #000000;'>R</td>");
            sb.Append("        <td style='text-align: center; width: 50%; padding: 10px;border:1px solid #000000;'>L</td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");
            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr style='margin-bottom: 50px;'>");
            sb.Append("        <td style='text-align: center; width: 10%; padding: 10px;border:1px solid #000000;'>Shp</td>");
            sb.Append("        <td style='text-align: center; width: 10%; padding: 10px;border:1px solid #000000;'>Cyl</td>");
            sb.Append("        <td style='text-align: center; width: 10%; padding: 10px;border:1px solid #000000;'>Axis</td>");
            sb.Append("        <td style='text-align: center; width: 15%; padding: 10px;border:1px solid #000000;'>Visual Acuity</td>");
            sb.Append("        <td style='text-align: center; width: 10%; padding: 10px;border:1px solid #000000;'></td>");
            sb.Append("        <td style='text-align: center; width: 10%; padding: 10px;border:1px solid #000000;'>Shp</td>");
            sb.Append("        <td style='text-align: center; width: 10%; padding: 10px;border:1px solid #000000;'>Cyl</td>");
            sb.Append("        <td style='text-align: center; width: 10%; padding: 10px;border:1px solid #000000;'>Axis</td>");
            sb.Append("        <td style='text-align: center; width: 15%; padding: 10px;border:1px solid #000000;'>Visual Acuity</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr style='margin-bottom: 50px;'>");
            sb.Append("        <td style='text-align: center; width: 10%; padding: 10px;border:1px solid #000000;'>" + pdf.fgn_1 + "</td>");
            sb.Append("        <td style='text-align: center; width: 10%; padding: 10px;border:1px solid #000000;'>" + pdf.fgn_2 + "</td>");
            sb.Append("        <td style='text-align: center; width: 10%; padding: 10px;border:1px solid #000000;'>" + pdf.fgn_3 + "</td>");
            sb.Append("        <td style='text-align: center; width: 15%; padding: 10px;border:1px solid #000000;'>" + pdf.fgn_4 + "</td>");
            sb.Append("        <td style='text-align: center; width: 10%; padding: 10px;border:1px solid #000000;'>Distance</td>");
            sb.Append("        <td style='text-align: center; width: 10%; padding: 10px;border:1px solid #000000;'>" + pdf.fgn_5 + "</td>");
            sb.Append("        <td style='text-align: center; width: 10%; padding: 10px;border:1px solid #000000;'>" + pdf.fgn_6 + "</td>");
            sb.Append("        <td style='text-align: center; width: 10%; padding: 10px;border:1px solid #000000;'>" + pdf.fgn_7 + "</td>");
            sb.Append("        <td style='text-align: center; width: 15%; padding: 10px;border:1px solid #000000;'>" + pdf.fgn_8 + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr style='margin-bottom: 50px;'>");
            sb.Append("        <td style='text-align: center; width: 10%; padding: 10px;border:1px solid #000000;'>" + pdf.fgn_9 + "</td>");
            sb.Append("        <td style='text-align: center; width: 10%; padding: 10px;border:1px solid #000000;'>" + pdf.fgn_10 + "</td>");
            sb.Append("        <td style='text-align: center; width: 10%; padding: 10px;border:1px solid #000000;'>" + pdf.fgn_11 + "</td>");
            sb.Append("        <td style='text-align: center; width: 15%; padding: 10px;border:1px solid #000000;'>" + pdf.fgn_12 + "</td>");
            sb.Append("        <td style='text-align: center; width: 10%; padding: 10px;border:1px solid #000000;'>Near</td>");
            sb.Append("        <td style='text-align: center; width: 10%; padding: 10px;border:1px solid #000000;'>" + pdf.fgn_13 + "</td>");
            sb.Append("        <td style='text-align: center; width: 10%; padding: 10px;border:1px solid #000000;'>" + pdf.fgn_14 + "</td>");
            sb.Append("        <td style='text-align: center; width: 10%; padding: 10px;border:1px solid #000000;'>" + pdf.fgn_15 + "</td>");
            sb.Append("        <td style='text-align: center; width: 15%; padding: 10px;border:1px solid #000000;'>" + pdf.fgn_16 + "</td>");
            sb.Append("    </tr>");

            sb.Append("</table>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr style='margin-bottom: 50px;'>");
            sb.Append("        <td style='text-align: left; width: 10%; padding: 10px;border:1px solid #000000;'>ADD :  " + pdf.fgn_17 + "</td>");
            sb.Append("        <td style='text-align: left; width: 10%; padding: 10px;border:1px solid #000000;'>ADD :  " + pdf.fgn_18 + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr style='margin-bottom: 50px;'>");
            sb.Append("        <td style='text-align: left; width: 10%; padding: 10px;border:1px solid #000000;'>DEC :  " + pdf.fgn_19 + "</td>");
            sb.Append("        <td style='text-align: left; width: 10%; padding: 10px;border:1px solid #000000;'>DEC :  " + pdf.fgn_20 + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr style='margin-bottom: 50px;'>");
            sb.Append("        <td style='text-align: left; width: 10%; padding: 10px;border:1px solid #000000;'>FORM :  " + pdf.fgn_21 + "</td>");
            sb.Append("        <td style='text-align: left; width: 10%; padding: 10px;border:1px solid #000000;'>TINT :  " + pdf.fgn_22 + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr style='margin-bottom: 50px;'>");
            sb.Append("        <td style='text-align: left; width: 10%; padding: 10px;border:1px solid #000000;' colspan='2'>TYPE OF LENS :  " + pdf.fgn_23 + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr style='margin-bottom: 50px;'>");
            sb.Append("        <td style='text-align: left; width: 10%; padding: 10px;border:1px solid #000000;'>SEG DETAILS :  " + pdf.fgn_24 + "</td>");
            sb.Append("        <td style='text-align: left; width: 10%; padding: 10px;border:1px solid #000000;'>IPD :  " + pdf.fgn_25 + "  mm</td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr style='margin-bottom: 50px;'>");
            sb.Append("        <td style='text-align: left; width: 10%; padding: 10px;border:1px solid #000000;'>LENS SIZE :  " + pdf.fgn_26 + "</td>");
            sb.Append("        <td style='text-align: left; width: 10%; padding: 10px;border:1px solid #000000;'>LENS SHAPE :  " + pdf.fgn_27 + "</td>");
            sb.Append("        <td style='text-align: left; width: 10%; padding: 10px;border:1px solid #000000;'>DISTANCE CENTRES :  " + pdf.fgn_28 + "</td>");
            sb.Append("        <td style='text-align: left; width: 10%; padding: 10px;border:1px solid #000000;'>NEAR CENTRES :  " + pdf.fgn_29 + "</td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left; width: 50%; padding: 10px;border:1px solid #000000;'>Please bring this card for the next Visit</td>");
            sb.Append("        <td style='text-align: right; width: 50%; padding: 10px;border:1px solid #000000;' dir='rtl'>يرجى إحضار هذه البطاقة للزيارة القادمة</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left; width: 50%; padding: 10px;border:1px solid #000000;' colspan='2'>Remarks : " + pdf.fgn_30 + "</td>");
            sb.Append("    </tr>");

            sb.Append("    </table>");

            sb.Append("</div>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;'  colspan='2'>");
            sb.Append("            <p>Sign here, only if all of your questions have been answered to your satisfaction</p>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("             Patient");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("            Doctor");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000'>");
            sb.Append("            <img src='" + psign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;'>");
            sb.Append("            <img src='" + emr.doc_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000;border-top:1px solid #000000;'>");
            sb.Append("            Patient Name");
            sb.Append("             <br/>" + emr.pat_name);
            sb.Append("</br><br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-top:1px solid #000000;'>");
            sb.Append("           Doctor Name<br/>");
            sb.Append("            " + emr.app_doctor_department + "<br/>");
            sb.Append("<br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("</table>");
            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + footer + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    </body>");
            sb.Append("</html>");

            String htmlString = sb.ToString();

            return htmlString;
        }

        //Pre Operative CheckList
        public static string HtmlOperativeCheckList(int appId, EMRInfo emr, int setId)
        {
            BusinessEntities.ConsentForms.OperativeCheckList pdf = BusinessLogicLayer.ConsentForms.OperativeCheckList.GetOperativeCheckListData(appId).FirstOrDefault();
            BusinessEntities.Common.eSignature psign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "patient", "OperativeCheckList").FirstOrDefault();
            BusinessEntities.Common.eSignature wsign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "witness", "OperativeCheckList").FirstOrDefault();
            BusinessEntities.Common.PDFHeaderFooter hf = BusinessLogicLayer.Common.PDF.GetHeaderFooterByBranch(setId);

            string header = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "header_images", hf.header.ToString());
            string footer = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "footer_images", hf.footer.ToString());

            StringBuilder sb = new StringBuilder();

            string ChkHtml1 = "<input type='checkbox'  class='custom-control-input' name='ocn_29' value='1' id='ocn_291'>";
            string ChkHtml2 = "<input type='checkbox'  class='custom-control-input' name='ocn_29' value='2' id='ocn_292'>";
            string ChkHtml3 = "<input type='checkbox'  class='custom-control-input' name='ocn_29' value='3' id='ocn_293'>";
            string ChkHtml4 = "<input type='checkbox'  class='custom-control-input' name='ocn_29' value='4' id='ocn_294'>";
            string ChkHtml5 = "<input type='checkbox'  class='custom-control-input' name='ocn_29' value='5' id='ocn_295'>";
            string ChkHtml6 = "<input type='checkbox'  class='custom-control-input' name='ocn_29' value='6' id='ocn_296'>";
            string ChkHtml7 = "<input type='checkbox'  class='custom-control-input' name='ocn_29' value='7' id='ocn_297'>";
            string ChkHtml8 = "<input type='checkbox'  class='custom-control-input' name='ocn_29' value='8' id='ocn_298'>";
            string ChkHtml9 = "<input type='checkbox'  class='custom-control-input' name='ocn_29' value='9' id='ocn_299'>";
            string ChkHtml10 = "<input type='checkbox'  class='custom-control-input' name='ocn_29' value='10' id='ocn_2910'>";
            string ChkHtml11 = "<input type='checkbox'  class='custom-control-input' name='ocn_29' value='11' id='ocn_2911'>";



            if (pdf.ocn_29.Contains("1"))
            {
                ChkHtml1 = ChkHtml1.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.ocn_29.Contains("2"))
            {
                ChkHtml2 = ChkHtml2.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.ocn_29.Contains("3"))
            {
                ChkHtml3 = ChkHtml3.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.ocn_29.Contains("4"))
            {
                ChkHtml4 = ChkHtml4.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.ocn_29.Contains("5"))
            {
                ChkHtml5 = ChkHtml5.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.ocn_29.Contains("6"))
            {
                ChkHtml6 = ChkHtml6.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.ocn_29.Contains("7"))
            {
                ChkHtml7 = ChkHtml7.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.ocn_29.Contains("8"))
            {
                ChkHtml8 = ChkHtml8.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.ocn_29.Contains("9"))
            {
                ChkHtml9 = ChkHtml9.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.ocn_29.Contains("10"))
            {
                ChkHtml10 = ChkHtml10.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.ocn_29.Contains("11"))
            {
                ChkHtml11 = ChkHtml11.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }

            sb.Append("<html>");
            sb.Append("    <head><title> <u>Pre Operative CheckList</u></title>");
            sb.Append("    <meta charset='utf-8'>");
            sb.Append("</head>");
            sb.Append("    <body style='font-family: Verdana, Geneva, Tahoma, sans-serif;'>");

            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + header + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000' colspan='9'>");
            sb.Append("            <h1>Pre Operative CheckList</h1>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Patient Name</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000' colspan='4'>" + emr.pat_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Emirates ID</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_emirateid + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>File No</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_code + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>DOB</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_dob + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Nationality</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_nationality + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Gender</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_gender + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Doctor's Name</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.doc_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Date</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.app_fdate + "</td>");
            sb.Append("    </tr>");
            sb.Append("</table>");

            sb.Append("    <table style='width:100%; margin-top: 50px; font-size: 12px; border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left; width: 40%; padding: 10px;' rowspan='3'><img src=\"http://localhost:55640/images/ConsentForms/Ophthalmology/SurgeryData1.jpg\" style=\"width:60%\" /></td>");
            sb.Append("        <td style='text-align: left; width: 60%; padding: 10px;'>Name  :  " + emr.pat_name + "<br/><br/>File Number   :  " + emr.pat_code + "<br/><br/>Date  :  " + emr.app_fdate + "</td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    <table style='width:100%; font-size: 12px;border-collapse: collapse;'>");
            sb.Append("    <tr style='margin-bottom: 50px;'>");
            sb.Append("        <td style='text-align: left; width: 50%; padding: 10px;'>Payment Received By  :  " + pdf.ocn_1 + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr style='margin-bottom: 50px;'>");
            sb.Append("        <td style='text-align: left; width: 50%; padding: 10px;'>Consent Secured  :  " + pdf.ocn_2 + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr style='margin-bottom: 50px;'>");
            sb.Append("        <td style='text-align: left; width: 50%; padding: 10px;'>Patient Prepared By  :  " + pdf.ocn_3 + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr style='margin-bottom: 50px;'>");
            sb.Append("        <td style='text-align: left; width: 50%; padding: 10px;'>Known Allergies  :  " + pdf.ocn_4 + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr style='margin-bottom: 50px;'>");
            sb.Append("        <td style='text-align: left; width: 50%; padding: 10px;'> " + ChkHtml1 + " No Make-up</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr style='margin-bottom: 50px;'>");
            sb.Append("        <td style='text-align: left; width: 50%; padding: 10px;'> " + ChkHtml2 + " No Valuables</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr style='margin-bottom: 50px;'>");
            sb.Append("        <td style='text-align: left; width: 100%; padding: 10px;'>Mark Surgical Site : " + ChkHtml3 + " OD  " + ChkHtml4 + " OS  " + ChkHtml5 + " OU </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("<div style='width:100%; text-align:justify; font-size: 12px; margin-top: 10px;margin-bottom: 50px;'>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr style='margin-bottom: 50px;'>");
            sb.Append("        <td style='text-align: center; width: 10%; padding: 10px;border:1px solid #000000;'>TEST</td>");
            sb.Append("        <td style='text-align: center; width: 10%; padding: 10px;border:1px solid #000000;'>ORDERED BY</td>");
            sb.Append("        <td style='text-align: center; width: 10%; padding: 10px;border:1px solid #000000;'>PERFORMED BY</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr style='margin-bottom: 50px;'>");
            sb.Append("        <td style='text-align: left ; width: 10%; padding: 10px;border:1px solid #000000;'>DRY TEST</td>");
            sb.Append("        <td style='text-align: center; width: 10%; padding: 10px;border:1px solid #000000;'>" + pdf.ocn_5 + "</td>");
            sb.Append("        <td style='text-align: center; width: 10%; padding: 10px;border:1px solid #000000;'>" + pdf.ocn_6 + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr style='margin-bottom: 50px;'>");
            sb.Append("        <td style='text-align: left ; width: 10%; padding: 10px;border:1px solid #000000;'>TOPOGRAPHY</td>");
            sb.Append("        <td style='text-align: center; width: 10%; padding: 10px;border:1px solid #000000;'>" + pdf.ocn_7 + "</td>");
            sb.Append("        <td style='text-align: center; width: 10%; padding: 10px;border:1px solid #000000;'>" + pdf.ocn_8 + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr style='margin-bottom: 50px;'>");
            sb.Append("        <td style='text-align: left ; width: 10%; padding: 10px;border:1px solid #000000;'>TOPOLYZER</td>");
            sb.Append("        <td style='text-align: center; width: 10%; padding: 10px;border:1px solid #000000;'>" + pdf.ocn_9 + "</td>");
            sb.Append("        <td style='text-align: center; width: 10%; padding: 10px;border:1px solid #000000;'>" + pdf.ocn_10 + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr style='margin-bottom: 50px;'>");
            sb.Append("        <td style='text-align: left ; width: 10%; padding: 10px;border:1px solid #000000;'>ORA</td>");
            sb.Append("        <td style='text-align: center; width: 10%; padding: 10px;border:1px solid #000000;'>" + pdf.ocn_11 + "</td>");
            sb.Append("        <td style='text-align: center; width: 10%; padding: 10px;border:1px solid #000000;'>" + pdf.ocn_12 + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr style='margin-bottom: 50px;'>");
            sb.Append("        <td style='text-align: left ; width: 10%; padding: 10px;border:1px solid #000000;'>IOP</td>");
            sb.Append("        <td style='text-align: center; width: 10%; padding: 10px;border:1px solid #000000;'>" + pdf.ocn_13 + "</td>");
            sb.Append("        <td style='text-align: center; width: 10%; padding: 10px;border:1px solid #000000;'>" + pdf.ocn_14 + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr style='margin-bottom: 50px;'>");
            sb.Append("        <td style='text-align: left ; width: 10%; padding: 10px;border:1px solid #000000;'>PACHYMETRY</td>");
            sb.Append("        <td style='text-align: center; width: 10%; padding: 10px;border:1px solid #000000;'>" + pdf.ocn_15 + "</td>");
            sb.Append("        <td style='text-align: center; width: 10%; padding: 10px;border:1px solid #000000;'>" + pdf.ocn_16 + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr style='margin-bottom: 50px;'>");
            sb.Append("        <td style='text-align: left ; width: 10%; padding: 10px;border:1px solid #000000;'>DOMINANT EYE</td>");
            sb.Append("        <td style='text-align: center; width: 10%; padding: 10px;border:1px solid #000000;'>" + pdf.ocn_17 + "</td>");
            sb.Append("        <td style='text-align: center; width: 10%; padding: 10px;border:1px solid #000000;'>" + pdf.ocn_18 + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr style='margin-bottom: 50px;'>");
            sb.Append("        <td style='text-align: left ; width: 10%; padding: 10px;border:1px solid #000000;'>MARK AXIS   " + ChkHtml6 + " OD  " + ChkHtml7 + " OS   " + ChkHtml8 + " OU</td>");
            sb.Append("        <td style='text-align: center; width: 10%; padding: 10px;border:1px solid #000000;'>" + pdf.ocn_19 + "</td>");
            sb.Append("        <td style='text-align: center; width: 10%; padding: 10px;border:1px solid #000000;'>" + pdf.ocn_20 + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr style='margin-bottom: 50px;'>");
            sb.Append("        <td style='text-align: left ; width: 10%; padding: 10px;border:1px solid #000000;'>DILATED EXAM</td>");
            sb.Append("        <td style='text-align: center; width: 10%; padding: 10px;border:1px solid #000000;'>" + pdf.ocn_21 + "</td>");
            sb.Append("        <td style='text-align: center; width: 10%; padding: 10px;border:1px solid #000000;'>" + pdf.ocn_22 + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr style='margin-bottom: 50px;'>");
            sb.Append("        <td style='text-align: left ; width: 10%; padding: 10px;border:1px solid #000000;'>OTHERS</td>");
            sb.Append("        <td style='text-align: center; width: 10%; padding: 10px;border:1px solid #000000;'>" + pdf.ocn_23 + "</td>");
            sb.Append("        <td style='text-align: center; width: 10%; padding: 10px;border:1px solid #000000;'>" + pdf.ocn_24 + "</td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");
            sb.Append("<h4>TOPICAL ANESTHESIA</h4>");
            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");

            sb.Append("    <tr style='margin-bottom: 50px;'>");
            sb.Append("        <td style='text-align: left; width: 10%; padding: 10px;border:1px solid #000000;'colspan='4'>" + ChkHtml9 + " OD  " + ChkHtml10 + " OS   " + ChkHtml11 + " OU</td>");
            sb.Append("    </tr>");

            sb.Append("    <tr style='margin-bottom: 50px;'>");
            sb.Append("        <td style='text-align: center; width: 10%; padding: 10px;border:1px solid #000000;'>Topical Anesthesia</td>");
            sb.Append("        <td style='text-align: center; width: 10%; padding: 10px;border:1px solid #000000;'>Administered by</td>");
            sb.Append("        <td style='text-align: center; width: 10%; padding: 10px;border:1px solid #000000;'>Time</td>");
            sb.Append("        <td style='text-align: center; width: 10%; padding: 10px;border:1px solid #000000;'>Time</td>");
            sb.Append("    </tr>");

            sb.Append("    <tr style='margin-bottom: 50px;'>");
            sb.Append("        <td style='text-align: left; width: 10%; padding: 10px;border:1px solid #000000;'>ALCAIN 0.5%</td>");
            sb.Append("        <td style='text-align: center; width: 10%; padding: 10px;border:1px solid #000000;'>" + pdf.ocn_25 + "</td>");
            sb.Append("        <td style='text-align: center; width: 10%; padding: 10px;border:1px solid #000000;'>" + pdf.ocn_26 + "</td>");
            sb.Append("        <td style='text-align: center; width: 10%; padding: 10px;border:1px solid #000000;'>" + pdf.ocn_27 + "</td>");
            sb.Append("    </tr>");

            sb.Append("    <tr style='margin-bottom: 50px;'>");
            sb.Append("        <td style='text-align: left; width: 10%; padding: 10px;border:1px solid #000000;' colspan='4'>Notes : " + pdf.ocn_28 + "</td>");
            sb.Append("    </tr>");

            sb.Append("    </table>");

            sb.Append("</div>");


            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;'  colspan='2'>");
            sb.Append("            <p>Sign here, only if all of your questions have been answered to your satisfaction</p>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("             Patient");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("            Doctor");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000'>");
            sb.Append("            <img src='" + psign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;'>");
            sb.Append("            <img src='" + emr.doc_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000;border-top:1px solid #000000;'>");
            sb.Append("            Patient Name");
            sb.Append("             <br/>" + emr.pat_name);
            sb.Append("</br><br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-top:1px solid #000000;'>");
            sb.Append("           Doctor Name<br/>");
            sb.Append("            " + emr.app_doctor_department + "<br/>");
            sb.Append("<br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("</table>");
            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + footer + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    </body>");
            sb.Append("</html>");

            String htmlString = sb.ToString();

            return htmlString;
        }

        //Discharge Plan Of Care
        public static string HtmlDischargePlan(int appId, EMRInfo emr, int setId)
        {
            BusinessEntities.ConsentForms.DischargePlan pdf = BusinessLogicLayer.ConsentForms.DischargePlan.GetDischargePlanData(appId).FirstOrDefault();
            BusinessEntities.Common.eSignature psign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "patient", "DischargePlan").FirstOrDefault();
            BusinessEntities.Common.eSignature wsign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "witness", "DischargePlan").FirstOrDefault();
            BusinessEntities.Common.PDFHeaderFooter hf = BusinessLogicLayer.Common.PDF.GetHeaderFooterByBranch(setId);

            string header = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "header_images", hf.header.ToString());
            string footer = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "footer_images", hf.footer.ToString());

            StringBuilder sb = new StringBuilder();

            string ChkHtml1 = "<input type='checkbox'  class='custom-control-input' name='dpn_6' value='1' id='dpn_61'>";
            string ChkHtml2 = "<input type='checkbox'  class='custom-control-input' name='dpn_6' value='2' id='dpn_62'>";
            string ChkHtml3 = "<input type='checkbox'  class='custom-control-input' name='dpn_6' value='3' id='dpn_63'>";
            string ChkHtml4 = "<input type='checkbox'  class='custom-control-input' name='dpn_6' value='4' id='dpn_64'>";
            string ChkHtml5 = "<input type='checkbox'  class='custom-control-input' name='dpn_6' value='5' id='dpn_65'>";
            string ChkHtml6 = "<input type='checkbox'  class='custom-control-input' name='dpn_6' value='6' id='dpn_66'>";
            string ChkHtml7 = "<input type='checkbox'  class='custom-control-input' name='dpn_6' value='7' id='dpn_67'>";
            string ChkHtml8 = "<input type='checkbox'  class='custom-control-input' name='dpn_6' value='8' id='dpn_68'>";
            string ChkHtml9 = "<input type='checkbox'  class='custom-control-input' name='dpn_6' value='9' id='dpn_69'>";
            string ChkHtml10 = "<input type='checkbox'  class='custom-control-input' name='dpn_6' value='10' id='dpn_610'>";
            string ChkHtml11 = "<input type='checkbox'  class='custom-control-input' name='dpn_6' value='11' id='dpn_611'>";
            string ChkHtml12 = "<input type='checkbox'  class='custom-control-input' name='dpn_6' value='12' id='dpn_612'>";
            string ChkHtml13 = "<input type='checkbox'  class='custom-control-input' name='dpn_6' value='13' id='dpn_613'>";
            string ChkHtml14 = "<input type='checkbox'  class='custom-control-input' name='dpn_6' value='14' id='dpn_614'>";
            string ChkHtml15 = "<input type='checkbox'  class='custom-control-input' name='dpn_6' value='15' id='dpn_615'>";
            string ChkHtml16 = "<input type='checkbox'  class='custom-control-input' name='dpn_6' value='16' id='dpn_616'>";
            string ChkHtml17 = "<input type='checkbox'  class='custom-control-input' name='dpn_6' value='17' id='dpn_617'>";
            string ChkHtml18 = "<input type='checkbox'  class='custom-control-input' name='dpn_6' value='18' id='dpn_618'>";
            string ChkHtml19 = "<input type='checkbox'  class='custom-control-input' name='dpn_6' value='19' id='dpn_619'>";
            string ChkHtml20 = "<input type='checkbox'  class='custom-control-input' name='dpn_6' value='20' id='dpn_620'>";


            if (pdf.dpn_6.Contains("1"))
            {
                ChkHtml1 = ChkHtml1.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.dpn_6.Contains("2"))
            {
                ChkHtml2 = ChkHtml2.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.dpn_6.Contains("3"))
            {
                ChkHtml3 = ChkHtml3.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.dpn_6.Contains("4"))
            {
                ChkHtml4 = ChkHtml4.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.dpn_6.Contains("5"))
            {
                ChkHtml5 = ChkHtml5.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.dpn_6.Contains("6"))
            {
                ChkHtml6 = ChkHtml6.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.dpn_6.Contains("7"))
            {
                ChkHtml7 = ChkHtml7.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.dpn_6.Contains("8"))
            {
                ChkHtml8 = ChkHtml8.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.dpn_6.Contains("9"))
            {
                ChkHtml9 = ChkHtml9.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.dpn_6.Contains("10"))
            {
                ChkHtml10 = ChkHtml10.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.dpn_6.Contains("11"))
            {
                ChkHtml11 = ChkHtml11.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.dpn_6.Contains("12"))
            {
                ChkHtml12 = ChkHtml12.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.dpn_6.Contains("13"))
            {
                ChkHtml13 = ChkHtml13.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.dpn_6.Contains("14"))
            {
                ChkHtml14 = ChkHtml14.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.dpn_6.Contains("15"))
            {
                ChkHtml15 = ChkHtml15.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.dpn_6.Contains("16"))
            {
                ChkHtml16 = ChkHtml16.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.dpn_6.Contains("17"))
            {
                ChkHtml17 = ChkHtml17.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.dpn_6.Contains("18"))
            {
                ChkHtml18 = ChkHtml18.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.dpn_6.Contains("19"))
            {
                ChkHtml19 = ChkHtml19.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.dpn_6.Contains("20"))
            {
                ChkHtml20 = ChkHtml20.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }

            sb.Append("<html>");
            sb.Append("    <head><title> <u>Discharge Plan Of Care</u></title>");
            sb.Append("    <meta charset='utf-8'>");
            sb.Append("</head>");
            sb.Append("    <body style='font-family: Verdana, Geneva, Tahoma, sans-serif;'>");

            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + header + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000' colspan='9'>");
            sb.Append("            <h1>Discharge Plan Of Care</h1>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Patient Name</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000' colspan='4'>" + emr.pat_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Emirates ID</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_emirateid + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>File No</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_code + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>DOB</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_dob + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Nationality</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_nationality + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Gender</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_gender + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Doctor's Name</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.doc_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Date</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.app_fdate + "</td>");
            sb.Append("    </tr>");
            sb.Append("</table>");

            sb.Append("    <table style='width:100%; margin-top: 50px; margin-bottom: 20px; font-size: 12px; border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left; width: 40%; padding: 10px;' rowspan='3'><img src=\"http://localhost:55640/images/ConsentForms/Ophthalmology/SurgeryData2.jpg\" style=\"width:60%\" />");
            sb.Append("</td>");
            sb.Append("        <td style='text-align: left; width: 60%; padding: 10px;'>File No. :  " + emr.pat_code + "<br/><br/>Name   :  " + emr.pat_name + "<br/><br/>Gender   : " + emr.pat_gender + "<br/><br/>Date  :  " + emr.app_fdate + "<br/><br/>Nationality  :  " + emr.pat_nationality + "</td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    <table style='width:100%; font-size: 12px;border-collapse: collapse;'>");
            sb.Append("    <tr style='margin-bottom: 50px;'>");
            sb.Append("        <td style='text-align: left; width: 50%; padding: 10px;'>Date of Surgery  :  " + pdf.dpn_1 + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr style='margin-bottom: 50px;'>");
            sb.Append("        <td style='text-align: left; width: 50%; padding: 10px;'>Time of Surgery   :  " + pdf.dpn_2 + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr style='margin-bottom: 50px;'>");
            sb.Append("        <td style='text-align: left; width: 50%; padding: 10px;'>Type of Surgery  :  " + pdf.dpn_4 + "</td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("<p>PRE-OPERATIVE CHECK-LIST</p>");

            sb.Append("<div style='width:100%; text-align:justify; font-size: 12px; margin-top: 20px;margin-bottom: 20px;'>");

            sb.Append("    <table style='width:100%; font-size: 12px; margin-bottom: 20px;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left; margin-bottom: 20px;'>LEVEL OF CONSCIOUSNESS/MENTAL STATUS</td>");
            sb.Append("        <td style='text-align: left; margin-bottom: 20px;'>AMBULATION</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;'>" + ChkHtml1 + " Fully awake and alert</td>");
            sb.Append("        <td style='text-align: left;'>" + ChkHtml2 + " Independent with steady gait</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;'>" + ChkHtml3 + " Drowsy</td>");
            sb.Append("        <td style='text-align: left;'>" + ChkHtml4 + " Gait unsteady and assistance required</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;'>" + ChkHtml5 + " Oriented</td>");
            sb.Append("        <td style='text-align: left;'>" + ChkHtml6 + " Non ambulatory; bed ridden/wheelchair-bound</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;'>" + ChkHtml7 + " Others (please specify)</td>");
            sb.Append("        <td style='text-align: left;'>" + ChkHtml8 + " Other</td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    <table style='width:100%; font-size: 12px; margin-bottom: 20px;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left; margin-bottom: 20px;'>DISCHARGE INSTRUCTIONS</td>");
            sb.Append("        <td style='text-align: left; margin-bottom: 20px;'>DISCHARGE PREPARATION</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;'>" + ChkHtml9 + " Physician order sheet reviewed</td>");
            sb.Append("        <td style='text-align: left;'>" + ChkHtml10 + " Patient’s gown removed and redressed with supervision</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;'>" + ChkHtml11 + " Written discharge instruction reviewed and given</td>");
            sb.Append("        <td style='text-align: left;'>" + ChkHtml12 + " Valuables returned and identified by the patient</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;'>" + ChkHtml13 + " Post op teaching given</td>");
            sb.Append("        <td style='text-align: left;'>" + ChkHtml14 + " Prescription reviewed and given</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;'>" + ChkHtml15 + " LASIK/LASEK/CCL kit given</td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr style='margin-bottom: 50px;'>");
            sb.Append("        <td style='text-align: center; width: 20%; padding: 10px;border:1px solid #000000;'>TIME</td>");
            sb.Append("        <td style='text-align: center; width: 60%; padding: 10px;border:1px solid #000000;'>NURSES NOTES</td>");
            sb.Append("        <td style='text-align: center; width: 20%; padding: 10px;border:1px solid #000000;'>NURSES SIGNATURE</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr style='margin-bottom: 50px;'>");
            sb.Append("        <td style='text-align: center ; width: 20%; padding: 10px;border:1px solid #000000;'>" + pdf.dpn_3 + "</td>");
            sb.Append("        <td style='text-align: left; width: 60%; padding: 10px;border:1px solid #000000;'>" + ChkHtml16 + " Post op medicine instruction given.<br/>" + ChkHtml17 + " Follow up appointment given.  " + pdf.dpn_5 + "<br/><br/>");
            sb.Append("<b>Discharged via:</b> <br/>" + ChkHtml18 + " Ambulatory <br/>" + ChkHtml19 + " Assistive device (wheelchair, cane, etc)<br/>");
            sb.Append("<b>Discharge to:</b><br/> " + ChkHtml20 + " Home with family/companion");
            sb.Append("</td>");
            sb.Append("        <td style='text-align: center; width: 20%; padding: 10px;border:1px solid #000000;'>" + emr.doc_name + "</td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");


            sb.Append("</div>");


            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;'  colspan='2'>");
            sb.Append("            <p>Sign here, only if all of your questions have been answered to your satisfaction</p>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("             Patient");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("            Doctor");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000'>");
            sb.Append("            <img src='" + psign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;'>");
            sb.Append("            <img src='" + emr.doc_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000;border-top:1px solid #000000;'>");
            sb.Append("            Patient Name");
            sb.Append("             <br/>" + emr.pat_name);
            sb.Append("</br><br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-top:1px solid #000000;'>");
            sb.Append("           Doctor Name<br/>");
            sb.Append("            " + emr.app_doctor_department + "<br/>");
            sb.Append("<br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("</table>");
            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + footer + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    </body>");
            sb.Append("</html>");

            String htmlString = sb.ToString();

            return htmlString;
        }

        //Laser Sessions Record
        public static string HtmlLaserSession(int appId, EMRInfo emr, int setId)
        {
            BusinessEntities.ConsentForms.LaserSession pdf = BusinessLogicLayer.ConsentForms.LaserSession.GetLaserSessionData(appId).FirstOrDefault();
            BusinessEntities.Common.eSignature psign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "patient", "LaserSession").FirstOrDefault();
            BusinessEntities.Common.eSignature wsign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "witness", "LaserSession").FirstOrDefault();
            BusinessEntities.Common.PDFHeaderFooter hf = BusinessLogicLayer.Common.PDF.GetHeaderFooterByBranch(setId);

            string header = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "header_images", hf.header.ToString());
            string footer = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "footer_images", hf.footer.ToString());

            StringBuilder sb = new StringBuilder();

            string pdflsr_doc = pdf.lsr_doc;
            string pdflsr_doc_path = "";
            if (pdflsr_doc != "")
            {
                pdflsr_doc_path = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], pdflsr_doc);
            }
            else
            {
                pdflsr_doc_path = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images/ConsentForms/MasterImages/Toplife1.jpg");

            }


            sb.Append("<html>");
            sb.Append("    <head><title> <u>Laser Session Record</u></title>");
            sb.Append("    <meta charset='utf-8'>");
            sb.Append("</head>");
            sb.Append("    <body style='font-family: Verdana, Geneva, Tahoma, sans-serif;'>");

            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + header + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000' colspan='9'>");
            sb.Append("            <h1>Laser Session Record</h1>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Patient Name</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000' colspan='4'>" + emr.pat_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Emirates ID</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_emirateid + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>File No</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_code + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>DOB</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_dob + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Nationality</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_nationality + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Gender</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_gender + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Doctor's Name</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.doc_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Date</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.app_fdate + "</td>");
            sb.Append("    </tr>");
            sb.Append("</table>");

            sb.Append("<div style='width:100%; font-size: 12px; margin-top: 50px;margin-bottom: 50px;'>");
            sb.Append("<table style='width:100%; text-align:justify; margin-bottom:20px;'>");
            sb.Append("  <tr  style='text-align:justify'>");
            sb.Append("      <td style='width:33%;font-weight-semibold margin-bottom:15px;'>Patient Name :" + emr.pat_name + "</td>");
            sb.Append("      <td style='width:33%;font-weight-semibold margin-bottom:15px;'>Date :" + emr.app_fdate + "</td>");
            sb.Append("      <td style='width:33%;font-weight-semibold margin-bottom:15px;'>FILE:" + emr.pat_code + "</td>");
            sb.Append("  </tr>");
            sb.Append("    </table>");
            sb.Append("<table style='width:100%; text-align:justify; margin-bottom:20px;'>");
            sb.Append("  <tr  style='text-align:justify'>");
            sb.Append("      <td style='width:30%;font-weight-semibold margin-bottom:15px;'>Chief Complaint</td>");
            sb.Append("      <td style='width:5%;font-weight-semibold margin-bottom:15px;'>:</td>");
            sb.Append("      <td style='width:50%;text-align: left; font-weight-semibold margin-bottom:15px;'>" + pdf.lsr_1 + "</td>");
            sb.Append("  </tr>");
            sb.Append("    </table>");
            sb.Append("<table style='width:100%; text-align:justify; margin-bottom:25px;'>");
            sb.Append("  <tr  style='text-align:justify'>");
            sb.Append("      <td style='width:30%;font-weight-semibold margin-bottom:15px;'>Number of Treatment Sessions</td>");
            sb.Append("      <td style='width:5%;font-weight-semibold margin-bottom:15px;'>:</td>");
            sb.Append("      <td style='width:50%; text-align: left; font-weight-semibold margin-bottom:15px;'>" + pdf.lsr_2 + "</td>");
            sb.Append("  </tr>");
            sb.Append("    </table>");
            sb.Append("<table style='width:100%; text-align:justify; margin-bottom:20px;'>");
            sb.Append("  <tr  style='text-align:justify'>");
            sb.Append("      <td style='width:30%;font-weight-semibold margin-bottom:15px;'>Skin Type</td>");
            sb.Append("      <td style='width:5%;font-weight-semibold margin-bottom:15px;'>:</td>");
            sb.Append("      <td style='width:50%; text-align: left; font-weight-semibold margin-bottom:15px;'>" + pdf.lsr_3 + "</td>");
            sb.Append("  </tr>");
            sb.Append("    </table>");
            sb.Append("<table style='width:100%; text-align:justify; margin-bottom:20px;'>");
            sb.Append("  <tr  style='text-align:justify'>");
            sb.Append("      <td style='width:30%;font-weight-semibold margin-bottom:15px;'>Area(s) For Treatment</td>");
            sb.Append("      <td style='width:5%;font-weight-semibold margin-bottom:15px;'> : </td>");
            sb.Append("      <td style='width:50%; text-align: left; font-weight-semibold margin-bottom:15px;'>" + pdf.lsr_4 + "</td>");
            sb.Append("  </tr>");
            sb.Append("    </table>");
            sb.Append("<table style='width:100%; text-align:justify; margin-bottom:20px;'>");
            sb.Append("    <tr>");
            sb.Append("        <td>");
            sb.Append("            <img src=\'" + pdflsr_doc_path + "'\" style=\"width:50%; height:50%;\" />");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");
            sb.Append("<table style='width:100%; text-align:justify; margin-bottom:20px;'>");
            sb.Append("  <tr  style='text-align:justify'>");
            sb.Append("      <td style='width:100%;font-weight-semibold margin-bottom:15px;'><u>PARAMETERS</u></td>");
            sb.Append("  </tr>");
            sb.Append("    </table>");
            sb.Append("<table style='width:100%; text-align:justify; margin-bottom:20px;'>");
            sb.Append("  <tr  style='text-align:justify'>");
            sb.Append("      <td style='width:30%;font-weight-semibold margin-bottom:15px;'>Spot Size</td>");
            sb.Append("      <td style='width:5%;font-weight-semibold margin-bottom:15px;'> : </td>");
            sb.Append("      <td style='width:50%; text-align: left; font-weight-semibold margin-bottom:15px;'>" + pdf.lsr_5 + "</td>");
            sb.Append("  </tr>");
            sb.Append("    </table>");
            sb.Append("<table style='width:100%; text-align:justify; margin-bottom:20px;'>");
            sb.Append("  <tr  style='text-align:justify'>");
            sb.Append("      <td style='width:30%;font-weight-semibold margin-bottom:15px;'>Wavelength</td>");
            sb.Append("      <td style='width:5%;font-weight-semibold margin-bottom:15px;'> :</td>");
            sb.Append("      <td style='width:50%; text-align: left; font-weight-semibold margin-bottom:15px;'>" + pdf.lsr_6 + "</td>");
            sb.Append("  </tr>");
            sb.Append("    </table>");
            sb.Append("<table style='width:100%; text-align:justify; margin-bottom:20px;'>");
            sb.Append("  <tr  style='text-align:justify'>");
            sb.Append("      <td style='width:30%;font-weight-semibold margin-bottom:15px;'>Fluence</td>");
            sb.Append("      <td style='width:5%;font-weight-semibold margin-bottom:15px;'> :</td>");
            sb.Append("      <td style='width:50%; text-align: left; font-weight-semibold margin-bottom:15px;'>" + pdf.lsr_7 + "</td>");
            sb.Append("  </tr>");
            sb.Append("    </table>");
            sb.Append("<table style='width:100%; text-align:justify; margin-bottom:20px;'>");
            sb.Append("  <tr  style='text-align:justify'>");
            sb.Append("      <td style='width:30%;font-weight-semibold margin-bottom:15px;'>Pulse </td>");
            sb.Append("      <td style='width:5%;font-weight-semibold margin-bottom:15px;'> :</td>");
            sb.Append("      <td style='width:50%; text-align: left; font-weight-semibold margin-bottom:15px;'>" + pdf.lsr_8 + "</td>");
            sb.Append("  </tr>");
            sb.Append("    </table>");
            sb.Append("<table style='width:100%; text-align:justify; margin-bottom:20px;'>");
            sb.Append("  <tr  style='text-align:justify'>");
            sb.Append("      <td style='width:30%;font-weight-semibold margin-bottom:15px;'>HTZ</td>");
            sb.Append("      <td style='width:5%;font-weight-semibold margin-bottom:15px;'> :</td>");
            sb.Append("      <td style='width:50%; text-align: left; font-weight-semibold margin-bottom:15px;'>" + pdf.lsr_9 + "</td>");
            sb.Append("  </tr>");
            sb.Append("    </table>");
            sb.Append("<table style='width:100%; text-align:justify; margin-bottom:20px;'>");
            sb.Append("  <tr  style='text-align:justify'>");
            sb.Append("      <td style='width:30%;font-weight-semibold margin-bottom:15px;'>RCS</td>");
            sb.Append("      <td style='width:5%;font-weight-semibold margin-bottom:15px;'> :</td>");
            sb.Append("      <td style='width:50%; text-align: left; font-weight-semibold margin-bottom:15px;'>" + pdf.lsr_10 + "</td>");
            sb.Append("  </tr>");
            sb.Append("    </table>");
            sb.Append("<table style='width:100%; text-align:justify; margin-bottom:20px;'>");
            sb.Append("  <tr  style='text-align:justify'>");
            sb.Append("      <td style='width:30%;font-weight-semibold margin-bottom:15px;'>Nurses Notes</td>");
            sb.Append("      <td style='width:5%;font-weight-semibold margin-bottom:15px;'> :</td>");
            sb.Append("      <td style='width:50%; text-align: left; font-weight-semibold margin-bottom:15px;'>" + pdf.lsr_11 + "</td>");
            sb.Append("  </tr>");
            sb.Append("    </table>");
            sb.Append("</div>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;'  colspan='2'>");
            sb.Append("            <p>Sign here, only if all of your questions have been answered to your satisfaction</p>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("             Patient");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("            Doctor");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000'>");
            sb.Append("            <img src='" + psign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;'>");
            sb.Append("            <img src='" + emr.doc_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000;border-top:1px solid #000000;'>");
            sb.Append("            Patient Name");
            sb.Append("             <br/>" + emr.pat_name);
            sb.Append("</br><br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-top:1px solid #000000;'>");
            sb.Append("           Doctor Name<br/>");
            sb.Append("            " + emr.app_doctor_department + "<br/>");
            sb.Append("<br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("</table>");
            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + footer + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    </body>");
            sb.Append("</html>");

            String htmlString = sb.ToString();

            return htmlString;
        }

        //Slimming Machines & Patient Concerned Areas
        public static string HtmlSlimmingMachines(int appId, EMRInfo emr, int setId)
        {
            BusinessEntities.ConsentForms.SlimmingMachines pdf = BusinessLogicLayer.ConsentForms.SlimmingMachines.GetSlimmingMachinesData(appId).FirstOrDefault();
            BusinessEntities.Common.eSignature psign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "patient", "SlimmingMachines").FirstOrDefault();
            BusinessEntities.Common.eSignature wsign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "witness", "SlimmingMachines").FirstOrDefault();
            BusinessEntities.Common.PDFHeaderFooter hf = BusinessLogicLayer.Common.PDF.GetHeaderFooterByBranch(setId);

            string header = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "header_images", hf.header.ToString());
            string footer = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "footer_images", hf.footer.ToString());

            StringBuilder sb = new StringBuilder();

            string ChkHtml1 = "<input type='checkbox'  class='custom-control-input' name='smf_1' value='1' id='smf_11'>";
            string ChkHtml2 = "<input type='checkbox'  class='custom-control-input' name='smf_1' value='2' id='smf_12'>";
            string ChkHtml3 = "<input type='checkbox'  class='custom-control-input' name='smf_1' value='3' id='smf_13'>";
            string ChkHtml4 = "<input type='checkbox'  class='custom-control-input' name='smf_1' value='4' id='smf_14'>";
            string ChkHtml5 = "<input type='checkbox'  class='custom-control-input' name='smf_1' value='5' id='smf_15'>";
            string ChkHtml6 = "<input type='checkbox'  class='custom-control-input' name='smf_1' value='6' id='smf_16'>";
            string ChkHtml7 = "<input type='checkbox'  class='custom-control-input' name='smf_1' value='7' id='smf_17'>";
            string ChkHtml8 = "<input type='checkbox'  class='custom-control-input' name='smf_1' value='8' id='smf_18'>";
            string ChkHtml9 = "<input type='checkbox'  class='custom-control-input' name='smf_1' value='9' id='smf_19'>";
            string ChkHtml10 = "<input type='checkbox'  class='custom-control-input' name='smf_1' value='10' id='smf_110'>";
            string ChkHtml11 = "<input type='checkbox'  class='custom-control-input' name='smf_1' value='11' id='smf_111'>";
            string ChkHtml12 = "<input type='checkbox'  class='custom-control-input' name='smf_1' value='12' id='smf_112'>";
            string ChkHtml13 = "<input type='checkbox'  class='custom-control-input' name='smf_1' value='13' id='smf_113'>";
            string ChkHtml14 = "<input type='checkbox'  class='custom-control-input' name='smf_1' value='14' id='smf_114'>";
            string ChkHtml15 = "<input type='checkbox'  class='custom-control-input' name='smf_1' value='15' id='smf_115'>";
            string ChkHtml16 = "<input type='checkbox'  class='custom-control-input' name='smf_1' value='16' id='smf_116'>";


            if (pdf.smf_1.Contains("1"))
            {
                ChkHtml1 = ChkHtml1.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.smf_1.Contains("2"))
            {
                ChkHtml2 = ChkHtml2.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.smf_1.Contains("3"))
            {
                ChkHtml3 = ChkHtml3.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.smf_1.Contains("4"))
            {
                ChkHtml4 = ChkHtml4.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.smf_1.Contains("5"))
            {
                ChkHtml5 = ChkHtml5.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.smf_1.Contains("6"))
            {
                ChkHtml6 = ChkHtml6.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.smf_1.Contains("7"))
            {
                ChkHtml7 = ChkHtml7.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.smf_1.Contains("8"))
            {
                ChkHtml8 = ChkHtml8.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.smf_1.Contains("9"))
            {
                ChkHtml9 = ChkHtml9.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.smf_1.Contains("10"))
            {
                ChkHtml10 = ChkHtml10.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.smf_1.Contains("11"))
            {
                ChkHtml11 = ChkHtml11.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.smf_1.Contains("12"))
            {
                ChkHtml12 = ChkHtml12.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.smf_1.Contains("13"))
            {
                ChkHtml13 = ChkHtml13.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.smf_1.Contains("14"))
            {
                ChkHtml14 = ChkHtml14.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.smf_1.Contains("15"))
            {
                ChkHtml15 = ChkHtml15.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.smf_1.Contains("16"))
            {
                ChkHtml16 = ChkHtml16.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }

            sb.Append("<html>");
            sb.Append("    <head><title> <u>Slimming Machines & Patient Concerned Areas</u></title>");
            sb.Append("    <meta charset='utf-8'>");
            sb.Append("</head>");
            sb.Append("    <body style='font-family: Verdana, Geneva, Tahoma, sans-serif;'>");

            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + header + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000' colspan='9'>");
            sb.Append("            <h1>Slimming Machines & Patient Concerned Areas</h1>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Patient Name</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000' colspan='4'>" + emr.pat_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Emirates ID</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_emirateid + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>File No</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_code + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>DOB</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_dob + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Nationality</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_nationality + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Gender</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_gender + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Doctor's Name</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.doc_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Date</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.app_fdate + "</td>");
            sb.Append("    </tr>");
            sb.Append("</table>");

            sb.Append("<div style='width:100%; text-align:justify; font-size: 12px; margin-top: 50px;margin-bottom: 50px;'>");

            sb.Append("    <table style='width:50%; font-size: 12px; border:1px solid #000000;border-collapse: collapse; margin-bottom: 50px;'>");
            sb.Append("    <tr style='margin-bottom: 50px;'>");
            sb.Append("        <td style='text-align: center; width: 10%; padding: 10px;border:1px solid #000000;'><b>NO</b></td>");
            sb.Append("        <td style='text-align: center; width: 10%; padding: 10px;border:1px solid #000000;'></td>");
            sb.Append("        <td style='text-align: center; width: 10%; padding: 10px;border:1px solid #000000;'><b>Machines Name</b></td>");
            sb.Append("    </tr>");
            sb.Append("    <tr style='margin-bottom: 50px;'>");
            sb.Append("        <td style='text-align: center ; width: 10%; padding: 10px;border:1px solid #000000;'>1</td>");
            sb.Append("        <td style='text-align: center; width: 10%; padding: 10px;border:1px solid #000000;'>" + ChkHtml1 + "</td>");
            sb.Append("        <td style='text-align: left; width: 10%; padding: 10px;border:1px solid #000000;'>POWERSHAPE 2 - 2303</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr style='margin-bottom: 50px;'>");
            sb.Append("        <td style='text-align: center ; width: 10%; padding: 10px;border:1px solid #000000;'>2</td>");
            sb.Append("        <td style='text-align: center; width: 10%; padding: 10px;border:1px solid #000000;'>" + ChkHtml2 + "</td>");
            sb.Append("        <td style='text-align: left; width: 10%; padding: 10px;border:1px solid #000000;'>LIPOZERO - 2008</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr style='margin-bottom: 50px;'>");
            sb.Append("        <td style='text-align: center ; width: 10%; padding: 10px;border:1px solid #000000;'>3</td>");
            sb.Append("        <td style='text-align: center; width: 10%; padding: 10px;border:1px solid #000000;'>" + ChkHtml3 + "</td>");
            sb.Append("        <td style='text-align: left; width: 10%; padding: 10px;border:1px solid #000000;'>LIPOZERO - 2007</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr style='margin-bottom: 50px;'>");
            sb.Append("        <td style='text-align: center ; width: 10%; padding: 10px;border:1px solid #000000;'>4</td>");
            sb.Append("        <td style='text-align: center; width: 10%; padding: 10px;border:1px solid #000000;'>" + ChkHtml4 + "</td>");
            sb.Append("        <td style='text-align: left; width: 10%; padding: 10px;border:1px solid #000000;'>COOL SHAPE</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr style='margin-bottom: 50px;'>");
            sb.Append("        <td style='text-align: center ; width: 10%; padding: 10px;border:1px solid #000000;'>5</td>");
            sb.Append("        <td style='text-align: center; width: 10%; padding: 10px;border:1px solid #000000;'>" + ChkHtml5 + "</td>");
            sb.Append("        <td style='text-align: left; width: 10%; padding: 10px;border:1px solid #000000;'>3 MAX</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr style='margin-bottom: 50px;'>");
            sb.Append("        <td style='text-align: center ; width: 10%; padding: 10px;border:1px solid #000000;'>6</td>");
            sb.Append("        <td style='text-align: center; width: 10%; padding: 10px;border:1px solid #000000;'>" + ChkHtml6 + "</td>");
            sb.Append("        <td style='text-align: left; width: 10%; padding: 10px;border:1px solid #000000;'>LIPOLASE</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr style='margin-bottom: 50px;'>");
            sb.Append("        <td style='text-align: center ; width: 10%; padding: 10px;border:1px solid #000000;'>7</td>");
            sb.Append("        <td style='text-align: center; width: 10%; padding: 10px;border:1px solid #000000;'>" + ChkHtml7 + "</td>");
            sb.Append("        <td style='text-align: left; width: 10%; padding: 10px;border:1px solid #000000;'>POWERSHAPE 2 - 1901</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr style='margin-bottom: 50px;'>");
            sb.Append("        <td style='text-align: center ; width: 10%; padding: 10px;border:1px solid #000000;'>8</td>");
            sb.Append("        <td style='text-align: center; width: 10%; padding: 10px;border:1px solid #000000;'>" + ChkHtml8 + "</td>");
            sb.Append("        <td style='text-align: left; width: 10%; padding: 10px;border:1px solid #000000;'>CORESCULPT - EMS</td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");


            sb.Append("    <table style='width:50%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr style='margin-bottom: 50px;'>");
            sb.Append("        <td style='text-align: center; width: 10%; padding: 10px;border:1px solid #000000;'><b>NO</b></td>");
            sb.Append("        <td style='text-align: center; width: 10%; padding: 10px;border:1px solid #000000;'></td>");
            sb.Append("        <td style='text-align: center; width: 10%; padding: 10px;border:1px solid #000000;'><b>Concerned Areas</b></td>");
            sb.Append("    </tr>");
            sb.Append("    <tr style='margin-bottom: 50px;'>");
            sb.Append("        <td style='text-align: center ; width: 10%; padding: 10px;border:1px solid #000000;'>1</td>");
            sb.Append("        <td style='text-align: center; width: 10%; padding: 10px;border:1px solid #000000;'>" + ChkHtml9 + "</td>");
            sb.Append("        <td style='text-align: left; width: 10%; padding: 10px;border:1px solid #000000;'>ABDOMEN</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr style='margin-bottom: 50px;'>");
            sb.Append("        <td style='text-align: center ; width: 10%; padding: 10px;border:1px solid #000000;'>2</td>");
            sb.Append("        <td style='text-align: center; width: 10%; padding: 10px;border:1px solid #000000;'>" + ChkHtml10 + "</td>");
            sb.Append("        <td style='text-align: left; width: 10%; padding: 10px;border:1px solid #000000;'>TUMMY:<br/>Upper Tummy<br/>Lower Tummy</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr style='margin-bottom: 50px;'>");
            sb.Append("        <td style='text-align: center ; width: 10%; padding: 10px;border:1px solid #000000;'>3</td>");
            sb.Append("        <td style='text-align: center; width: 10%; padding: 10px;border:1px solid #000000;'>" + ChkHtml11 + "</td>");
            sb.Append("        <td style='text-align: left; width: 10%; padding: 10px;border:1px solid #000000;'>THIGHS:<br/>External Thighs<br/>Internal Thighs</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr style='margin-bottom: 50px;'>");
            sb.Append("        <td style='text-align: center ; width: 10%; padding: 10px;border:1px solid #000000;'>4</td>");
            sb.Append("        <td style='text-align: center; width: 10%; padding: 10px;border:1px solid #000000;'>" + ChkHtml12 + "</td>");
            sb.Append("        <td style='text-align: left; width: 10%; padding: 10px;border:1px solid #000000;'>HIPS</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr style='margin-bottom: 50px;'>");
            sb.Append("        <td style='text-align: center ; width: 10%; padding: 10px;border:1px solid #000000;'>5</td>");
            sb.Append("        <td style='text-align: center; width: 10%; padding: 10px;border:1px solid #000000;'>" + ChkHtml13 + "</td>");
            sb.Append("        <td style='text-align: left; width: 10%; padding: 10px;border:1px solid #000000;'>LOVE HANDLES</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr style='margin-bottom: 50px;'>");
            sb.Append("        <td style='text-align: center ; width: 10%; padding: 10px;border:1px solid #000000;'>6</td>");
            sb.Append("        <td style='text-align: center; width: 10%; padding: 10px;border:1px solid #000000;'>" + ChkHtml14 + "</td>");
            sb.Append("        <td style='text-align: left; width: 10%; padding: 10px;border:1px solid #000000;'>ARMS</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr style='margin-bottom: 50px;'>");
            sb.Append("        <td style='text-align: center ; width: 10%; padding: 10px;border:1px solid #000000;'>7</td>");
            sb.Append("        <td style='text-align: center; width: 10%; padding: 10px;border:1px solid #000000;'>" + ChkHtml15 + "</td>");
            sb.Append("        <td style='text-align: left; width: 10%; padding: 10px;border:1px solid #000000;'>DOUBLE CHIM</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr style='margin-bottom: 50px;'>");
            sb.Append("        <td style='text-align: center ; width: 10%; padding: 10px;border:1px solid #000000;'>8</td>");
            sb.Append("        <td style='text-align: center; width: 10%; padding: 10px;border:1px solid #000000;'>" + ChkHtml16 + "</td>");
            sb.Append("        <td style='text-align: left; width: 10%; padding: 10px;border:1px solid #000000;'>CORESCULPT - EMS</td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("</div>");


            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;'  colspan='2'>");
            sb.Append("            <p>Sign here, only if all of your questions have been answered to your satisfaction</p>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("             Patient");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("            Doctor");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000'>");
            sb.Append("            <img src='" + psign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;'>");
            sb.Append("            <img src='" + emr.doc_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000;border-top:1px solid #000000;'>");
            sb.Append("            Patient Name");
            sb.Append("             <br/>" + emr.pat_name);
            sb.Append("</br><br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-top:1px solid #000000;'>");
            sb.Append("           Doctor Name<br/>");
            sb.Append("            " + emr.app_doctor_department + "<br/>");
            sb.Append("<br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("</table>");
            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + footer + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    </body>");
            sb.Append("</html>");

            String htmlString = sb.ToString();

            return htmlString;
        }

        //Nomogram Data
        public static string HtmlNomogramData(int appId, EMRInfo emr, int setId)
        {
            BusinessEntities.ConsentForms.NomogramData pdf = BusinessLogicLayer.ConsentForms.NomogramData.GetNomogramDataData(appId).FirstOrDefault();
            BusinessEntities.Common.eSignature psign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "patient", "NomogramData").FirstOrDefault();
            BusinessEntities.Common.eSignature wsign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "witness", "NomogramData").FirstOrDefault();
            BusinessEntities.Common.PDFHeaderFooter hf = BusinessLogicLayer.Common.PDF.GetHeaderFooterByBranch(setId);

            string header = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "header_images", hf.header.ToString());
            string footer = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "footer_images", hf.footer.ToString());

            StringBuilder sb = new StringBuilder();

            string pdfndn_doc1 = pdf.ndn_doc1;
            string pdfndn_doc1_path = "";
            if (pdfndn_doc1 != "")
            {
                pdfndn_doc1_path = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], pdfndn_doc1);
            }
            else
            {
                pdfndn_doc1_path = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images/ConsentForms/MasterImages/Nomogram1.jpg");

            }

            string pdfndn_doc2 = pdf.ndn_doc2;
            string pdfndn_doc2_path = "";
            if (pdfndn_doc2 != "")
            {
                pdfndn_doc2_path = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], pdfndn_doc2);
            }
            else
            {
                pdfndn_doc2_path = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images/ConsentForms/MasterImages/Nomogram2.jpg");

            }


            string ChkHtml1 = "<input type='checkbox'  class='custom-control-input' name='ndn_chk_1' value='1' id='ndn_chk_11'>";
            string ChkHtml2 = "<input type='checkbox'  class='custom-control-input' name='ndn_chk_1' value='2' id='ndn_chk_12'>";
            string ChkHtml3 = "<input type='checkbox'  class='custom-control-input' name='ndn_chk_1' value='3' id='ndn_chk_13'>";
            string ChkHtml4 = "<input type='checkbox'  class='custom-control-input' name='ndn_chk_1' value='4' id='ndn_chk_14'>";
            string ChkHtml5 = "<input type='checkbox'  class='custom-control-input' name='ndn_chk_1' value='5' id='ndn_chk_15'>";
            string ChkHtml6 = "<input type='checkbox'  class='custom-control-input' name='ndn_chk_1' value='6' id='ndn_chk_16'>";


            if (pdf.ndn_chk_1.Contains("1"))
            {
                ChkHtml1 = ChkHtml1.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.ndn_chk_1.Contains("2"))
            {
                ChkHtml2 = ChkHtml2.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.ndn_chk_1.Contains("3"))
            {
                ChkHtml3 = ChkHtml3.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.ndn_chk_1.Contains("4"))
            {
                ChkHtml4 = ChkHtml4.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.ndn_chk_1.Contains("5"))
            {
                ChkHtml5 = ChkHtml5.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.ndn_chk_1.Contains("6"))
            {
                ChkHtml6 = ChkHtml6.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }


            sb.Append("<html>");
            sb.Append("    <head><title> <u>Nomogram Data</u></title>");
            sb.Append("    <meta charset='utf-8'>");
            sb.Append("</head>");
            sb.Append("    <body style='font-family: Verdana, Geneva, Tahoma, sans-serif;'>");

            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + header + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000' colspan='9'>");
            sb.Append("            <h1>Nomogram Data</h1>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Patient Name</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000' colspan='4'>" + emr.pat_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Emirates ID</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_emirateid + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>File No</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_code + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>DOB</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_dob + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Nationality</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_nationality + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Gender</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_gender + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Doctor's Name</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.doc_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Date</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.app_fdate + "</td>");
            sb.Append("    </tr>");
            sb.Append("</table>");

            sb.Append("<div style='width:100%; text-align:justify; font-size: 12px; margin-top: 50px;margin-bottom: 50px;'>");
            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse; margin-bottom: 50px;'>");

            sb.Append("    <tr style='margin-bottom: 50px;width: 100%;'>");
            sb.Append("        <td style='text-align: left; width: 100%; padding: 10px;border:1px solid #000000;'colspan='8'><b>Dry Test</b></td>");
            sb.Append("    </tr>");

            sb.Append("    <tr style='margin-bottom: 50px;width: 100%;'>");
            sb.Append("        <td style='text-align: center; width: 15%; padding: 10px;border:1px solid #000000;'></td>");
            sb.Append("        <td style='text-align: center; width: 15%; padding: 10px;border:1px solid #000000;'></td>");
            sb.Append("        <td style='text-align: center; width: 10%; padding: 10px;border:1px solid #000000;'><b>Axs</b></td>");
            sb.Append("        <td style='text-align: center; width: 10%; padding: 10px;border:1px solid #000000;'><b>VA</b></td>");
            sb.Append("        <td style='text-align: center; width: 10%; padding: 10px;border:1px solid #000000;'><b>ADD</b></td>");
            sb.Append("        <td style='text-align: center; width: 10%; padding: 10px;border:1px solid #000000;'><b>VA</b></td>");
            sb.Append("        <td style='text-align: center; width: 10%; padding: 10px;border:1px solid #000000;'><b>PH</b></td>");
            sb.Append("        <td style='text-align: center; width: 20%; padding: 10px;border:1px solid #000000;'></td>");
            sb.Append("    </tr>");

            sb.Append("    <tr style='margin-bottom: 50px;width: 100%;'>");
            sb.Append("        <td style='text-align: left; width: 15%; padding: 10px;border:1px solid #000000;'><b>OD Sph :</b> " + pdf.ndn_1 + "</td>");
            sb.Append("        <td style='text-align: left; width: 15%; padding: 10px;border:1px solid #000000;'><b>Cyl :</b> " + pdf.ndn_2 + "</td>");
            sb.Append("        <td style='text-align: center; width: 10%; padding: 10px;border:1px solid #000000;'>" + pdf.ndn_dd_1 + "</td>");
            sb.Append("        <td style='text-align: center; width: 10%; padding: 10px;border:1px solid #000000;'>" + pdf.ndn_dd_2 + "<br/><br/>" + pdf.ndn_dd_3 + "</td>");
            sb.Append("        <td style='text-align: center; width: 10%; padding: 10px;border:1px solid #000000;'>" + pdf.ndn_dd_4 + "</td>");
            sb.Append("        <td style='text-align: center; width: 10%; padding: 10px;border:1px solid #000000;'>" + pdf.ndn_dd_5 + "<br/><br/>" + pdf.ndn_dd_6 + "</td>");
            sb.Append("        <td style='text-align: center; width: 10%; padding: 10px;border:1px solid #000000;'>" + pdf.ndn_dd_7 + "<br/><br/>" + pdf.ndn_dd_8 + "</td>");
            sb.Append("        <td style='text-align: left; width: 20%; padding: 10px;border:1px solid #000000;'><b>Remarks :</b> " + pdf.ndn_3 + "</td>");
            sb.Append("    </tr>");

            sb.Append("    <tr style='margin-bottom: 50px;width: 100%;'>");
            sb.Append("        <td style='text-align: left; width: 15%; padding: 10px;border:1px solid #000000;'><b>OS Sph : </b>" + pdf.ndn_4 + "</td>");
            sb.Append("        <td style='text-align: left; width: 15%; padding: 10px;border:1px solid #000000;'><b>Cyl : </b>" + pdf.ndn_5 + "</td>");
            sb.Append("        <td style='text-align: center; width: 10%; padding: 10px;border:1px solid #000000;'>" + pdf.ndn_dd_9 + "</td>");
            sb.Append("        <td style='text-align: center; width: 10%; padding: 10px;border:1px solid #000000;'>" + pdf.ndn_dd_10 + "<br/><br/>" + pdf.ndn_dd_11 + "</td>");
            sb.Append("        <td style='text-align: center; width: 10%; padding: 10px;border:1px solid #000000;'>" + pdf.ndn_dd_12 + "</td>");
            sb.Append("        <td style='text-align: center; width: 10%; padding: 10px;border:1px solid #000000;'>" + pdf.ndn_dd_13 + "<br/><br/>" + pdf.ndn_dd_14 + "</td>");
            sb.Append("        <td style='text-align: center; width: 10%; padding: 10px;border:1px solid #000000;'>" + pdf.ndn_dd_15 + "<br/><br/>" + pdf.ndn_dd_16 + "</td>");
            sb.Append("        <td style='text-align: left; width: 20%; padding: 10px;border:1px solid #000000;'><b>Name :</b>" + pdf.ndn_6 + "<br/><br/><b>Remarks :</b> " + pdf.ndn_7 + "</td>");
            sb.Append("    </tr>");

            sb.Append("    <tr style='margin-bottom: 50px;width: 100%;'>");
            sb.Append("        <td style='text-align: left; width: 50%; padding: 10px;border:1px solid #000000;' colspan='4'><b>Nomogram Data : </b>" + pdf.ndn_dd_17 + "</td>");
            sb.Append("        <td style='text-align: left; width: 50%; padding: 10px;border:1px solid #000000;' colspan='4'><b>Operation Dates : </b>" + pdf.ndn_date_1 + "</td>");
            sb.Append("    </tr>");

            sb.Append("    <tr style='margin-bottom: 50px;width: 100%;'>");
            sb.Append("        <td style='text-align: left; width: 50%; padding: 10px;border:1px solid #000000;' colspan='4'><b>OD : </b>" + pdf.ndn_8 + "</td>");
            sb.Append("        <td style='text-align: left; width: 50%; padding: 10px;border:1px solid #000000;' colspan='4'><b>OS : </b>" + pdf.ndn_9 + "</td>");
            sb.Append("    </tr>");

            sb.Append("    <tr style='margin-bottom: 50px;width: 100%;'>");
            sb.Append("        <td style='text-align: left; width: 50%; padding: 10px;border:1px solid #000000;' colspan='4'><b>Sph : </b>" + pdf.ndn_10 + "</td>");
            sb.Append("        <td style='text-align: left; width: 50%; padding: 10px;border:1px solid #000000;' colspan='4'><b>Sph : </b>" + pdf.ndn_11 + "</td>");
            sb.Append("    </tr>");

            sb.Append("    <tr style='margin-bottom: 50px;width: 100%;'>");
            sb.Append("        <td style='text-align: left; width: 25%; padding: 10px;border:1px solid #000000;' colspan='2'><b>Cyl : </b>" + pdf.ndn_12 + "</td>");
            sb.Append("        <td style='text-align: left; width: 25%; padding: 10px;border:1px solid #000000;' colspan='2'><b>Axs : </b>" + pdf.ndn_13 + "</td>");
            sb.Append("        <td style='text-align: left; width: 25%; padding: 10px;border:1px solid #000000;' colspan='2'><b>Cyl : </b>" + pdf.ndn_14 + "</td>");
            sb.Append("        <td style='text-align: left; width: 25%; padding: 10px;border:1px solid #000000;' colspan='2'><b>Axs : </b>" + pdf.ndn_15 + "</td>");
            sb.Append("    </tr>");

            sb.Append("    <tr style='margin-bottom: 50px;width: 100%;'>");
            sb.Append("        <td style='text-align: left; width: 50%; padding: 10px;border:1px solid #000000;' colspan='4'><b>F.T : </b>" + pdf.ndn_16 + "</td>");
            sb.Append("        <td style='text-align: left; width: 50%; padding: 10px;border:1px solid #000000;' colspan='4'><b>F.T : </b>" + pdf.ndn_17 + "</td>");
            sb.Append("    </tr>");

            sb.Append("    <tr style='margin-bottom: 50px;width: 100%;'>");
            sb.Append("        <td style='text-align: left; width: 50%; padding: 10px;border:1px solid #000000;' colspan='4'><b>BCL : </b>" + pdf.ndn_18 + "</td>");
            sb.Append("        <td style='text-align: left; width: 50%; padding: 10px;border:1px solid #000000;' colspan='4'><b>BCL : </b>" + pdf.ndn_19 + "</td>");
            sb.Append("    </tr>");

            sb.Append("    <tr style='margin-bottom: 50px;width: 100%;'>");
            sb.Append("        <td style='text-align: center; width: 50%; padding: 10px;border:1px solid #000000;' colspan='4'><img src=\'" + pdfndn_doc1_path + "'\" style=\"width:50%; height:50%;\" /></td>");
            sb.Append("        <td style='text-align: center; width: 50%; padding: 10px;border:1px solid #000000;' colspan='4'><img src=\'" + pdfndn_doc2_path + "'\" style=\"width:50%; height:50%;\" /></td>");
            sb.Append("    </tr>");

            sb.Append("    <tr style='margin-bottom: 50px;width: 100%;'>");
            sb.Append("        <td style='text-align: left; width: 50%; padding: 10px;border:1px solid #000000;' colspan='4'><b>U/C :</b><br/><br/>" + ChkHtml1 + " S " + ChkHtml2 + " T " + ChkHtml3 + " F</td>");
            sb.Append("        <td style='text-align: left; width: 50%; padding: 10px;border:1px solid #000000;' colspan='4'><b>U/C :</b><br/><br/>" + ChkHtml4 + " S " + ChkHtml5 + " T " + ChkHtml6 + " F</td>");
            sb.Append("    </tr>");

            sb.Append("    <tr style='margin-bottom: 50px;width: 100%;'>");
            sb.Append("        <td style='text-align: left; width: 25%; padding: 10px;border:1px solid #000000;' colspan='2'><b>X : </b>" + pdf.ndn_20 + "</td>");
            sb.Append("        <td style='text-align: left; width: 25%; padding: 10px;border:1px solid #000000;' colspan='2'><b>Y : </b>" + pdf.ndn_21 + "</td>");
            sb.Append("        <td style='text-align: left; width: 25%; padding: 10px;border:1px solid #000000;' colspan='2'><b>X : </b>" + pdf.ndn_22 + "</td>");
            sb.Append("        <td style='text-align: left; width: 25%; padding: 10px;border:1px solid #000000;' colspan='2'><b>Y : </b>" + pdf.ndn_23 + "</td>");
            sb.Append("    </tr>");

            sb.Append("    <tr style='margin-bottom: 50px;width: 100%;'>");
            sb.Append("        <td style='text-align: left; width: 100%; padding: 10px;border:1px solid #000000;' colspan='8'><b>Remarks : </b>" + pdf.ndn_24 + "</td>");
            sb.Append("    </tr>");

            sb.Append("    </table>");

            sb.Append("</div>");


            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;'  colspan='2'>");
            sb.Append("            <p>Sign here, only if all of your questions have been answered to your satisfaction</p>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("             Patient");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("            Doctor");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000'>");
            sb.Append("            <img src='" + psign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;'>");
            sb.Append("            <img src='" + emr.doc_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000;border-top:1px solid #000000;'>");
            sb.Append("            Patient Name");
            sb.Append("             <br/>" + emr.pat_name);
            sb.Append("</br><br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-top:1px solid #000000;'>");
            sb.Append("           Doctor Name<br/>");
            sb.Append("            " + emr.app_doctor_department + "<br/>");
            sb.Append("<br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("</table>");
            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + footer + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    </body>");
            sb.Append("</html>");

            String htmlString = sb.ToString();

            return htmlString;
        }

        //Slimming Machines & Patient Concerned Areas
        public static string HtmlRadiologyReport(int appId, EMRInfo emr, int setId)
        {
            BusinessEntities.ConsentForms.SlimmingMachines pdf = BusinessLogicLayer.ConsentForms.SlimmingMachines.GetSlimmingMachinesData(appId).FirstOrDefault();
            BusinessEntities.Common.eSignature psign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "patient", "SlimmingMachines").FirstOrDefault();
            BusinessEntities.Common.eSignature wsign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "witness", "SlimmingMachines").FirstOrDefault();
            BusinessEntities.Common.PDFHeaderFooter hf = BusinessLogicLayer.Common.PDF.GetHeaderFooterByBranch(setId);

            string header = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "header_images", hf.header.ToString());
            string footer = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "footer_images", hf.footer.ToString());

            StringBuilder sb = new StringBuilder();

            sb.Append("<html>");
            sb.Append("    <head><title> <u>Radiology Report</u></title>");
            sb.Append("    <meta charset='utf-8'>");
            sb.Append("</head>");
            sb.Append("    <body style='font-family: Verdana, Geneva, Tahoma, sans-serif;'>");

            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + header + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000' colspan='9'>");
            sb.Append("            <h1>Radiology Report</h1>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Patient Name</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000' colspan='4'>" + emr.pat_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Emirates ID</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_emirateid + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>File No</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_code + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>DOB</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_dob + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Nationality</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_nationality + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Gender</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_gender + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Doctor's Name</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.doc_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Date</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.app_fdate + "</td>");
            sb.Append("    </tr>");
            sb.Append("</table>");

            sb.Append("<div style='width:100%; text-align:justify; font-size: 12px; margin-top: 50px;margin-bottom: 50px;'>");

            sb.Append("<p style='margin-bottom: 20px;'><b>DOPPLER OF BILATERAL CAROTID ARTERIES</b></p>");
            sb.Append("<p>The visualised extent of bilateral common carotid arteries,internal carotid arteries and external carotid arteries show normal wall thickness with no detectable intimal thickening or calcifications.</p>");
            sb.Append("<p>The colour flow and the Doppler parameters are within normal limits.</p>");
            sb.Append("<p>NO significant stenosis or occlusion.</p>");
            sb.Append("<p>The vertebral arteries also show normal flow and Doppler parameters.</p>");
            sb.Append("<p>Adjacent soft tissue structures are unremarkable.</p>");
            sb.Append("<p style='margin-bottom: 20px;margin-top: 20px;'><b>IMPRESSION :</b></p>");
            sb.Append("<p>Unremarkable bilateral carotid Doppler study.</p>");
            sb.Append("<p>Recommended clinical correlation</p>");

            sb.Append("</div>");


            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;'  colspan='2'>");
            sb.Append("            <p>Sign here, only if all of your questions have been answered to your satisfaction</p>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("             Patient");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("            Doctor");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000'>");
            sb.Append("            <img src='" + psign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;'>");
            sb.Append("            <img src='" + emr.doc_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000;border-top:1px solid #000000;'>");
            sb.Append("            Patient Name");
            sb.Append("             <br/>" + emr.pat_name);
            sb.Append("</br><br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-top:1px solid #000000;'>");
            sb.Append("           Doctor Name<br/>");
            sb.Append("            " + emr.app_doctor_department + "<br/>");
            sb.Append("<br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("</table>");
            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + footer + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    </body>");
            sb.Append("</html>");

            String htmlString = sb.ToString();

            return htmlString;
        }

        // Stress Test Concent Form
        public static string HtmlStressTest(int appId, EMRInfo emr, int setId)
        {
            BusinessEntities.ConsentForms.StressTest pdf = BusinessLogicLayer.ConsentForms.StressTest.GetStressTestData(appId).FirstOrDefault();
            BusinessEntities.Common.eSignature psign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "patient", "StressTest").FirstOrDefault();
            BusinessEntities.Common.eSignature wsign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "witness", "StressTest").FirstOrDefault();
            BusinessEntities.Common.PDFHeaderFooter hf = BusinessLogicLayer.Common.PDF.GetHeaderFooterByBranch(setId);

            string header = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "header_images", hf.header.ToString());
            string footer = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "footer_images", hf.footer.ToString());

            StringBuilder sb = new StringBuilder();

            sb.Append("<html>");
            sb.Append("    <head><title> <u>Exercise Stress Test Consent Form</u></title>");
            sb.Append("    <meta charset='utf-8'>");
            sb.Append("</head>");
            sb.Append("    <body style='font-family: Verdana, Geneva, Tahoma, sans-serif;'>");

            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + header + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000' colspan='9'>");
            sb.Append("            <h1>Exercise Stress Test Consent Form</h1>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Patient Name</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000' colspan='4'>" + emr.pat_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Emirates ID</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_emirateid + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>File No</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_code + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>DOB</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_dob + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Nationality</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_nationality + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Gender</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_gender + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Doctor's Name</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.doc_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Date</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.app_fdate + "</td>");
            sb.Append("    </tr>");
            sb.Append("</table>");

            sb.Append("<div style='width:100%; text-align:justify; font-size: 12px; margin-top: 50px;margin-bottom: 50px;'>");

            sb.Append("<p style='margin-bottom: 20px;'><b>PROCEDURE</b></p>");
            sb.Append("<p>Your doctor has referred you for an exercise stress test. The exercise stress test will evaluate your heart and vascular system’s response to exercise. It will help diagnose blocked arteries in the heart (coronary artery disease), assess abnormal heart beats, and check pacemaker function.</p>");
            sb.Append("<p>You will be connected to an electrocardiograph (ECG), which records your heart beat, and a blood pressure monitor. Your heart will be exercised or ‘stressed’ by walking on a treadmill. The speed and slope of the treadmill will increase every three minutes. Exercise intensity may be high. The test will be stopped if you have significant chest pain, become very tired or very short of breath.</p>");
            sb.Append("<p>Your heart rate, electrocardiogram and blood pressure will be monitored during and after the test. If you feel unwell or experience any symptoms you should tell the doctor or technician immediately.</p>");
            sb.Append("<p style='margin-bottom: 20px; margin-top: 20px;'><b><u>RISKS OF THIS PROCEDURE</u></b></p>");
            sb.Append("<p>Some of the more serious risks of this procedure are</p>");
            sb.Append("<p>1 in 1,000 people");
            sb.Append("<ul>");
            sb.Append("<li>Abnormal heart beat</li>");
            sb.Append("<li>Development of fluid in the lungs. You may need medication to treat this</li>");
            sb.Append("<li>Chest pain. This is treated with medication.</li>");
            sb.Append("</ul>");
            sb.Append("</p>");
            sb.Append("<p>1 in 2,500 people");
            sb.Append("<ul>");
            sb.Append("<li>Heart attack</li>");
            sb.Append("</ul>");
            sb.Append("</p>");
            sb.Append("<p>1 in 10,000 people");
            sb.Append("<ul>");
            sb.Append("<li> Death. The danger is greater if you have heart disease or blocked arteries (coronary artery disease) in the heart already.</li>");
            sb.Append("</ul>");
            sb.Append("</p>");
            sb.Append("<p>There is a small risk of muscle or joint injury.</p>");
            sb.Append("<p><b>Please advise staff if you have any of the following conditions.</b></p>");
            sb.Append("<p><b>Stress testing should not be performed in the following situations:</b>");
            sb.Append("<ul>");
            sb.Append("<li>Very recent heart attack (within 2 days).</li>");
            sb.Append("<li> Unstable chest pain (angina) not yet settled by medical treatment.</li>");
            sb.Append("<li> Abnormal heart beats, which are causing symptoms or affecting the blood supply to your body.</li>");
            sb.Append("<li> Heart valve problems causing symptoms.</li>");
            sb.Append("<li> Fluid in the lungs that is not controlled by medication and is causing symptoms.</li>");
            sb.Append("<li> Recent blood clots in the lungs.</li>");
            sb.Append("<li> Current swelling of the heart muscle or the sac containing the heart.</li>");
            sb.Append("<li> Recent tearing of the wall of the large artery (aorta).</li>");
            sb.Append("</ul>");
            sb.Append("</p>");
            sb.Append("<p>Please note that this test is not 100% accurate and a negative result does not guarantee you do not have heart disease</p>");
            sb.Append("<p style='margin-bottom: 20px; margin-top: 20px;'><b><u>CONSENT</u></b></p>");
            sb.Append("<p>I " + emr.pat_name + "," + emr.pat_dob + "  (date of birth), have read and fully understood the above information regarding the test procedure and associated risks.</p>");
            sb.Append("<p>I hereby consent to undergoing the procedure of an exercise stress test to be performed at the Doctors Clinic Diagnostic Center.</p>");
            sb.Append("<p>I also consent to such further treatment measures as may be deemed necessary during the course of the procedure.</p>");

            sb.Append("</div>");


            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;'  colspan='3'>");
            sb.Append("            <p>Sign here, only if all of your questions have been answered to your satisfaction</p>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("             Patient / Parent / Guardian");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("             Witness");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("            Doctor");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000'>");
            sb.Append("            <img src='" + psign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000'>");
            sb.Append("            <img src='" + wsign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;'>");
            sb.Append("            <img src='" + emr.doc_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000;border-top:1px solid #000000;'>");
            sb.Append("            Patient Name");
            sb.Append("             <br/>" + emr.pat_name);
            sb.Append("</br><br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000;border-top:1px solid #000000;'>");
            sb.Append("            Witness Name");
            sb.Append("             <br/>" + pdf.stf_1);
            sb.Append("</br><br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-top:1px solid #000000;'>");
            sb.Append("           Doctor Name<br/>");
            sb.Append("            " + emr.app_doctor_department + "<br/>");
            sb.Append("<br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("</table>");
            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + footer + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    </body>");
            sb.Append("</html>");

            String htmlString = sb.ToString();

            return htmlString;
        }

        //Laser Hair Removal Treatment
        public static string HtmlLaserHairRemoval(int appId, EMRInfo emr, int setId)
        {
            BusinessEntities.ConsentForms.LaserHairRemoval pdf = BusinessLogicLayer.ConsentForms.LaserHairRemoval.GetLaserHairRemovalData(appId).FirstOrDefault();
            BusinessEntities.Common.eSignature psign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "patient", "LaserHairRemoval").FirstOrDefault();
            BusinessEntities.Common.eSignature wsign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "witness", "LaserHairRemoval").FirstOrDefault();
            BusinessEntities.Common.PDFHeaderFooter hf = BusinessLogicLayer.Common.PDF.GetHeaderFooterByBranch(setId);

            string header = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "header_images", hf.header.ToString());
            string footer = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "footer_images", hf.footer.ToString());

            StringBuilder sb = new StringBuilder();

            string pdflhr_doc1 = pdf.lhr_doc1;
            string pdflhr_doc1_path = "";
            if (pdflhr_doc1 != "")
            {
                pdflhr_doc1_path = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], pdflhr_doc1);
            }
            else
            {
                pdflhr_doc1_path = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images/ConsentForms/MasterImages/LaserHair.jpg");

            }


            string ChkHtml1 = "<input type='checkbox'  class='custom-control-input' name='lhr_chk_1' value='1' id='lhr_chk_11'>";
            string ChkHtml2 = "<input type='checkbox'  class='custom-control-input' name='lhr_chk_1' value='2' id='lhr_chk_12'>";
            string ChkHtml3 = "<input type='checkbox'  class='custom-control-input' name='lhr_chk_1' value='3' id='lhr_chk_13'>";
            string ChkHtml4 = "<input type='checkbox'  class='custom-control-input' name='lhr_chk_1' value='4' id='lhr_chk_14'>";

            if (pdf.lhr_chk_1.Contains("1"))
            {
                ChkHtml1 = ChkHtml1.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.lhr_chk_1.Contains("2"))
            {
                ChkHtml2 = ChkHtml2.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.lhr_chk_1.Contains("3"))
            {
                ChkHtml3 = ChkHtml3.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.lhr_chk_1.Contains("4"))
            {
                ChkHtml4 = ChkHtml4.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }

            string pdflhr_radio_1 = pdf.lhr_radio_1;
            string radioHtml11 = "<input type='radio' class='custom-control-input' name='lhr_radio_1' value='Yes' id='lhr_radio_11'>";
            string radioHtml12 = "<input type='radio' class='custom-control-input' name='lhr_radio_1' value='No' id='lhr_radio_12'>";

            if (pdflhr_radio_1 == "Yes")
            {
                radioHtml11 = radioHtml11.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdflhr_radio_1 == "No")
            {
                radioHtml12 = radioHtml12.Replace("<input type='radio'", "<input type='radio' checked");
            }

            sb.Append("<html>");
            sb.Append("    <head><title> <u>Laser Hair Removal Treatment</u></title>");
            sb.Append("    <meta charset='utf-8'>");
            sb.Append("</head>");
            sb.Append("    <body style='font-family: Verdana, Geneva, Tahoma, sans-serif;'>");

            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + header + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000' colspan='9'>");
            sb.Append("            <h1>Laser Hair Removal Treatment</h1>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Patient Name</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000' colspan='4'>" + emr.pat_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Emirates ID</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_emirateid + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>File No</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_code + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>DOB</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_dob + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Nationality</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_nationality + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Gender</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_gender + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Doctor's Name</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.doc_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Date</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.app_fdate + "</td>");
            sb.Append("    </tr>");
            sb.Append("</table>");

            sb.Append("<div style='width:100%; text-align:justify; font-size: 12px; margin-top: 50px;margin-bottom: 50px;'>");
            sb.Append("    <table style='width:100%; font-size: 12px; margin-bottom: 50px;'>");
            sb.Append("    <tr style='margin-bottom: 50px;width: 100%;'>");
            sb.Append("        <td style='text-align: left; width: 10%; padding: 10px;'>Date</td>");
            sb.Append("        <td style='text-align: left; width: 5%; padding: 10px;'>:</td>");
            sb.Append("        <td style='text-align: left; width: 15%; padding: 10px;'>" + emr.app_fdate + "</td>");
            sb.Append("        <td style='text-align: left; width: 10%; padding: 10px;'></td>");
            sb.Append("        <td style='text-align: left; width: 10%; padding: 10px;'>Skin Type</td>");
            sb.Append("        <td style='text-align: left; width: 5%; padding: 10px;'>:</td>");
            sb.Append("        <td style='text-align: left; width: 15%; padding: 10px;'>" + pdf.lhr_dd_1 + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr style='margin-bottom: 50px;width: 100%;'>");
            sb.Append("        <td style='text-align: left; width: 10%; padding: 10px;'>Session</td>");
            sb.Append("        <td style='text-align: left; width: 5%; padding: 10px;'>:</td>");
            sb.Append("        <td style='text-align: left; width: 15%; padding: 10px;'>" + pdf.lhr_1 + "</td>");
            sb.Append("        <td style='text-align: left; width: 10%; padding: 10px;'></td>");
            sb.Append("        <td style='text-align: left; width: 10%; padding: 10px;'>Type Of Hair</td>");
            sb.Append("        <td style='text-align: left; width: 5%; padding: 10px;'>:</td>");
            sb.Append("        <td style='text-align: left; width: 20%; padding: 10px;'>" + pdf.lhr_dd_2 + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr style='margin-bottom: 50px;width: 100%;'>");
            sb.Append("        <td style='text-align: left; width: 10%; padding: 10px;'>Device</td>");
            sb.Append("        <td style='text-align: left; width: 5%; padding: 10px;'>:</td>");
            sb.Append("        <td style='text-align: left; width: 15%; padding: 10px;'>" + pdf.lhr_dd_3 + "</td>");
            sb.Append("        <td style='text-align: left; width: 10%; padding: 10px;'></td>");
            sb.Append("        <td style='text-align: left; width: 10%; padding: 10px;'>Photo Taken</td>");
            sb.Append("        <td style='text-align: left; width: 5%; padding: 10px;'>:</td>");
            sb.Append("        <td style='text-align: left; width: 20%; padding: 10px;'>" + radioHtml11 + " Yes " + radioHtml12 + " No</td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse; margin-bottom: 50px;'>");

            sb.Append("    <tr style='margin-bottom: 50px;width: 100%;'>");
            sb.Append("        <td style='text-align: center; width: 30%; padding: 10px;border:1px solid #000000;'>Area Treated</td>");
            sb.Append("        <td style='text-align: center; width: 17%; padding: 10px;border:1px solid #000000;'>J/mc2</td>");
            sb.Append("        <td style='text-align: center; width: 17%; padding: 10px;border:1px solid #000000;'>ms</td>");
            sb.Append("        <td style='text-align: center; width: 18%; padding: 10px;border:1px solid #000000;'>mm</td>");
            sb.Append("        <td style='text-align: center; width: 18%; padding: 10px;border:1px solid #000000;'>mm</td>");
            sb.Append("    </tr>");

            sb.Append("    <tr style='margin-bottom: 50px;width: 100%;'>");
            sb.Append("        <td style='text-align: left; width: 30%; padding: 10px;border:1px solid #000000;'>" + pdf.lhr_dd_4 + "</td>");
            sb.Append("        <td style='text-align: center; width: 17%; padding: 10px;border:1px solid #000000;'>" + pdf.lhr_2 + "</td>");
            sb.Append("        <td style='text-align: center; width: 17%; padding: 10px;border:1px solid #000000;'>" + pdf.lhr_3 + "</td>");
            sb.Append("        <td style='text-align: center; width: 18%; padding: 10px;border:1px solid #000000;'>" + pdf.lhr_4 + "</td>");
            sb.Append("        <td style='text-align: center; width: 18%; padding: 10px;border:1px solid #000000;'>" + pdf.lhr_5 + "</td>");
            sb.Append("    </tr>");

            sb.Append("    <tr style='margin-bottom: 50px;width: 100%;'>");
            sb.Append("        <td style='text-align: left; width: 30%; padding: 10px;border:1px solid #000000;'>" + pdf.lhr_dd_5 + "</td>");
            sb.Append("        <td style='text-align: center; width: 17%; padding: 10px;border:1px solid #000000;'>" + pdf.lhr_6 + "</td>");
            sb.Append("        <td style='text-align: center; width: 17%; padding: 10px;border:1px solid #000000;'>" + pdf.lhr_7 + "</td>");
            sb.Append("        <td style='text-align: center; width: 18%; padding: 10px;border:1px solid #000000;'>" + pdf.lhr_8 + "</td>");
            sb.Append("        <td style='text-align: center; width: 18%; padding: 10px;border:1px solid #000000;'>" + pdf.lhr_9 + "</td>");
            sb.Append("    </tr>");

            sb.Append("    <tr style='margin-bottom: 50px;width: 100%;'>");
            sb.Append("        <td style='text-align: left; width: 30%; padding: 10px;border:1px solid #000000;'>" + pdf.lhr_dd_6 + "</td>");
            sb.Append("        <td style='text-align: center; width: 17%; padding: 10px;border:1px solid #000000;'>" + pdf.lhr_10 + "</td>");
            sb.Append("        <td style='text-align: center; width: 17%; padding: 10px;border:1px solid #000000;'>" + pdf.lhr_11 + "</td>");
            sb.Append("        <td style='text-align: center; width: 18%; padding: 10px;border:1px solid #000000;'>" + pdf.lhr_12 + "</td>");
            sb.Append("        <td style='text-align: center; width: 18%; padding: 10px;border:1px solid #000000;'>" + pdf.lhr_13 + "</td>");
            sb.Append("    </tr>");

            sb.Append("    <tr style='margin-bottom: 50px;width: 100%;'>");
            sb.Append("        <td style='text-align: left; width: 30%; padding: 10px;border:1px solid #000000;'>" + pdf.lhr_dd_7 + "</td>");
            sb.Append("        <td style='text-align: center; width: 17%; padding: 10px;border:1px solid #000000;'>" + pdf.lhr_14 + "</td>");
            sb.Append("        <td style='text-align: center; width: 17%; padding: 10px;border:1px solid #000000;'>" + pdf.lhr_15 + "</td>");
            sb.Append("        <td style='text-align: center; width: 18%; padding: 10px;border:1px solid #000000;'>" + pdf.lhr_16 + "</td>");
            sb.Append("        <td style='text-align: center; width: 18%; padding: 10px;border:1px solid #000000;'>" + pdf.lhr_17 + "</td>");
            sb.Append("    </tr>");

            sb.Append("    <tr style='margin-bottom: 50px;width: 100%;'>");
            sb.Append("        <td style='text-align: left; width: 30%; padding: 10px;border:1px solid #000000;'>" + pdf.lhr_dd_8 + "</td>");
            sb.Append("        <td style='text-align: center; width: 17%; padding: 10px;border:1px solid #000000;'>" + pdf.lhr_18 + "</td>");
            sb.Append("        <td style='text-align: center; width: 17%; padding: 10px;border:1px solid #000000;'>" + pdf.lhr_19 + "</td>");
            sb.Append("        <td style='text-align: center; width: 18%; padding: 10px;border:1px solid #000000;'>" + pdf.lhr_20 + "</td>");
            sb.Append("        <td style='text-align: center; width: 18%; padding: 10px;border:1px solid #000000;'>" + pdf.lhr_21 + "</td>");
            sb.Append("    </tr>");

            sb.Append("    <tr style='margin-bottom: 50px;width: 100%;'>");
            sb.Append("        <td style='text-align: left; width: 30%; padding: 10px;border:1px solid #000000;'>" + pdf.lhr_dd_9 + "</td>");
            sb.Append("        <td style='text-align: center; width: 17%; padding: 10px;border:1px solid #000000;'>" + pdf.lhr_22 + "</td>");
            sb.Append("        <td style='text-align: center; width: 17%; padding: 10px;border:1px solid #000000;'>" + pdf.lhr_23 + "</td>");
            sb.Append("        <td style='text-align: center; width: 18%; padding: 10px;border:1px solid #000000;'>" + pdf.lhr_24 + "</td>");
            sb.Append("        <td style='text-align: center; width: 18%; padding: 10px;border:1px solid #000000;'>" + pdf.lhr_25 + "</td>");
            sb.Append("    </tr>");

            sb.Append("    <tr style='margin-bottom: 50px;width: 100%;'>");
            sb.Append("        <td style='text-align: left; width: 30%; padding: 10px;border:1px solid #000000;'>" + pdf.lhr_dd_10 + "</td>");
            sb.Append("        <td style='text-align: center; width: 17%; padding: 10px;border:1px solid #000000;'>" + pdf.lhr_26 + "</td>");
            sb.Append("        <td style='text-align: center; width: 17%; padding: 10px;border:1px solid #000000;'>" + pdf.lhr_27 + "</td>");
            sb.Append("        <td style='text-align: center; width: 18%; padding: 10px;border:1px solid #000000;'>" + pdf.lhr_28 + "</td>");
            sb.Append("        <td style='text-align: center; width: 18%; padding: 10px;border:1px solid #000000;'>" + pdf.lhr_29 + "</td>");
            sb.Append("    </tr>");

            sb.Append("    <tr style='margin-bottom: 50px;width: 100%;'>");
            sb.Append("        <td style='text-align: left; width: 30%; padding: 10px;border:1px solid #000000;'>" + pdf.lhr_dd_11 + "</td>");
            sb.Append("        <td style='text-align: center; width: 17%; padding: 10px;border:1px solid #000000;'>" + pdf.lhr_30 + "</td>");
            sb.Append("        <td style='text-align: center; width: 17%; padding: 10px;border:1px solid #000000;'>" + pdf.lhr_31 + "</td>");
            sb.Append("        <td style='text-align: center; width: 18%; padding: 10px;border:1px solid #000000;'>" + pdf.lhr_32 + "</td>");
            sb.Append("        <td style='text-align: center; width: 18%; padding: 10px;border:1px solid #000000;'>" + pdf.lhr_33 + "</td>");
            sb.Append("    </tr>");

            sb.Append("    <tr style='margin-bottom: 50px;width: 100%;'>");
            sb.Append("        <td style='text-align: left; width: 30%; padding: 10px;border:1px solid #000000;'>" + pdf.lhr_dd_12 + "</td>");
            sb.Append("        <td style='text-align: center; width: 17%; padding: 10px;border:1px solid #000000;'>" + pdf.lhr_34 + "</td>");
            sb.Append("        <td style='text-align: center; width: 17%; padding: 10px;border:1px solid #000000;'>" + pdf.lhr_35 + "</td>");
            sb.Append("        <td style='text-align: center; width: 18%; padding: 10px;border:1px solid #000000;'>" + pdf.lhr_36 + "</td>");
            sb.Append("        <td style='text-align: center; width: 18%; padding: 10px;border:1px solid #000000;'>" + pdf.lhr_37 + "</td>");
            sb.Append("    </tr>");

            sb.Append("    <tr style='margin-bottom: 50px;width: 100%;'>");
            sb.Append("        <td style='text-align: left; width: 30%; padding: 10px;border:1px solid #000000;'>" + pdf.lhr_dd_13 + "</td>");
            sb.Append("        <td style='text-align: center; width: 17%; padding: 10px;border:1px solid #000000;'>" + pdf.lhr_38 + "</td>");
            sb.Append("        <td style='text-align: center; width: 17%; padding: 10px;border:1px solid #000000;'>" + pdf.lhr_39 + "</td>");
            sb.Append("        <td style='text-align: center; width: 18%; padding: 10px;border:1px solid #000000;'>" + pdf.lhr_40 + "</td>");
            sb.Append("        <td style='text-align: center; width: 18%; padding: 10px;border:1px solid #000000;'>" + pdf.lhr_41 + "</td>");
            sb.Append("    </tr>");

            sb.Append("    <tr style='margin-bottom: 50px;width: 100%;'>");
            sb.Append("        <td style='text-align: left; width: 30%; padding: 10px;border:1px solid #000000;'>" + pdf.lhr_dd_14 + "</td>");
            sb.Append("        <td style='text-align: center; width: 17%; padding: 10px;border:1px solid #000000;'>" + pdf.lhr_42 + "</td>");
            sb.Append("        <td style='text-align: center; width: 17%; padding: 10px;border:1px solid #000000;'>" + pdf.lhr_43 + "</td>");
            sb.Append("        <td style='text-align: center; width: 18%; padding: 10px;border:1px solid #000000;'>" + pdf.lhr_44 + "</td>");
            sb.Append("        <td style='text-align: center; width: 18%; padding: 10px;border:1px solid #000000;'>" + pdf.lhr_45 + "</td>");
            sb.Append("    </tr>");

            sb.Append("    <tr style='margin-bottom: 50px;width: 100%;'>");
            sb.Append("        <td style='text-align: left; width: 30%; padding: 10px;border:1px solid #000000;'>" + pdf.lhr_dd_15 + "</td>");
            sb.Append("        <td style='text-align: center; width: 17%; padding: 10px;border:1px solid #000000;'>" + pdf.lhr_46 + "</td>");
            sb.Append("        <td style='text-align: center; width: 17%; padding: 10px;border:1px solid #000000;'>" + pdf.lhr_47 + "</td>");
            sb.Append("        <td style='text-align: center; width: 18%; padding: 10px;border:1px solid #000000;'>" + pdf.lhr_48 + "</td>");
            sb.Append("        <td style='text-align: center; width: 18%; padding: 10px;border:1px solid #000000;'>" + pdf.lhr_49 + "</td>");
            sb.Append("    </tr>");

            sb.Append("    <tr style='margin-bottom: 50px;width: 100%;'>");
            sb.Append("        <td style='text-align: left; width: 30%; padding: 10px;border:1px solid #000000;'>" + pdf.lhr_dd_16 + "</td>");
            sb.Append("        <td style='text-align: center; width: 17%; padding: 10px;border:1px solid #000000;'>" + pdf.lhr_50 + "</td>");
            sb.Append("        <td style='text-align: center; width: 17%; padding: 10px;border:1px solid #000000;'>" + pdf.lhr_51 + "</td>");
            sb.Append("        <td style='text-align: center; width: 18%; padding: 10px;border:1px solid #000000;'>" + pdf.lhr_52 + "</td>");
            sb.Append("        <td style='text-align: center; width: 18%; padding: 10px;border:1px solid #000000;'>" + pdf.lhr_53 + "</td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    <table style='width:100%; font-size: 12px; margin-bottom: 50px;'>");
            sb.Append("    <tr style='margin-bottom: 50px;width: 100%;'>");
            sb.Append("        <td style='text-align: left; width: 50%; padding: 10px;border:1px solid #000000;' colspan='0'><img src=\'" + pdflhr_doc1_path + "'\" style=\"width:50%; height:70%;\" /></td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    <table style='width:100%; font-size: 12px; margin-bottom: 50px;'>");

            sb.Append("    <tr style='margin-bottom: 50px;width: 100%;'>");
            sb.Append("        <td style='text-align: left; width: 50%; padding: 10px;' colspan='2'>Type Of Skin Reactions</td>");
            sb.Append("    </tr>");

            sb.Append("    <tr style='margin-bottom: 50px;width: 100%;'>");
            sb.Append("        <td style='text-align: left; width: 50%; padding: 10px;' colspan='2'>" + ChkHtml1 + " None " + ChkHtml2 + " Mild " + ChkHtml3 + " Moderate " + ChkHtml4 + " Severe</td>");
            sb.Append("    </tr>");

            sb.Append("    <tr style='margin-bottom: 50px;width: 100%;'>");
            sb.Append("        <td style='text-align: left; width: 20%; padding: 10px;' colspan='0'>Next Appointment</td>");
            sb.Append("        <td style='text-align: left; width: 80%; padding: 10px;' colspan='0'>" + pdf.lhr_54 + "</td>");
            sb.Append("    </tr>");

            sb.Append("    <tr style='margin-bottom: 50px;width: 100%;'>");
            sb.Append("        <td style='text-align: left; width: 20%; padding: 10px;' colspan='0'>Recommended Creams</td>");
            sb.Append("        <td style='text-align: left; width: 80%; padding: 10px;' colspan='0'>" + pdf.lhr_55 + "</td>");
            sb.Append("    </tr>");

            sb.Append("    <tr style='margin-bottom: 50px;width: 100%;'>");
            sb.Append("        <td style='text-align: left; width: 20%; padding: 10px;' colspan='0'>Remarks</td>");
            sb.Append("        <td style='text-align: left; width: 80%; padding: 10px;' colspan='0'>" + pdf.lhr_56 + "</td>");
            sb.Append("    </tr>");

            sb.Append("    <tr style='margin-bottom: 50px;width: 100%;'>");
            sb.Append("        <td style='text-align: left; width: 50%; padding: 10px;' colspan='2'>Fluence (J/mc2) Pulse duration (ms) Spot size (mm) Wavelength (nm)</td>");
            sb.Append("    </tr>");

            sb.Append("    </table>");

            sb.Append("</div>");



            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;'  colspan='2'>");
            sb.Append("            <p>Sign here, only if all of your questions have been answered to your satisfaction</p>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("             Patient");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("            Doctor");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000'>");
            sb.Append("            <img src='" + psign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;'>");
            sb.Append("            <img src='" + emr.doc_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000;border-top:1px solid #000000;'>");
            sb.Append("            Patient Name");
            sb.Append("             <br/>" + emr.pat_name);
            sb.Append("</br><br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-top:1px solid #000000;'>");
            sb.Append("           Doctor Name<br/>");
            sb.Append("            " + emr.app_doctor_department + "<br/>");
            sb.Append("<br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("</table>");
            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + footer + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    </body>");
            sb.Append("</html>");

            String htmlString = sb.ToString();

            return htmlString;
        }

        //Echocardiogram Report
        public static string HtmlEchocardiogram(int appId, EMRInfo emr, int setId)
        {
            BusinessEntities.ConsentForms.Echocardiogram pdf = BusinessLogicLayer.ConsentForms.Echocardiogram.GetEchocardiogramData(appId).FirstOrDefault();
            BusinessEntities.Common.eSignature psign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "patient", "Echocardiogram").FirstOrDefault();
            BusinessEntities.Common.eSignature wsign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "witness", "Echocardiogram").FirstOrDefault();
            BusinessEntities.Common.PDFHeaderFooter hf = BusinessLogicLayer.Common.PDF.GetHeaderFooterByBranch(setId);

            string header = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "header_images", hf.header.ToString());
            string footer = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "footer_images", hf.footer.ToString());

            StringBuilder sb = new StringBuilder();

            string pdfern_doc1 = pdf.ern_doc1;
            string pdfern_doc1_path = "";
            if (pdfern_doc1 != "")
            {
                pdfern_doc1_path = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], pdfern_doc1);
            }
            else
            {
                pdfern_doc1_path = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images/ConsentForms/MasterImages/Echocardiogram.jpg");

            }

            sb.Append("<html>");
            sb.Append("    <head><title> <u>Echocardiogram Report</u></title>");
            sb.Append("    <meta charset='utf-8'>");
            sb.Append("</head>");
            sb.Append("    <body style='font-family: Verdana, Geneva, Tahoma, sans-serif;'>");

            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + header + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000' colspan='9'>");
            sb.Append("            <h1>Echocardiogram Report</h1>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Patient Name</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000' colspan='4'>" + emr.pat_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Emirates ID</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_emirateid + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>File No</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_code + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>DOB</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_dob + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Nationality</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_nationality + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Gender</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_gender + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Doctor's Name</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.doc_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Date</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.app_fdate + "</td>");
            sb.Append("    </tr>");
            sb.Append("</table>");
            sb.Append("<div style='width:100%; text-align:justify; font-size: 12px; margin-top: 50px;margin-bottom: 50px;'>");
            sb.Append("<h3 style='text-align:center; margin-top: 0px;margin-bottom: 0px;'>Interpretation</h3>");
            sb.Append("    <table style='width:100%; font-size: 12px; margin-bottom: 0px;'>");
            sb.Append("    <tr style='margin-bottom: 50px;width: 100%;'>");
            sb.Append("        <td style='text-align: left; width: 15%; padding: 10px;'>*General :</td>");
            sb.Append("        <td style='text-align: left; width: 5%; padding: 10px;'>:</td>");
            sb.Append("        <td style='text-align: left; width: 70%; padding: 10px;'>" + pdf.ern_1 + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr style='margin-bottom: 30px;width: 100%;'>");
            sb.Append("        <td style='text-align: left; width: 15%; padding: 10px;' colspan='3'>*Valves</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr style='margin-bottom: 50px;width: 100%;'>");
            sb.Append("        <td style='text-align: left; width: 15%; padding: 10px;'>Aortic Valves</td>");
            sb.Append("        <td style='text-align: left; width: 5%; padding: 10px;'>:</td>");
            sb.Append("        <td style='text-align: left; width: 70%; padding: 10px;'>" + pdf.ern_2 + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr style='margin-bottom: 50px;width: 100%;'>");
            sb.Append("        <td style='text-align: left; width: 15%; padding: 10px;'>Mitral Valve</td>");
            sb.Append("        <td style='text-align: left; width: 5%; padding: 10px;'>:</td>");
            sb.Append("        <td style='text-align: left; width: 70%; padding: 10px;'>" + pdf.ern_3 + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr style='margin-bottom: 50px;width: 100%;'>");
            sb.Append("        <td style='text-align: left; width: 15%; padding: 10px;'>Pulmonic Valve</td>");
            sb.Append("        <td style='text-align: left; width: 5%; padding: 10px;'>:</td>");
            sb.Append("        <td style='text-align: left; width: 70%; padding: 10px;'>" + pdf.ern_4 + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr style='margin-bottom: 50px;width: 100%;'>");
            sb.Append("        <td style='text-align: left; width: 15%; padding: 10px;'>Tricuspid Valve</td>");
            sb.Append("        <td style='text-align: left; width: 5%; padding: 10px;'>:</td>");
            sb.Append("        <td style='text-align: left; width: 70%; padding: 10px;'>" + pdf.ern_5 + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr style='margin-bottom: 30px;width: 100%;'>");
            sb.Append("        <td style='text-align: left; width: 15%; padding: 10px;' colspan='3'>*Heart vessels</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr style='margin-bottom: 50px;width: 100%;'>");
            sb.Append("        <td style='text-align: left; width: 15%; padding: 10px;'>Aorta</td>");
            sb.Append("        <td style='text-align: left; width: 5%; padding: 10px;'>:</td>");
            sb.Append("        <td style='text-align: left; width: 70%; padding: 10px;'>" + pdf.ern_6 + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr style='margin-bottom: 50px;width: 100%;'>");
            sb.Append("        <td style='text-align: left; width: 15%; padding: 10px;'>Pulmonary Artery</td>");
            sb.Append("        <td style='text-align: left; width: 5%; padding: 10px;'>:</td>");
            sb.Append("        <td style='text-align: left; width: 70%; padding: 10px;'>" + pdf.ern_7 + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr style='margin-bottom: 50px;width: 100%;'>");
            sb.Append("        <td style='text-align: left; width: 15%; padding: 10px;'>*Cardiac Chambers</td>");
            sb.Append("        <td style='text-align: left; width: 5%; padding: 10px;'>:</td>");
            sb.Append("        <td style='text-align: left; width: 70%; padding: 10px;'>" + pdf.ern_8 + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr style='margin-bottom: 50px;width: 100%;'>");
            sb.Append("        <td style='text-align: left; width: 15%; padding: 10px;'>Left Atrium</td>");
            sb.Append("        <td style='text-align: left; width: 5%; padding: 10px;'>:</td>");
            sb.Append("        <td style='text-align: left; width: 70%; padding: 10px;'>" + pdf.ern_9 + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr style='margin-bottom: 50px;width: 100%;'>");
            sb.Append("        <td style='text-align: left; width: 15%; padding: 10px;'>Right Atrium</td>");
            sb.Append("        <td style='text-align: left; width: 5%; padding: 10px;'>:</td>");
            sb.Append("        <td style='text-align: left; width: 70%; padding: 10px;'>" + pdf.ern_10 + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr style='margin-bottom: 50px;width: 100%;'>");
            sb.Append("        <td style='text-align: left; width: 15%; padding: 10px;'>Left Ventricle</td>");
            sb.Append("        <td style='text-align: left; width: 5%; padding: 10px;'>:</td>");
            sb.Append("        <td style='text-align: left; width: 70%; padding: 10px;'>" + pdf.ern_11 + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr style='margin-bottom: 50px;width: 100%;'>");
            sb.Append("        <td style='text-align: left; width: 15%; padding: 10px;'>Right Ventricle</td>");
            sb.Append("        <td style='text-align: left; width: 5%; padding: 10px;'>:</td>");
            sb.Append("        <td style='text-align: left; width: 70%; padding: 10px;'>" + pdf.ern_12 + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr style='margin-bottom: 30px;width: 100%;'>");
            sb.Append("        <td style='text-align: left; width: 15%; padding: 10px;' colspan='3'>*Septal Walls</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr style='margin-bottom: 50px;width: 100%;'>");
            sb.Append("        <td style='text-align: left; width: 15%; padding: 10px;'>Atrial Septum</td>");
            sb.Append("        <td style='text-align: left; width: 5%; padding: 10px;'>:</td>");
            sb.Append("        <td style='text-align: left; width: 70%; padding: 10px;'>" + pdf.ern_13 + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr style='margin-bottom: 50px;width: 100%;'>");
            sb.Append("        <td style='text-align: left; width: 15%; padding: 10px;'>Ventricular Septum</td>");
            sb.Append("        <td style='text-align: left; width: 5%; padding: 10px;'>:</td>");
            sb.Append("        <td style='text-align: left; width: 70%; padding: 10px;'>" + pdf.ern_14 + "</td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");
            sb.Append("    <table style='width:100%; font-size: 12px; margin-bottom: 0px;'>");
            sb.Append("    <tr style='margin-bottom: 30px;width: 100%;'>");
            sb.Append("        <td style='text-align: left; width: 15%; padding: 10px;' colspan='3'>*Pericardium</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr style='margin-bottom: 50px;width: 100%;'>");
            sb.Append("        <td style='text-align: left; width: 45%; padding: 10px;'>*Intra-Cardiac thrombi or devices or vegetations</td>");
            sb.Append("        <td style='text-align: left; width: 5%; padding: 10px;'>:</td>");
            sb.Append("        <td style='text-align: left; width: 50%; padding: 10px;'>" + pdf.ern_15 + "</td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");
            sb.Append("<p style='text-align: left; width: 45%; padding: 10px;'>*Echocardiographic and Doppler Measurements :</p>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr style='margin-bottom: 50px;'>");
            sb.Append("        <td style='text-align: center; width: 14%; padding: 10px;border:1px solid #000000;'><b>Walls</b></td>");
            sb.Append("        <td style='text-align: center; width: 14%; padding: 10px;border:1px solid #000000;'><b>Normal</b></td>");
            sb.Append("        <td style='text-align: center; width: 14%; padding: 10px;border:1px solid #000000;'><b>Chamber</b></td>");
            sb.Append("        <td style='text-align: center; width: 14%; padding: 10px;border:1px solid #000000;'><b>Normal</b></td>");
            sb.Append("        <td style='text-align: center; width: 16%; padding: 10px;border:1px solid #000000;'><b>Systolic Function</b></td>");
            sb.Append("        <td style='text-align: center; width: 14%; padding: 10px;border:1px solid #000000;'><b>Normal</b></td>");
            sb.Append("        <td style='text-align: center; width: 14%; padding: 10px;border:1px solid #000000;'><b>PG: 22 mmhg</b></td>");
            sb.Append("    </tr>");

            sb.Append("    <tr style='margin-bottom: 50px;'>");
            sb.Append("        <td style='text-align: left; width: 14%; padding: 10px;border:1px solid #000000;'>IVSd :<br/><br/>" + pdf.ern_16 + "</td>");
            sb.Append("        <td style='text-align: left; width: 14%; padding: 10px;border:1px solid #000000;'>0.6-1.1cm<br/><br/>" + pdf.ern_17 + "</td>");
            sb.Append("        <td style='text-align: left; width: 14%; padding: 10px;border:1px solid #000000;'>LVIDd :<br/><br/>" + pdf.ern_18 + "</td>");
            sb.Append("        <td style='text-align: left; width: 14%; padding: 10px;border:1px solid #000000;'>3.7-5.6 cm<br/><br/>" + pdf.ern_19 + "</td>");
            sb.Append("        <td style='text-align: left; width: 16%; padding: 10px;border:1px solid #000000;'>EF :<br/><br/>" + pdf.ern_20 + "</td>");
            sb.Append("        <td style='text-align: left; width: 14%; padding: 10px;border:1px solid #000000;'>>50%<br/><br/>" + pdf.ern_21 + "</td>");
            sb.Append("        <td style='text-align: left; width: 14%; padding: 10px;border:1px solid #000000;'>RVSP :<br/><br/>" + pdf.ern_22 + "</td>");
            sb.Append("    </tr>");

            sb.Append("    <tr style='margin-bottom: 50px;'>");
            sb.Append("        <td style='text-align: left; width: 14%; padding: 10px;border:1px solid #000000;'>IVSs cm :<br/><br/>" + pdf.ern_23 + "</td>");
            sb.Append("        <td style='text-align: left; width: 14%; padding: 10px;border:1px solid #000000;'>0.8-2.0cm<br/><br/>" + pdf.ern_24 + "</td>");
            sb.Append("        <td style='text-align: left; width: 14%; padding: 10px;border:1px solid #000000;'>LVIDdI :<br/><br/>" + pdf.ern_25 + "</td>");
            sb.Append("        <td style='text-align: left; width: 14%; padding: 10px;border:1px solid #000000;'><br/><br/>" + pdf.ern_26 + "</td>");
            sb.Append("        <td style='text-align: left; width: 16%; padding: 10px;border:1px solid #000000;'>FS :<br/><br/>" + pdf.ern_27 + "</td>");
            sb.Append("        <td style='text-align: left; width: 14%; padding: 10px;border:1px solid #000000;'><br/><br/>" + pdf.ern_28 + "</td>");
            sb.Append("        <td style='text-align: left; width: 14%; padding: 10px;border:1px solid #000000;'>RAP :<br/><br/>" + pdf.ern_29 + "</td>");
            sb.Append("    </tr>");

            sb.Append("    <tr style='margin-bottom: 50px;'>");
            sb.Append("        <td style='text-align: left; width: 14%; padding: 10px;border:1px solid #000000;'>PWd :<br/><br/>" + pdf.ern_30 + "</td>");
            sb.Append("        <td style='text-align: left; width: 14%; padding: 10px;border:1px solid #000000;'>0.6-1.1cm<br/><br/>" + pdf.ern_31 + "</td>");
            sb.Append("        <td style='text-align: left; width: 14%; padding: 10px;border:1px solid #000000;'>LVIDs :<br/><br/>" + pdf.ern_32 + "</td>");
            sb.Append("        <td style='text-align: left; width: 14%; padding: 10px;border:1px solid #000000;'><br/><br/>" + pdf.ern_33 + "</td>");
            sb.Append("        <td style='text-align: left; width: 16%; padding: 10px;border:1px solid #000000;'><br/><br/>" + pdf.ern_34 + "</td>");
            sb.Append("        <td style='text-align: left; width: 14%; padding: 10px;border:1px solid #000000;'><br/><br/>" + pdf.ern_35 + "</td>");
            sb.Append("        <td style='text-align: left; width: 14%; padding: 10px;border:1px solid #000000;'>Pul ACT :<br/><br/>" + pdf.ern_36 + "</td>");
            sb.Append("    </tr>");

            sb.Append("    <tr style='margin-bottom: 50px;'>");
            sb.Append("        <td style='text-align: left; width: 14%; padding: 10px;border:1px solid #000000;'><br/><br/>" + pdf.ern_37 + "</td>");
            sb.Append("        <td style='text-align: left; width: 14%; padding: 10px;border:1px solid #000000;'><br/><br/>" + pdf.ern_38 + "</td>");
            sb.Append("        <td style='text-align: left; width: 14%; padding: 10px;border:1px solid #000000;'>LA :<br/><br/>" + pdf.ern_39 + "</td>");
            sb.Append("        <td style='text-align: left; width: 14%; padding: 10px;border:1px solid #000000;'><br/><br/>" + pdf.ern_40 + "</td>");
            sb.Append("        <td style='text-align: left; width: 16%; padding: 10px;border:1px solid #000000;'>E/A ratio :<br/><br/>" + pdf.ern_41 + "</td>");
            sb.Append("        <td style='text-align: left; width: 14%; padding: 10px;border:1px solid #000000;'><br/><br/>" + pdf.ern_42 + "</td>");
            sb.Append("        <td style='text-align: left; width: 14%; padding: 10px;border:1px solid #000000;'>RVOT TVI :<br/><br/>" + pdf.ern_43 + "</td>");
            sb.Append("    </tr>");

            sb.Append("    <tr style='margin-bottom: 50px;'>");
            sb.Append("        <td style='text-align: left; width: 14%; padding: 10px;border:1px solid #000000;'><br/><br/>" + pdf.ern_44 + "</td>");
            sb.Append("        <td style='text-align: left; width: 14%; padding: 10px;border:1px solid #000000;'><br/><br/>" + pdf.ern_45 + "</td>");
            sb.Append("        <td style='text-align: left; width: 14%; padding: 10px;border:1px solid #000000;'>AO :<br/><br/>" + pdf.ern_46 + "</td>");
            sb.Append("        <td style='text-align: left; width: 14%; padding: 10px;border:1px solid #000000;'><br/><br/>" + pdf.ern_47 + "</td>");
            sb.Append("        <td style='text-align: left; width: 16%; padding: 10px;border:1px solid #000000;'>E/E' ratio :<br/><br/>" + pdf.ern_48 + "</td>");
            sb.Append("        <td style='text-align: left; width: 14%; padding: 10px;border:1px solid #000000;'><br/><br/>" + pdf.ern_49 + "</td>");
            sb.Append("        <td style='text-align: left; width: 14%; padding: 10px;border:1px solid #000000;'>RV-FAC :<br/><br/>" + pdf.ern_50 + "</td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");
            sb.Append("<p style='text-align: left; width: 100%; padding: 10px;'>*Regional wall motion at rest (1=normal, 2= hypokinetic, 3= akinetic, 4=dyskinetic)</p>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse; margin-bottom: 20px;'>");

            sb.Append("    <tr style='margin-bottom: 50px;'>");
            sb.Append("        <td style='text-align: center; width: 33%; padding: 10px;border:1px solid #000000;'><b>Basal Segments</b></td>");
            sb.Append("        <td style='text-align: center; width: 34%; padding: 10px;border:1px solid #000000;'><b>Mid Segments</b></td>");
            sb.Append("        <td style='text-align: center; width: 33%; padding: 10px;border:1px solid #000000;'><b>Apical Segments</b></td>");
            sb.Append("    </tr>");

            sb.Append("    <tr style='margin-bottom: 50px;'>");
            sb.Append("        <td style='text-align: left; width: 33%; padding: 10px;border:1px solid #000000;'>Anterior :  " + pdf.ern_51 + "</td>");
            sb.Append("        <td style='text-align: left; width: 34%; padding: 10px;border:1px solid #000000;'>Anterior :  " + pdf.ern_52 + "</td>");
            sb.Append("        <td style='text-align: left; width: 33%; padding: 10px;border:1px solid #000000;'>Anterior :  " + pdf.ern_53 + "</td>");
            sb.Append("    </tr>");

            sb.Append("    <tr style='margin-bottom: 50px;'>");
            sb.Append("        <td style='text-align: left; width: 33%; padding: 10px;border:1px solid #000000;'>Anteroseptal :  " + pdf.ern_54 + "</td>");
            sb.Append("        <td style='text-align: left; width: 34%; padding: 10px;border:1px solid #000000;'>Anteroseptal :  " + pdf.ern_55 + "</td>");
            sb.Append("        <td style='text-align: left; width: 33%; padding: 10px;border:1px solid #000000;'>septal :  " + pdf.ern_56 + "</td>");
            sb.Append("    </tr>");

            sb.Append("    <tr style='margin-bottom: 50px;'>");
            sb.Append("        <td style='text-align: left; width: 33%; padding: 10px;border:1px solid #000000;'>Inferoseptal :  " + pdf.ern_57 + "</td>");
            sb.Append("        <td style='text-align: left; width: 34%; padding: 10px;border:1px solid #000000;'>Inferoseptal :  " + pdf.ern_58 + "</td>");
            sb.Append("        <td style='text-align: left; width: 33%; padding: 10px;border:1px solid #000000;'>Inferior :  " + pdf.ern_59 + "</td>");
            sb.Append("    </tr>");

            sb.Append("    <tr style='margin-bottom: 50px;'>");
            sb.Append("        <td style='text-align: left; width: 33%; padding: 10px;border:1px solid #000000;'>Inferior :  " + pdf.ern_60 + "</td>");
            sb.Append("        <td style='text-align: left; width: 34%; padding: 10px;border:1px solid #000000;'>Inferior :  " + pdf.ern_61 + "</td>");
            sb.Append("        <td style='text-align: left; width: 33%; padding: 10px;border:1px solid #000000;'>Ateral :  " + pdf.ern_62 + "</td>");
            sb.Append("    </tr>");

            sb.Append("    <tr style='margin-bottom: 50px;'>");
            sb.Append("        <td style='text-align: left; width: 33%; padding: 10px;border:1px solid #000000;'>Inferolateral :  " + pdf.ern_63 + "</td>");
            sb.Append("        <td style='text-align: left; width: 34%; padding: 10px;border:1px solid #000000;'>Inferolateral :  " + pdf.ern_64 + "</td>");
            sb.Append("        <td style='text-align: left; width: 33%; padding: 10px;border:1px solid #000000;'>True apex :  " + pdf.ern_65 + "</td>");
            sb.Append("    </tr>");

            sb.Append("    <tr style='margin-bottom: 50px;'>");
            sb.Append("        <td style='text-align: left; width: 33%; padding: 10px;border:1px solid #000000;'>Anterolateral :  " + pdf.ern_66 + "</td>");
            sb.Append("        <td style='text-align: left; width: 34%; padding: 10px;border:1px solid #000000;'>Anterolateral :  " + pdf.ern_67 + "</td>");
            sb.Append("        <td style='text-align: left; width: 33%; padding: 10px;border:1px solid #000000;'>  " + pdf.ern_68 + "</td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    <table style='width:100%; font-size: 12px; margin-bottom: 20px;'>");
            sb.Append("    <tr style='margin-bottom: 50px;width: 100%;'>");
            sb.Append("        <td style='text-align: left; width: 100%; padding: 10px;border:1px solid #000000;' colspan='0'><img src=\'" + pdfern_doc1_path + "'\" style=\"width:100%; height:70%;\" /></td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");
            sb.Append("<p style='text-align:left; margin-top: 50px;margin-bottom: 10px;'><b>CONCLUSION</b></p>");
            sb.Append("<p style='text-align:left; margin-top: 0px;margin-bottom: 0px;'>Normal left ventricular size with normal systolic function.</p>");
            sb.Append("<p style='text-align:left; margin-top: 0px;margin-bottom: 0px;'>Normal right ventricular with normal function (TAPSI > 16 mm).</p>");
            sb.Append("<p style='text-align:left; margin-top: 0px;margin-bottom: 0px;'>No regional wall motion abnormalities are noted at rest.</p>");
            sb.Append("<p style='text-align:left; margin-top: 0px;margin-bottom: 0px;'>Normal left atrium.</p>");
            sb.Append("<p style='text-align:left; margin-top: 0px;margin-bottom: 0px;'>No pericardial effusion</p>");
            sb.Append("<p style='text-align:left; margin-top: 0px;margin-bottom: 0px;'>No intracardiac thrombi</p>");
            sb.Append("<p style='text-align:left; margin-top: 0px;margin-bottom: 10px;'>Trivial TR</p>");
            sb.Append("<p style='text-align:left; margin-top: 0px;margin-bottom: 20px;'><b>Notes</b> <br/>" + pdf.ern_69 + "</p>");

            sb.Append("</div>");



            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;'  colspan='2'>");
            sb.Append("            <p>Sign here, only if all of your questions have been answered to your satisfaction</p>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("             Patient");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("            Doctor");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000'>");
            sb.Append("            <img src='" + psign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;'>");
            sb.Append("            <img src='" + emr.doc_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000;border-top:1px solid #000000;'>");
            sb.Append("            Patient Name");
            sb.Append("             <br/>" + emr.pat_name);
            sb.Append("</br><br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-top:1px solid #000000;'>");
            sb.Append("           Doctor Name<br/>");
            sb.Append("            " + emr.app_doctor_department + "<br/>");
            sb.Append("<br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("</table>");
            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + footer + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    </body>");
            sb.Append("</html>");

            String htmlString = sb.ToString();

            return htmlString;
        }
        //Colposcopy Consent
        public static string HtmlColposcopy(int appId, EMRInfo emr, int setId)
        {
            BusinessEntities.ConsentForms.Colposcopy pdf = BusinessLogicLayer.ConsentForms.Colposcopy.GetColposcopyData(appId).FirstOrDefault();
            BusinessEntities.Common.eSignature psign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "patient", "Colposcopy").FirstOrDefault();
            BusinessEntities.Common.eSignature wsign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "witness", "Colposcopy").FirstOrDefault();
            BusinessEntities.Common.PDFHeaderFooter hf = BusinessLogicLayer.Common.PDF.GetHeaderFooterByBranch(setId);

            string header = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "header_images", hf.header.ToString());
            string footer = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "footer_images", hf.footer.ToString());

            StringBuilder sb = new StringBuilder();


            sb.Append("<html>");
            sb.Append("    <head><title> <u>Colposcopy</u></title></head>");
            sb.Append("    <body style='font-family: Verdana, Geneva, Tahoma, sans-serif;'>");

            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + header + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000' colspan='9'>");
            sb.Append("            <h1>Informed Consent For Colposcopy</h1>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Patient Name</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000' colspan='4'>" + emr.pat_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Emirates ID</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_emirateid + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>File No</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_code + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>DOB</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_dob + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Nationality</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_nationality + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Gender</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_gender + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Doctor's Name</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.doc_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Date</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.app_fdate + "</td>");
            sb.Append("    </tr>");
            sb.Append("</table>");

            sb.Append("<div style='width:100%; text-align:justify; font-size: 12px; margin-top: 50px;margin-bottom: 50px;'>");

            sb.Append("<p>1. I hereby authorize  " + pdf.ccn_1 + "   and whomever he/she may designate as assistants to perform the procedure known as colposcopy.</p>");
            sb.Append("<p>2. I understand that colposcopy is performed to examine the cervix with a special microscope called a colposcope. This procedure usually is performed to evaluate an abnormal Pap smear or exclude the presence of cervical cancer. I understand that scrapings and/or biopsies may be taken which can cause mild cramping and discomfort. I understand that no guarantee or assurance has been made since, rarely, an abnormal area can be missed on exam or biopsy.</p>");
            sb.Append("<p>3. The doctor has explained to me that this procedure generally is safe, but that certain risks accompany any procedure. Risks associated with colposcopy include:</p>");
            sb.Append("<p>    Bleeding during or following the procedure</p>");
            sb.Append("<p>    Pain during or following the procedure</p>");
            sb.Append("<p>    Allergic reaction to iodine or the instruments</p>");
            sb.Append("<p>    Infection following the procedure</p>");
            sb.Append("<p>4. If any unforeseen condition arises in the course of the procedure, I give the physician permission to alter the procedure or administer additional treatment per his/her judgment.</p>");
            sb.Append("<p>5. For the purpose of advancing medical education, I also consent to the admittance of observers.</p>");
            sb.Append("<p>I certify that I have read and fully understand the above consent for colposcopy. Adequate explanation has been given and all of my questions have been answered completely.</p>");

            sb.Append("</div>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;'  colspan='3'>");
            sb.Append("            <p>Sign here, only if all of your questions have been answered to your satisfaction</p>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("             Patient");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 34%;'>");
            sb.Append("             Witness");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("            Doctor");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000'>");
            sb.Append("            <img src='" + psign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000'>");
            sb.Append("            <img src='" + wsign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;'>");
            sb.Append("            <img src='" + emr.doc_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000;border-top:1px solid #000000;'>");
            sb.Append("            Patient Name");
            sb.Append("             <br/>" + emr.pat_name);
            sb.Append("</br><br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000;border-top:1px solid #000000;'>");
            sb.Append("            Witness Name");
            sb.Append("             <br/>" + pdf.ccn_2);
            sb.Append("</br><br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-top:1px solid #000000;'>");
            sb.Append("           Doctor Name<br/>");
            sb.Append("            " + emr.app_doctor_department + "<br/>");
            sb.Append("<br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("</table>");
            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + footer + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    </body>");
            sb.Append("</html>");

            String htmlString = sb.ToString();

            return htmlString;
        }

        //Colposcopy Referral Form
        public static string HtmlColposcopyReferral(int appId, EMRInfo emr, int setId)
        {
            BusinessEntities.ConsentForms.ColposcopyReferral pdf = BusinessLogicLayer.ConsentForms.ColposcopyReferral.GetColposcopyReferralData(appId).FirstOrDefault();
            BusinessEntities.Common.eSignature psign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "patient", "ColposcopyReferral").FirstOrDefault();
            BusinessEntities.Common.eSignature wsign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "witness", "ColposcopyReferral").FirstOrDefault();
            BusinessEntities.Common.PDFHeaderFooter hf = BusinessLogicLayer.Common.PDF.GetHeaderFooterByBranch(setId);

            string header = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "header_images", hf.header.ToString());
            string footer = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "footer_images", hf.footer.ToString());

            StringBuilder sb = new StringBuilder();

            string pdfIcc1 = pdf.crn_radio1;
            string radioHtml1 = "<input type='radio'  class='custom-control-input' name='crn_radio1' value='1' id='1'>";
            string radioHtml2 = "<input type='radio' class='custom-control-input' name='crn_radio1' value='2' id='2'>";

            if (pdfIcc1 == "1")
            {
                radioHtml1 = radioHtml1.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdfIcc1 == "2")
            {
                radioHtml2 = radioHtml2.Replace("<input type='radio'", "<input type='radio' checked");
            }


            sb.Append("<html>");
            sb.Append("    <head><title> <u>Colposcopy Referral</u></title></head>");
            sb.Append("    <body style='font-family: Verdana, Geneva, Tahoma, sans-serif;'>");

            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + header + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000' colspan='9'>");
            sb.Append("            <h1>Colposcopy Referral Form</h1>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Patient Name</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000' colspan='4'>" + emr.pat_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Emirates ID</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_emirateid + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>File No</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_code + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>DOB</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_dob + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Nationality</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_nationality + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Gender</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_gender + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Doctor's Name</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.doc_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Date</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.app_fdate + "</td>");
            sb.Append("    </tr>");
            sb.Append("</table>");

            sb.Append("<div style='width:100%; text-align:justify; font-size: 12px; margin-top: 50px;margin-bottom: 50px;'>");

            sb.Append("    <table style='width:100%; margin-top: 50px; margin-bottom: 20px; font-size: 12px; border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left; width: 50%; padding: 10px;'>Primary Provider : " + pdf.crn_1 + "</td>");
            sb.Append("        <td style='text-align: left; width: 50%; padding: 10px;'>Date Submitted : " + pdf.crn_date1 + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left; width: 100%; padding: 10px;' colspan='2'><b>Reason for Colposcopy (check one):</b></td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left; width: 100%; padding: 10px;' colspan='2'>-------- ASC-US with high risk HPV</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left; width: 100%; padding: 10px;' colspan='2'>-------- LSIL (if adolescent or postmenopausal may not need colpo, see ASCCP algorithm)</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left; width: 100%; padding: 10px;' colspan='2'>-------- HSIL</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left; width: 100%; padding: 10px;' colspan='2'>-------- ASC-H (Atypical squamous cells, cannot exclude high grade)</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left; width: 100%; padding: 10px;' colspan='2'>-------- AGC (Atypical glandular cells)</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left; width: 100%; padding: 10px;' colspan='2'>-------- Abnormal finding on pelvic exam, please explain below:</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left; width: 100%; padding: 10px; margin-top: 50px;' colspan='2'><b>Please attach form to patient chart and submit to Colposcopy Preceptor for approval.</b></td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left; width: 100%; padding: 10px;' colspan='2'><b>If patient from outside office, please attach copy of most recent Pap report.</b></td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left; width: 100%; padding: 10px; margin-top: 50px;' colspan='2'><b>For Office Manager/Nursing:</b></td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left; width: 100%; padding: 10px;' colspan='2'>Date Patient contacted   :   " + pdf.crn_date2 + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left; width: 100%; padding: 10px;' colspan='2'>Date Colposcopy Patient Information packet sent   :   " + pdf.crn_date3 + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left; width: 100%; padding: 10px;' colspan='2'>Colposcopy Appointment Date/Time   :   " + pdf.crn_date4 + "  " + pdf.crn_time1 + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left; width: 100%; padding: 10px;' colspan='2'>Resident/provider to assist with procedure  :   " + pdf.crn_2 + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left; width: 100%; padding: 10px; margin-top: 50px;' colspan='2'><b>If patient postmenopausal, needs Estrace vaginal cream 4g PV qhs x 3wks to stop 24hrs prior to colposcopy</b></td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left; width: 100%; padding: 10px;' colspan='2'>Date prescribed   : " + pdf.crn_date5 + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left; width: 100%; padding: 10px; margin-top: 50px;' colspan='2'>Does patient want medication for anxiety prior to procedure? (needs to have someone drive her to and from our office for procedure)</b></td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left; width: 100%; padding: 10px;' colspan='2'> " + radioHtml1 + " Yes  " + radioHtml2 + " No</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left; width: 100%; padding: 10px; margin-top: 50px;' colspan='2'><b>-Alprazolam 0.5mg 1 tab po 1hr before procedure Disp #1 No refills</b></td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    <table style='width:100%; margin-bottom: 20px; font-size: 12px; border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left; width: 100%; padding: 10px;' colspan='3'><b>-Complete one below:</b></td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left; width: 48%; padding: 10px;'>Date written Rx given :  " + pdf.crn_date6 + "</td>");
            sb.Append("        <td style='text-align: center; width: 4%; padding: 10px;'>OR</td>");
            sb.Append("        <td style='text-align: right; width: 48%; padding: 10px;'>Date called in to pharmacy : " + pdf.crn_date7 + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left; width: 100%; padding: 10px; margin-top: 50px;' colspan='3'>Pharmacy name/number : " + pdf.crn_3 + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left; width: 100%; padding: 10px; margin-top: 50px;' colspan='3'><b>Follow-up:</b></td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left; width: 100%; padding: 10px;' colspan='3'>Date Pathology report received or normal colposcopy confirmed   : " + pdf.crn_date8 + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left; width: 100%; padding: 10px;' colspan='3'>Date patient entered into Pap recall or appropriate referral made  : " + pdf.crn_date9 + "</td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("</div>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;'  colspan='3'>");
            sb.Append("            <p>Sign here, only if all of your questions have been answered to your satisfaction</p>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("             Patient");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 34%;'>");
            sb.Append("             Approved for colposcopy");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("            Doctor");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000'>");
            sb.Append("            <img src='" + psign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000'>");
            sb.Append("            <img src='" + wsign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;'>");
            sb.Append("            <img src='" + emr.doc_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000;border-top:1px solid #000000;'>");
            sb.Append("            Patient Name");
            sb.Append("             <br/>" + emr.pat_name);
            sb.Append("</br><br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000;border-top:1px solid #000000;'>");
            sb.Append("</br><br/>Date approved<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-top:1px solid #000000;'>");
            sb.Append("           Doctor Name<br/>");
            sb.Append("            " + emr.app_doctor_department + "<br/>");
            sb.Append("<br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("</table>");
            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + footer + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    </body>");
            sb.Append("</html>");

            String htmlString = sb.ToString();

            return htmlString;
        }

        //Infertility Form
        public static string HtmlInfertilityForm(int appId, EMRInfo emr, int setId)
        {
            BusinessEntities.ConsentForms.InfertilityForm pdf = BusinessLogicLayer.ConsentForms.InfertilityForm.GetInfertilityFormData(appId).FirstOrDefault();
            BusinessEntities.Common.eSignature psign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "patient", "InfertilityForm").FirstOrDefault();
            BusinessEntities.Common.eSignature wsign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "witness", "InfertilityForm").FirstOrDefault();
            BusinessEntities.Common.PDFHeaderFooter hf = BusinessLogicLayer.Common.PDF.GetHeaderFooterByBranch(setId);

            string header = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "header_images", hf.header.ToString());
            string footer = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "footer_images", hf.footer.ToString());

            StringBuilder sb = new StringBuilder();


            sb.Append("<html>");
            sb.Append("    <head><title> <u>Infertility Patient History Form</u></title></head>");
            sb.Append("    <body style='font-family: Verdana, Geneva, Tahoma, sans-serif;'>");

            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + header + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000' colspan='9'>");
            sb.Append("            <h1>Infertility Patient History Form</h1>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Patient Name</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000' colspan='4'>" + emr.pat_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Emirates ID</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_emirateid + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>File No</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_code + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>DOB</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_dob + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Nationality</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_nationality + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Gender</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_gender + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Doctor's Name</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.doc_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Date</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.app_fdate + "</td>");
            sb.Append("    </tr>");
            sb.Append("</table>");

            sb.Append("<div style='width:100%; text-align:justify; font-size: 12px; margin-top: 50px;margin-bottom: 50px;'>");

            sb.Append("    <table style='width:100%; margin-top: 50px; margin-bottom: 20px; font-size: 12px; border-collapse: collapse;'>");

            sb.Append("    <tr>");
            sb.Append("        <td style='text-align:left;width:25%; padding:10px;'>Spouse's Name :</td>");
            sb.Append("        <td style='text-align:left;width:25%; padding:10px;'>" + pdf.ifn_1 + "</td>");
            sb.Append("        <td style='text-align:left;width:25%; padding:10px;'>AGE :</td>");
            sb.Append("        <td style='text-align:left;width:25%; padding:10px;'>" + pdf.ifn_2 + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align:left;width:25%; padding:10px;'>Years Married/Together :</td>");
            sb.Append("        <td style='text-align:left;width:25%; padding:10px;'>" + pdf.ifn_3 + "</td>");
            sb.Append("        <td style='text-align:left;width:25%; padding:10px;'>Years Trying to get Pregnant :</td>");
            sb.Append("        <td style='text-align:left;width:25%; padding:10px;'>" + pdf.ifn_4 + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align:left;width:25%; padding:10px;'>Prior Marriage(s)for Patient. :</td>");
            sb.Append("        <td style='text-align:left;width:25%; padding:10px;'>" + pdf.ifn_5 + "</td>");
            sb.Append("        <td style='text-align:left;width:25%; padding:10px;'>Patient's # of Children/Ages. :</td>");
            sb.Append("        <td style='text-align:left;width:25%; padding:10px;'>" + pdf.ifn_6 + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align:left;width:25%; padding:10px;'>Prior Marriage(s) for Spouse :</td>");
            sb.Append("        <td style='text-align:left;width:25%; padding:10px;'>" + pdf.ifn_7 + "</td>");
            sb.Append("        <td style='text-align:left;width:25%; padding:10px;'>Partner's # of Pregnancies :</td>");
            sb.Append("        <td style='text-align:left;width:25%; padding:10px;'>" + pdf.ifn_8 + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align:left;width:25%; padding:10px;'>#of Children/Ages : </td>");
            sb.Append("        <td style='text-align:left;width:75%; padding:10px;' colspan='3'>" + pdf.ifn_9 + "</td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");
            sb.Append("    <table style='width:100%; margin-top: 50px; margin-bottom: 20px; font-size: 12px; border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align:left;width:100%; padding:10px;'>CHIEF COMPLAINT(What is the main reason for your visit today?) <br/><br/>" + pdf.ifn_10 + "</td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");
            sb.Append("    <table style='width:100%; margin-top: 50px; margin-bottom: 20px; font-size: 12px; border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align:left;width:100%; padding:10px;' colspan='4'><center><u>PAST MEDICAL & SOCIAL HISTORY</u></center></td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align:left;width:100%; padding:10px;' colspan='4'><u>PATIENT</u></td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align:left;width:25%; padding:10px;'>Any brother(s)/ages: </td>");
            sb.Append("        <td style='text-align:left;width:25%; padding:10px;'>" + pdf.ifn_11 + "</td>");
            sb.Append("        <td style='text-align:left;width:25%; padding:10px;'>Any serious family illnesses:</td>");
            sb.Append("        <td style='text-align:left;width:25%; padding:10px;'>" + pdf.ifn_12 + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align:left;width:25%; padding:10px;'>Age at Puberty: </td>");
            sb.Append("        <td style='text-align:left;width:25%; padding:10px;'>" + pdf.ifn_13 + "</td>");
            sb.Append("        <td style='text-align:left;width:25%; padding:10px;'>Any History of(Y/N, Date): </td>");
            sb.Append("        <td style='text-align:left;width:25%; padding:10px;'>" + pdf.ifn_14 + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align:left;width:25%; padding:10px;'>Undescended Testicle: </td>");
            sb.Append("        <td style='text-align:left;width:25%; padding:10px;'>" + pdf.ifn_15 + "</td>");
            sb.Append("        <td style='text-align:left;width:25%; padding:10px;'>Hernia Surgery:   </td>");
            sb.Append("        <td style='text-align:left;width:25%; padding:10px;'>" + pdf.ifn_16 + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align:left;width:25%; padding:10px;'>Vasectomy:   </td>");
            sb.Append("        <td style='text-align:left;width:25%; padding:10px;'>" + pdf.ifn_17 + "</td>");
            sb.Append("        <td style='text-align:left;width:25%; padding:10px;'>Varicocele:      </td>");
            sb.Append("        <td style='text-align:left;width:25%; padding:10px;'>" + pdf.ifn_18 + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align:left;width:25%; padding:10px;'>Surgery on the testicle/scrotum/penis:</td>");
            sb.Append("        <td style='text-align:left;width:25%; padding:10px;'>" + pdf.ifn_19 + "</td>");
            sb.Append("        <td style='text-align:left;width:25%; padding:10px;'>Testicular Trauma/bruising/injury:</td>");
            sb.Append("        <td style='text-align:left;width:25%; padding:10px;'>" + pdf.ifn_20 + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align:left;width:25%; padding:10px;'>Recent Fever:</td>");
            sb.Append("        <td style='text-align:left;width:25%; padding:10px;'>" + pdf.ifn_21 + "</td>");
            sb.Append("        <td style='text-align:left;width:25%; padding:10px;'>Urinary Tract Infection(s):   </td>");
            sb.Append("        <td style='text-align:left;width:25%; padding:10px;'>" + pdf.ifn_22 + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align:left;width:25%; padding:10px;'>Prostatitis: </td>");
            sb.Append("        <td style='text-align:left;width:25%; padding:10px;'>" + pdf.ifn_23 + "</td>");
            sb.Append("        <td style='text-align:left;width:25%; padding:10px;'>Sexually Transmitted Diseases:</td>");
            sb.Append("        <td style='text-align:left;width:25%; padding:10px;'>" + pdf.ifn_24 + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align:left;width:25%; padding:10px;'>Mumps:</td>");
            sb.Append("        <td style='text-align:left;width:25%; padding:10px;'>" + pdf.ifn_25 + "</td>");
            sb.Append("        <td style='text-align:left;width:25%; padding:10px;'>Tuberculosis: </td>");
            sb.Append("        <td style='text-align:left;width:25%; padding:10px;'>" + pdf.ifn_26 + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align:left;width:25%; padding:10px;'>Exposure to chemicals:</td>");
            sb.Append("        <td style='text-align:left;width:25%; padding:10px;'>" + pdf.ifn_27 + "</td>");
            sb.Append("        <td style='text-align:left;width:25%; padding:10px;'>Radiation: </td>");
            sb.Append("        <td style='text-align:left;width:25%; padding:10px;'>" + pdf.ifn_28 + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align:left;width:25%; padding:10px;'>Erectile Dysfunction:</td>");
            sb.Append("        <td style='text-align:left;width:50%; padding:10px;' colspan='3'>" + pdf.ifn_29 + "</td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    <table style='width:100%; margin-top: 50px; margin-bottom: 20px; font-size: 12px; border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align:left;width:100%; padding:10px;' colspan='3'><center><u>List Any Medical Problems/Surgeries/Dates:</u></center></td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align:left;width:100%; padding:10px;' colspan='3'>" + pdf.ifn_30 + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align:left;width:25%; padding:10px;'>Medications:</td>");
            sb.Append("        <td style='text-align:left;width:50%; padding:10px;' colspan='2'>" + pdf.ifn_31 + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align:left;width:25%; padding:10px;'>Allergies:</td>");
            sb.Append("        <td style='text-align:left;width:50%; padding:10px;' colspan='2'>" + pdf.ifn_32 + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align:left;width:33%; padding:10px;'>Tobacco: " + pdf.ifn_33 + "</td>");
            sb.Append("        <td style='text-align:left;width:33%; padding:10px;'>Alcohol: " + pdf.ifn_34 + "</td>");
            sb.Append("        <td style='text-align:left;width:33%; padding:10px;'>Drugs: " + pdf.ifn_35 + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align:left;width:25%; padding:10px;'>Employment:</td>");
            sb.Append("        <td style='text-align:left;width:50%; padding:10px;' colspan='2'>" + pdf.ifn_36 + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align:left;width:33%; padding:10px;'>Frequency of sex?: " + pdf.ifn_37 + "</td>");
            sb.Append("        <td style='text-align:left;width:33%; padding:10px;'>Lubricants: " + pdf.ifn_38 + "</td>");
            sb.Append("        <td style='text-align:left;width:33%; padding:10px;'>Masturbation?: " + pdf.ifn_39 + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align:left;width:25%; padding:10px;'>Spouse's Gynecologist's Name:</td>");
            sb.Append("        <td style='text-align:left;width:50%; padding:10px;' colspan='2'>" + pdf.ifn_40 + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align:left;width:25%; padding:10px;'>Address:</td>");
            sb.Append("        <td style='text-align:left;width:50%; padding:10px;' colspan='2'>" + pdf.ifn_41 + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align:left;width:25%; padding:10px;'>Phone Number:</td>");
            sb.Append("        <td style='text-align:left;width:50%; padding:10px;' colspan='2'>" + pdf.ifn_42 + "</td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    <table style='width:100%; margin-top: 50px; margin-bottom: 20px; font-size: 12px; border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align:left;width:100%; padding:10px;' colspan='3'><center><u>SPOUSE</u></center></td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align:left;width:100%; padding:10px;' colspan='3'><center><u>List Any Medical Problems/Surgeries/Dates:</u></center></td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align:left;width:100%; padding:10px;' colspan='3'>" + pdf.ifn_43 + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align:left;width:25%; padding:10px;'>Medications:</td>");
            sb.Append("        <td style='text-align:left;width:50%; padding:10px;' colspan='2'>" + pdf.ifn_44 + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align:left;width:25%; padding:10px;'>Allergies:</td>");
            sb.Append("        <td style='text-align:left;width:50%; padding:10px;' colspan='2'>" + pdf.ifn_45 + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align:left;width:33%; padding:10px;'>Tobacco: " + pdf.ifn_46 + "</td>");
            sb.Append("        <td style='text-align:left;width:33%; padding:10px;'>Alcohol: " + pdf.ifn_47 + "</td>");
            sb.Append("        <td style='text-align:left;width:33%; padding:10px;'>Drugs: " + pdf.ifn_48 + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align:left;width:25%; padding:10px;'>Employment:</td>");
            sb.Append("        <td style='text-align:left;width:50%; padding:10px;' colspan='2'>" + pdf.ifn_49 + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align:left;width:25%; padding:10px;'>How often do your menstrual cycles occur (Days):</td>");
            sb.Append("        <td style='text-align:left;width:50%; padding:10px;' colspan='2'>" + pdf.ifn_50 + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align:left;width:25%; padding:10px;'>Have you had a female infertility evaluation? Tests? Please describe:</td>");
            sb.Append("        <td style='text-align:left;width:50%; padding:10px;' colspan='2'>" + pdf.ifn_51 + "</td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("</div>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;'  colspan='2'>");
            sb.Append("            <p>Sign here, only if all of your questions have been answered to your satisfaction</p>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("             Patient");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("            Doctor");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000'>");
            sb.Append("            <img src='" + psign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;'>");
            sb.Append("            <img src='" + emr.doc_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000;border-top:1px solid #000000;'>");
            sb.Append("            Patient Name");
            sb.Append("             <br/>" + emr.pat_name);
            sb.Append("</br><br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-top:1px solid #000000;'>");
            sb.Append("           Doctor Name<br/>");
            sb.Append("            " + emr.app_doctor_department + "<br/>");
            sb.Append("<br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("</table>");
            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + footer + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    </body>");
            sb.Append("</html>");

            String htmlString = sb.ToString();

            return htmlString;
        }

        //Pregnancy Form
        public static string HtmlPregnancyForm(int appId, EMRInfo emr, int setId)
        {
            BusinessEntities.ConsentForms.PregnancyForm pdf = BusinessLogicLayer.ConsentForms.PregnancyForm.GetPregnancyFormData(appId).FirstOrDefault();
            BusinessEntities.Common.eSignature psign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "patient", "PregnancyForm").FirstOrDefault();
            BusinessEntities.Common.eSignature wsign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "witness", "PregnancyForm").FirstOrDefault();
            BusinessEntities.Common.PDFHeaderFooter hf = BusinessLogicLayer.Common.PDF.GetHeaderFooterByBranch(setId);

            string header = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "header_images", hf.header.ToString());
            string footer = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "footer_images", hf.footer.ToString());

            StringBuilder sb = new StringBuilder();

            string pdfptf1 = pdf.ptf_radio1;
            string pdfptf2 = pdf.ptf_radio2;
            string pdfptf3 = pdf.ptf_radio3;
            string pdfptf4 = pdf.ptf_radio4;
            string pdfptf5 = pdf.ptf_radio5;
            string pdfptf6 = pdf.ptf_radio6;

            string radioHtml11 = "<input type='radio'  class='custom-control-input' name='ptf_radio11' value='11' id='11'>";
            string radioHtml12 = "<input type='radio' class='custom-control-input' name='ptf_radio11' value='12' id='12'>";
            string radioHtml21 = "<input type='radio'  class='custom-control-input' name='ptf_radio21' value='21' id='21'>";
            string radioHtml22 = "<input type='radio' class='custom-control-input' name='ptf_radio21' value='22' id='22'>";
            string radioHtml31 = "<input type='radio'  class='custom-control-input' name='ptf_radio31' value='31' id='31'>";
            string radioHtml32 = "<input type='radio' class='custom-control-input' name='ptf_radio31' value='32' id='32'>";
            string radioHtml41 = "<input type='radio'  class='custom-control-input' name='ptf_radio41' value='41' id='41'>";
            string radioHtml42 = "<input type='radio' class='custom-control-input' name='ptf_radio41' value='42' id='42'>";
            string radioHtml51 = "<input type='radio'  class='custom-control-input' name='ptf_radio51' value='51' id='51'>";
            string radioHtml52 = "<input type='radio' class='custom-control-input' name='ptf_radio51' value='52' id='52'>";
            string radioHtml61 = "<input type='radio'  class='custom-control-input' name='ptf_radio61' value='61' id='61'>";
            string radioHtml62 = "<input type='radio' class='custom-control-input' name='ptf_radio61' value='62' id='62'>";


            if (pdfptf1 == "11")
            {
                radioHtml11 = radioHtml11.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdfptf1 == "12")
            {
                radioHtml12 = radioHtml12.Replace("<input type='radio'", "<input type='radio' checked");
            }

            if (pdfptf2 == "21")
            {
                radioHtml21 = radioHtml21.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdfptf2 == "22")
            {
                radioHtml22 = radioHtml22.Replace("<input type='radio'", "<input type='radio' checked");
            }

            if (pdfptf3 == "31")
            {
                radioHtml31 = radioHtml31.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdfptf3 == "32")
            {
                radioHtml32 = radioHtml32.Replace("<input type='radio'", "<input type='radio' checked");
            }

            if (pdfptf4 == "41")
            {
                radioHtml41 = radioHtml41.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdfptf4 == "42")
            {
                radioHtml42 = radioHtml42.Replace("<input type='radio'", "<input type='radio' checked");
            }

            if (pdfptf5 == "51")
            {
                radioHtml51 = radioHtml51.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdfptf5 == "52")
            {
                radioHtml52 = radioHtml52.Replace("<input type='radio'", "<input type='radio' checked");
            }

            if (pdfptf6 == "61")
            {
                radioHtml61 = radioHtml61.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdfptf6 == "62")
            {
                radioHtml62 = radioHtml62.Replace("<input type='radio'", "<input type='radio' checked");
            }

            sb.Append("<html>");
            sb.Append("    <head><title> <u> Family Planning Clinic - Pregnancy Testing Form</u></title></head>");
            sb.Append("    <body style='font-family: Verdana, Geneva, Tahoma, sans-serif;'>");

            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + header + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000' colspan='9'>");
            sb.Append("            <h1> Family Planning Clinic - Pregnancy Testing Form</h1>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Patient Name</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000' colspan='4'>" + emr.pat_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Emirates ID</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_emirateid + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>File No</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_code + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>DOB</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_dob + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Nationality</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_nationality + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Gender</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_gender + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Doctor's Name</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.doc_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Date</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.app_fdate + "</td>");
            sb.Append("    </tr>");
            sb.Append("</table>");

            sb.Append("<div style='width:100%; text-align:justify; font-size: 12px; margin-top: 50px;margin-bottom: 50px;'>");

            sb.Append("    <table style='width:100%; margin-top: 50px; margin-bottom: 20px; font-size: 12px; border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align:left;width:100%; padding:10px;' colspan='3'><u>MENSTRUAL HISTORY</u></td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align:left;width:40%; padding:10px;' colspan='3'>First day of last menstrual period  " + pdf.ptf_1 + " Was it Ligh " + pdf.ptf_2 + " Medium " + pdf.ptf_3 + " Heavy " + pdf.ptf_4 + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align:left;width:40%; padding:10px;'>Was this a normal period?</td>");
            sb.Append("        <td style='text-align:left;width:60%; padding:10px;' colspan='2'>" + radioHtml11 + " Yes " + radioHtml12 + " No</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align:left;width:40%; padding:10px;'>Have you had: (Check all that apply) </td>");
            sb.Append("        <td style='text-align:left;width:30%; padding:10px;'>Nausea?  " + pdf.ptf_5 + "</td>");
            sb.Append("        <td style='text-align:left;width:30%; padding:10px;'>Increased Urination?  " + pdf.ptf_6 + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align:left;width:40%; padding:10px;'></td>");
            sb.Append("        <td style='text-align:left;width:30%; padding:10px;'>Sleepy/Tiredness?  " + pdf.ptf_7 + "</td>");
            sb.Append("        <td style='text-align:left;width:30%; padding:10px;'>Breast Tenderness?   " + pdf.ptf_8 + "</td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    <table style='width:100%; margin-top: 20px; margin-bottom: 20px; font-size: 12px; border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align:left;width:100%; padding:10px;' colspan='4'><u>CONTRACEPTIVE HISTORY</u></td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align:left;width:40%; padding:10px;'>Are you currently using a birth control method?</td>");
            sb.Append("        <td style='text-align:left;width:60%; padding:10px;' colspan='3'>" + radioHtml21 + " Yes " + radioHtml22 + " No</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align:left;width:40%; padding:10px;'>If you are currently using a birth control method, what is it?</td>");
            sb.Append("        <td style='text-align:left;width:30%; padding:10px;' colspan='3'>" + pdf.ptf_9 + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align:left;width:40%; padding:10px;'>Have you ever missed periods previously?</td>");
            sb.Append("        <td style='text-align:left;width:60%; padding:10px;' colspan='3'>" + radioHtml31 + " Yes " + radioHtml32 + " No</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align:left;width:40%; padding:10px;'>Did you recently stop a birth control method?</td>");
            sb.Append("        <td style='text-align:left;width:60%; padding:10px;' colspan='3'>" + radioHtml41 + " Yes " + radioHtml42 + " No</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align:left;width:40%; padding:10px;'>Number of sexual partners in the last 6 months?</td>");
            sb.Append("        <td style='text-align:left;width:20%; padding:10px;'>" + pdf.ptf_10 + "</td>");
            sb.Append("        <td style='text-align:left;width:20%; padding:10px;'colspan='2'>Last year?   " + pdf.ptf_11 + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align:left;width:40%; padding:10px;'>Sex of partners?</td>");
            sb.Append("        <td style='text-align:left;width:20%; padding:10px;'>Male : " + pdf.ptf_12 + "</td>");
            sb.Append("        <td style='text-align:left;width:20%; padding:10px;'>Female : " + pdf.ptf_13 + "</td>");
            sb.Append("        <td style='text-align:left;width:20%; padding:10px;'>Both : " + pdf.ptf_14 + "</td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    <table style='width:100%; margin-top: 20px; margin-bottom: 0px; font-size: 12px; border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align:left;width:100%; padding:10px;' colspan='3'><u>PREGNANCY HISTORY</u></td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align:left;width:40%; padding:10px;'>Have you ever been pregnant?</td>");
            sb.Append("        <td style='text-align:left;width:60%; padding:10px;' colspan='3'>" + radioHtml51 + " Yes " + radioHtml52 + " No</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align:left;width:40%; padding:10px;'>Total number of pregnancies?</td>");
            sb.Append("        <td style='text-align:left;width:30%; padding:10px;' colspan='3'>" + pdf.ptf_15 + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align:left;width:40%; padding:10px;'>Date last pregnancy ended? (Birth, miscarriage. abortion)</td>");
            sb.Append("        <td style='text-align:left;width:30%; padding:10px;' colspan='3'>" + pdf.ptf_date1 + "</td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    <table style='width:100%; margin-top: 0px; margin-bottom: 20px; font-size: 12px; border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align:left;width:10%; padding:30px; border:1px solid #000000' colspan='0'>" + pdf.ptf_16 + "</td>");
            sb.Append("        <td style='text-align:left;width:40%; padding:20px; border:1px solid #000000'># of live birth</td>");
            sb.Append("        <td style='text-align:left;width:10%; padding:30px; border:1px solid #000000' colspan='0'>" + pdf.ptf_17 + "</td>");
            sb.Append("        <td style='text-align:left;width:40%; padding:20px; border:1px solid #000000'># 1st trimester abortions</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align:left;width:10%; padding:30px; border:1px solid #000000' colspan='0'>" + pdf.ptf_18 + "</td>");
            sb.Append("        <td style='text-align:left;width:40%; padding:20px; border:1px solid #000000'># of children still living</td>");
            sb.Append("        <td style='text-align:left;width:10%; padding:30px; border:1px solid #000000' colspan='0'>" + pdf.ptf_19 + "</td>");
            sb.Append("        <td style='text-align:left;width:40%; padding:20px; border:1px solid #000000'># 1st trimester abortions (12-20 wks)</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align:left;width:10%; padding:30px; border:1px solid #000000' colspan='0'>" + pdf.ptf_20 + "</td>");
            sb.Append("        <td style='text-align:left;width:40%; padding:20px; border:1px solid #000000'># of C-sections</td>");
            sb.Append("        <td style='text-align:left;width:10%; padding:30px; border:1px solid #000000' colspan='0'>" + pdf.ptf_21 + "</td>");
            sb.Append("        <td style='text-align:left;width:40%; padding:20px; border:1px solid #000000'># ectopic pregnancies (tubal)</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align:left;width:10%; padding:30px; border:1px solid #000000' colspan='0'>" + pdf.ptf_22 + "</td>");
            sb.Append("        <td style='text-align:left;width:40%; padding:20px; border:1px solid #000000'># of stillborn deliveries</td>");
            sb.Append("        <td style='text-align:left;width:10%; padding:30px; border:1px solid #000000' colspan='0'>" + pdf.ptf_23 + "</td>");
            sb.Append("        <td style='text-align:left;width:40%; padding:20px; border:1px solid #000000'># of miscarriages</td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    <table style='width:100%; margin-top: 0px; margin-bottom: 20px; font-size: 12px; border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align:left;width:100%; padding:10px;' colspan='4'><u>FOR CLINIC USE ONLY ************** DO NOT WRITE BELOW THIS LINE ****************</u></td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align:left;width:40%; padding:10px;'>Urine pregnancy test results:</td>");
            sb.Append("        <td style='text-align:left;width:20%; padding:10px;'>Positive  : " + pdf.ptf_24 + "</td>");
            sb.Append("        <td style='text-align:left;width:20%; padding:10px;'>Negative  : " + pdf.ptf_25 + "</td>");
            sb.Append("        <td style='text-align:left;width:20%; padding:10px;'>Undetermined  : " + pdf.ptf_26 + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align:left;width:40%; padding:10px;'>If positive, expected date of delivery</td>");
            sb.Append("        <td style='text-align:left;width:30%; padding:10px;' colspan='3'>" + pdf.ptf_date2 + "</td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    <table style='width:100%; margin-top: 0px; margin-bottom: 20px; font-size: 12px; border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align:left;width:100%; padding:10px;' colspan='4'><u>Negative Results:</u></td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align:left;width:40%; padding:10px;'>Scheduled appointment for Family Planning Clinic?</td>");
            sb.Append("        <td style='text-align:left;width:20%; padding:10px;'>Yes  : " + pdf.ptf_27 + "</td>");
            sb.Append("        <td style='text-align:left;width:20%; padding:10px;'>Not needed/refused :" + pdf.ptf_28 + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align:left;width:40%; padding:10px;'>Barrier method provided?</td>");
            sb.Append("        <td style='text-align:left;width:20%; padding:10px;'>Yes  : " + pdf.ptf_29 + "</td>");
            sb.Append("        <td style='text-align:left;width:20%; padding:10px;'>Not needed/refused :" + pdf.ptf_30 + "</td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    <table style='width:100%; margin-top: 0px; margin-bottom: 0px; font-size: 12px; border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align:left;width:100%; padding:10px;' colspan='3'><u>Counseling:</u></td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align:left;width:40%; padding:10px; border:1px solid #000000'>WIC : " + pdf.ptf_31 + "</td>");
            sb.Append("        <td style='text-align:left;width:20%; padding:10px; border:1px solid #000000'>CAO Clinic :  " + pdf.ptf_32 + "</td>");
            sb.Append("        <td style='text-align:left;width:20%; padding:10px; border:1px solid #000000'>Private OB/GYN : " + pdf.ptf_33 + "</td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    <table style='width:100%; margin-top: 0px; margin-bottom: 20px; font-size: 12px; border-collapse: collapse;'>");

            sb.Append("    <tr>");
            sb.Append("        <td style='text-align:left;width:35%; padding:10px; border:1px solid #000000'>Comb. program app.</td>");
            sb.Append("        <td style='text-align:left;width:15%; padding:10px; border:1px solid #000000' colspan='0'>" + pdf.ptf_34 + "</td>");
            sb.Append("        <td style='text-align:left;width:35%; padding:10px; border:1px solid #000000'>Has Medicaid</td>");
            sb.Append("        <td style='text-align:left;width:15%; padding:10px; border:1px solid #000000' colspan='0'>" + pdf.ptf_35 + "</td>");
            sb.Append("    </tr>");

            sb.Append("    <tr>");
            sb.Append("        <td style='text-align:left;width:35%; padding:10px; border:1px solid #000000'>Sexually Transmitted Diseases </td>");
            sb.Append("        <td style='text-align:left;width:15%; padding:10px; border:1px solid #000000' colspan='0'>" + pdf.ptf_36 + "</td>");
            sb.Append("        <td style='text-align:left;width:35%; padding:10px; border:1px solid #000000'>Prenatal Care & Delivery</td>");
            sb.Append("        <td style='text-align:left;width:15%; padding:10px; border:1px solid #000000' colspan='0'>" + pdf.ptf_37 + "</td>");
            sb.Append("    </tr>");

            sb.Append("    <tr>");
            sb.Append("        <td style='text-align:left;width:35%; padding:10px; border:1px solid #000000'>Condom use for STD Prevention </td>");
            sb.Append("        <td style='text-align:left;width:15%; padding:10px; border:1px solid #000000' colspan='0'>" + pdf.ptf_38 + "</td>");
            sb.Append("        <td style='text-align:left;width:35%; padding:10px; border:1px solid #000000'>Nutrition/Exercise information</td>");
            sb.Append("        <td style='text-align:left;width:15%; padding:10px; border:1px solid #000000' colspan='0'>" + pdf.ptf_39 + "</td>");
            sb.Append("    </tr>");

            sb.Append("    <tr>");
            sb.Append("        <td style='text-align:left;width:35%; padding:10px; border:1px solid #000000'>Birth Control options  </td>");
            sb.Append("        <td style='text-align:left;width:15%; padding:10px; border:1px solid #000000' colspan='0'>" + pdf.ptf_40 + "</td>");
            sb.Append("        <td style='text-align:left;width:35%; padding:10px; border:1px solid #000000'>Danger of Alcohol/Tobacco/Drug use</td>");
            sb.Append("        <td style='text-align:left;width:15%; padding:10px; border:1px solid #000000' colspan='0'>" + pdf.ptf_41 + "</td>");
            sb.Append("    </tr>");

            sb.Append("    <tr>");
            sb.Append("        <td style='text-align:left;width:35%; padding:10px; border:1px solid #000000'>Number of sexual partners</td>");
            sb.Append("        <td style='text-align:left;width:15%; padding:10px; border:1px solid #000000' colspan='0'>" + pdf.ptf_42 + "</td>");
            sb.Append("        <td style='text-align:left;width:35%; padding:10px; border:1px solid #000000'>Danger of exposure to x-rays</td>");
            sb.Append("        <td style='text-align:left;width:15%; padding:10px; border:1px solid #000000' colspan='0'>" + pdf.ptf_43 + "</td>");
            sb.Append("    </tr>");

            sb.Append("    <tr>");
            sb.Append("        <td style='text-align:left;width:35%; padding:10px; border:1px solid #000000'>Pregnancy termination info</td>");
            sb.Append("        <td style='text-align:left;width:15%; padding:10px; border:1px solid #000000' colspan='0'>" + pdf.ptf_44 + "</td>");
            sb.Append("        <td style='text-align:left;width:35%; padding:10px; border:1px solid #000000'>Prenatal/post-partum visits</td>");
            sb.Append("        <td style='text-align:left;width:15%; padding:10px; border:1px solid #000000' colspan='0'>" + pdf.ptf_45 + "</td>");
            sb.Append("    </tr>");

            sb.Append("    <tr>");
            sb.Append("        <td style='text-align:left;width:35%; padding:10px; border:1px solid #000000'>Infant care/Foster care/Adoption info </td>");
            sb.Append("        <td style='text-align:left;width:15%; padding:10px; border:1px solid #000000' colspan='0'>" + pdf.ptf_46 + "</td>");
            sb.Append("        <td style='text-align:left;width:35%; padding:10px; border:1px solid #000000'>Danger/signs of miscarriage</td>");
            sb.Append("        <td style='text-align:left;width:15%; padding:10px; border:1px solid #000000' colspan='0'>" + pdf.ptf_47 + "</td>");
            sb.Append("    </tr>");

            sb.Append("    <tr>");
            sb.Append("        <td style='text-align:left;width:35%; padding:10px; border:1px solid #000000'>All options counseling refused? </td>");
            sb.Append("        <td style='text-align:left;width:15%; padding:10px; border:1px solid #000000' colspan='0'>" + pdf.ptf_48 + "</td>");
            sb.Append("        <td style='text-align:left;width:35%; padding:10px; border:1px solid #000000'>Pt will parent the child?</td>");
            sb.Append("        <td style='text-align:left;width:15%; padding:10px; border:1px solid #000000' colspan='0'>" + radioHtml61 + " Yes " + radioHtml62 + " No</td>");
            sb.Append("    </tr>");

            sb.Append("    <tr>");
            sb.Append("        <td style='text-align:left;width:35%; padding:10px; border:1px solid #000000'>Pre-pregnancy/Folic acid handout given? </td>");
            sb.Append("        <td style='text-align:left;width:15%; padding:10px; border:1px solid #000000' colspan='0'>" + pdf.ptf_49 + "</td>");
            sb.Append("        <td style='text-align:left;width:35%; padding:10px; border:1px solid #000000'>Proof of pregnancy given?</td>");
            sb.Append("        <td style='text-align:left;width:15%; padding:10px; border:1px solid #000000' colspan='0'>" + pdf.ptf_50 + "</td>");
            sb.Append("    </tr>");

            sb.Append("    <tr>");
            sb.Append("        <td style='text-align:left;width:35%; padding:10px; border:1px solid #000000'>Sheet with referral numbers given? </td>");
            sb.Append("        <td style='text-align:left;width:15%; padding:10px; border:1px solid #000000' colspan='3'>" + pdf.ptf_51 + "</td>");
            sb.Append("    </tr>");

            sb.Append("    <tr>");
            sb.Append("        <td style='text-align:left;width:25%; padding:10px; border:1px solid #000000'><u>Staff comments :</u></td>");
            sb.Append("        <td style='text-align:left;width:25%; padding:10px; border:1px solid #000000' colspan='3'>" + pdf.ptf_51 + "</td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("</div>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;'  colspan='2'>");
            sb.Append("            <p>Sign here, only if all of your questions have been answered to your satisfaction</p>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("             Patient");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("            Doctor");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000'>");
            sb.Append("            <img src='" + psign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;'>");
            sb.Append("            <img src='" + emr.doc_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000;border-top:1px solid #000000;'>");
            sb.Append("            Patient Name");
            sb.Append("             <br/>" + emr.pat_name);
            sb.Append("</br><br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-top:1px solid #000000;'>");
            sb.Append("           Doctor Name<br/>");
            sb.Append("            " + emr.app_doctor_department + "<br/>");
            sb.Append("<br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("</table>");
            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + footer + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    </body>");
            sb.Append("</html>");

            String htmlString = sb.ToString();

            return htmlString;
        }

        //GynExamForm
        public static string HtmlGynExamForm(int appId, EMRInfo emr, int setId)
        {
            BusinessEntities.ConsentForms.GynExamForm pdf = BusinessLogicLayer.ConsentForms.GynExamForm.GetGynExamFormData(appId).FirstOrDefault();
            BusinessEntities.Common.eSignature psign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "patient", "GynExamForm").FirstOrDefault();
            BusinessEntities.Common.eSignature wsign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "witness", "GynExamForm").FirstOrDefault();
            BusinessEntities.Common.PDFHeaderFooter hf = BusinessLogicLayer.Common.PDF.GetHeaderFooterByBranch(setId);

            string header = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "header_images", hf.header.ToString());
            string footer = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "footer_images", hf.footer.ToString());

            StringBuilder sb = new StringBuilder();

            string ChkHtml1 = "<input type='checkbox'  class='custom-control-input' name='gef_chk1' value='1' id='gef_chk11'>";
            string ChkHtml2 = "<input type='checkbox'  class='custom-control-input' name='gef_chk1' value='2' id='gef_chk12'>";
            string ChkHtml3 = "<input type='checkbox'  class='custom-control-input' name='gef_chk1' value='3' id='gef_chk13'>";
            string ChkHtml4 = "<input type='checkbox'  class='custom-control-input' name='gef_chk1' value='4' id='gef_chk14'>";

            if (pdf.gef_chk1.Contains("1"))
            {
                ChkHtml1 = ChkHtml1.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.gef_chk1.Contains("2"))
            {
                ChkHtml2 = ChkHtml2.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.gef_chk1.Contains("3"))
            {
                ChkHtml3 = ChkHtml3.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.gef_chk1.Contains("4"))
            {
                ChkHtml4 = ChkHtml4.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }

            string pdfgef1 = pdf.gef_radio1;
            string pdfgef2 = pdf.gef_radio2;
            string pdfgef3 = pdf.gef_radio3;
            string pdfgef4 = pdf.gef_radio4;
            string pdfgef5 = pdf.gef_radio5;
            string pdfgef6 = pdf.gef_radio6;
            string pdfgef7 = pdf.gef_radio7;
            string pdfgef8 = pdf.gef_radio8;
            string pdfgef9 = pdf.gef_radio9;
            string pdfgef10 = pdf.gef_radio10;
            string pdfgef11 = pdf.gef_radio11;
            string pdfgef12 = pdf.gef_radio12;
            string pdfgef13 = pdf.gef_radio13;
            string pdfgef14 = pdf.gef_radio14;
            string pdfgef15 = pdf.gef_radio15;
            string pdfgef16 = pdf.gef_radio16;
            string pdfgef17 = pdf.gef_radio17;
            string pdfgef18 = pdf.gef_radio18;
            string pdfgef19 = pdf.gef_radio19;
            string pdfgef20 = pdf.gef_radio20;
            string pdfgef21 = pdf.gef_radio21;
            string pdfgef22 = pdf.gef_radio22;
            string pdfgef23 = pdf.gef_radio23;
            string pdfgef24 = pdf.gef_radio24;
            string pdfgef25 = pdf.gef_radio25;
            string pdfgef26 = pdf.gef_radio26;
            string pdfgef27 = pdf.gef_radio27;
            string pdfgef28 = pdf.gef_radio28;
            string pdfgef29 = pdf.gef_radio29;
            string pdfgef30 = pdf.gef_radio30;
            string pdfgef31 = pdf.gef_radio31;
            string pdfgef32 = pdf.gef_radio32;
            string pdfgef33 = pdf.gef_radio33;
            string pdfgef34 = pdf.gef_radio34;
            string pdfgef35 = pdf.gef_radio35;
            string pdfgef36 = pdf.gef_radio36;
            string pdfgef37 = pdf.gef_radio37;
            string pdfgef38 = pdf.gef_radio38;
            string pdfgef39 = pdf.gef_radio39;
            string pdfgef40 = pdf.gef_radio40;
            string pdfgef41 = pdf.gef_radio41;
            string pdfgef42 = pdf.gef_radio42;
            string pdfgef43 = pdf.gef_radio43;
            string pdfgef44 = pdf.gef_radio44;
            string pdfgef45 = pdf.gef_radio45;
            string pdfgef46 = pdf.gef_radio46;
            string pdfgef47 = pdf.gef_radio47;
            string pdfgef48 = pdf.gef_radio48;
            string pdfgef49 = pdf.gef_radio49;
            string pdfgef50 = pdf.gef_radio50;
            string pdfgef51 = pdf.gef_radio51;
            string pdfgef52 = pdf.gef_radio52;
            string pdfgef53 = pdf.gef_radio53;
            string pdfgef54 = pdf.gef_radio54;
            string pdfgef55 = pdf.gef_radio55;
            string pdfgef56 = pdf.gef_radio56;
            string pdfgef57 = pdf.gef_radio57;
            string pdfgef58 = pdf.gef_radio58;
            string pdfgef59 = pdf.gef_radio59;
            string pdfgef60 = pdf.gef_radio60;
            string pdfgef61 = pdf.gef_radio61;
            string pdfgef62 = pdf.gef_radio62;
            string pdfgef63 = pdf.gef_radio63;
            string pdfgef64 = pdf.gef_radio64;

            string radioHtml11 = "<input type='radio'  class='custom-control-input' name='gef_radio1' value='11' id='11'>";
            string radioHtml12 = "<input type='radio' class='custom-control-input' name='gef_radio1' value='12' id='12'>";
            string radioHtml13 = "<input type='radio' class='custom-control-input' name='gef_radio1' value='13' id='13'>";

            string radioHtml21 = "<input type='radio'  class='custom-control-input' name='gef_radio2' value='21' id='21'>";
            string radioHtml22 = "<input type='radio' class='custom-control-input' name='gef_radio2' value='22' id='22'>";
            string radioHtml23 = "<input type='radio' class='custom-control-input' name='gef_radio2' value='23' id='23'>";

            string radioHtml31 = "<input type='radio'  class='custom-control-input' name='gef_radio3' value='31' id='31'>";
            string radioHtml32 = "<input type='radio' class='custom-control-input' name='gef_radio3' value='32' id='32'>";
            string radioHtml33 = "<input type='radio' class='custom-control-input' name='gef_radio3' value='33' id='33'>";

            string radioHtml41 = "<input type='radio'  class='custom-control-input' name='gef_radio4' value='41' id='41'>";
            string radioHtml42 = "<input type='radio' class='custom-control-input' name='gef_radio4' value='42' id='42'>";
            string radioHtml43 = "<input type='radio' class='custom-control-input' name='gef_radio4' value='43' id='43'>";

            string radioHtml51 = "<input type='radio'  class='custom-control-input' name='gef_radio5' value='51' id='51'>";
            string radioHtml52 = "<input type='radio' class='custom-control-input' name='gef_radio5' value='52' id='52'>";
            string radioHtml53 = "<input type='radio' class='custom-control-input' name='gef_radio5' value='53' id='53'>";

            string radioHtml61 = "<input type='radio'  class='custom-control-input' name='gef_radio6' value='61' id='61'>";
            string radioHtml62 = "<input type='radio' class='custom-control-input' name='gef_radio6' value='62' id='62'>";
            string radioHtml63 = "<input type='radio' class='custom-control-input' name='gef_radio6' value='63' id='63'>";

            string radioHtml71 = "<input type='radio'  class='custom-control-input' name='gef_radio7' value='71' id='71'>";
            string radioHtml72 = "<input type='radio' class='custom-control-input' name='gef_radio7' value='72' id='72'>";
            string radioHtml73 = "<input type='radio' class='custom-control-input' name='gef_radio7' value='73' id='73'>";

            string radioHtml81 = "<input type='radio'  class='custom-control-input' name='gef_radio8' value='81' id='81'>";
            string radioHtml82 = "<input type='radio' class='custom-control-input' name='gef_radio8' value='82' id='82'>";
            string radioHtml83 = "<input type='radio' class='custom-control-input' name='gef_radio8' value='83' id='83'>";

            string radioHtml91 = "<input type='radio'  class='custom-control-input' name='gef_radio9' value='91' id='91'>";
            string radioHtml92 = "<input type='radio' class='custom-control-input' name='gef_radio9' value='92' id='92'>";
            string radioHtml93 = "<input type='radio' class='custom-control-input' name='gef_radio9' value='93' id='93'>";

            string radioHtml101 = "<input type='radio'  class='custom-control-input' name='gef_radio10' value='101' id='101'>";
            string radioHtml102 = "<input type='radio' class='custom-control-input' name='gef_radio10' value='102' id='102'>";
            string radioHtml103 = "<input type='radio' class='custom-control-input' name='gef_radio10' value='103' id='103'>";

            string radioHtml111 = "<input type='radio'  class='custom-control-input' name='gef_radio11' value='111' id='111'>";
            string radioHtml112 = "<input type='radio' class='custom-control-input' name='gef_radio11' value='112' id='112'>";
            string radioHtml113 = "<input type='radio' class='custom-control-input' name='gef_radio11' value='113' id=1'13'>";

            string radioHtml121 = "<input type='radio'  class='custom-control-input' name='gef_radio12' value='121' id='121'>";
            string radioHtml122 = "<input type='radio' class='custom-control-input' name='gef_radio12' value='122' id='122'>";
            string radioHtml123 = "<input type='radio' class='custom-control-input' name='gef_radio12' value='123' id='123'>";

            string radioHtml131 = "<input type='radio'  class='custom-control-input' name='gef_radio13' value='131' id='131'>";
            string radioHtml132 = "<input type='radio' class='custom-control-input' name='gef_radio13' value='132' id='132'>";
            string radioHtml133 = "<input type='radio' class='custom-control-input' name='gef_radio13' value='133' id='133'>";

            string radioHtml141 = "<input type='radio'  class='custom-control-input' name='gef_radio14' value='141' id='141'>";
            string radioHtml142 = "<input type='radio' class='custom-control-input' name='gef_radio14' value='142' id='142'>";
            string radioHtml143 = "<input type='radio' class='custom-control-input' name='gef_radio14' value='143' id='143'>";

            string radioHtml151 = "<input type='radio'  class='custom-control-input' name='gef_radio15' value='151' id='151'>";
            string radioHtml152 = "<input type='radio' class='custom-control-input' name='gef_radio15' value='152' id='152'>";
            string radioHtml153 = "<input type='radio' class='custom-control-input' name='gef_radio15' value='153' id='153'>";

            string radioHtml161 = "<input type='radio'  class='custom-control-input' name='gef_radio16' value='161' id='161'>";
            string radioHtml162 = "<input type='radio' class='custom-control-input' name='gef_radio16' value='162' id='162'>";
            string radioHtml163 = "<input type='radio' class='custom-control-input' name='gef_radio16' value='163' id='163'>";

            string radioHtml171 = "<input type='radio'  class='custom-control-input' name='gef_radio17' value='171' id='171'>";
            string radioHtml172 = "<input type='radio' class='custom-control-input' name='gef_radio17' value='172' id='172'>";
            string radioHtml173 = "<input type='radio' class='custom-control-input' name='gef_radio17' value='173' id='1173'>";

            string radioHtml181 = "<input type='radio'  class='custom-control-input' name='gef_radio18' value='181' id='181'>";
            string radioHtml182 = "<input type='radio' class='custom-control-input' name='gef_radio18' value='182' id='182'>";
            string radioHtml183 = "<input type='radio' class='custom-control-input' name='gef_radio18' value='183' id='183'>";

            string radioHtml191 = "<input type='radio'  class='custom-control-input' name='gef_radio19' value='191' id='191'>";
            string radioHtml192 = "<input type='radio' class='custom-control-input' name='gef_radio19' value='192' id='192'>";
            string radioHtml193 = "<input type='radio' class='custom-control-input' name='gef_radio19' value='193' id='193'>";

            string radioHtml201 = "<input type='radio'  class='custom-control-input' name='gef_radio20' value='201' id='201'>";
            string radioHtml202 = "<input type='radio' class='custom-control-input' name='gef_radio20' value='202' id='202'>";
            string radioHtml203 = "<input type='radio' class='custom-control-input' name='gef_radio20' value='203' id='203'>";

            string radioHtml211 = "<input type='radio'  class='custom-control-input' name='gef_radio21' value='211' id='211'>";
            string radioHtml212 = "<input type='radio' class='custom-control-input' name='gef_radio21' value='212' id='212'>";
            string radioHtml213 = "<input type='radio' class='custom-control-input' name='gef_radio21' value='213' id='213'>";

            string radioHtml221 = "<input type='radio'  class='custom-control-input' name='gef_radio22' value='221' id='221'>";
            string radioHtml222 = "<input type='radio' class='custom-control-input' name='gef_radio22' value='222' id='222'>";
            string radioHtml223 = "<input type='radio' class='custom-control-input' name='gef_radio22' value='223' id='223'>";

            string radioHtml231 = "<input type='radio'  class='custom-control-input' name='gef_radio23' value='231' id='231'>";
            string radioHtml232 = "<input type='radio' class='custom-control-input' name='gef_radio23' value='232' id='232'>";
            string radioHtml233 = "<input type='radio' class='custom-control-input' name='gef_radio23' value='233' id='233'>";

            string radioHtml241 = "<input type='radio'  class='custom-control-input' name='gef_radio24' value='241' id='241'>";
            string radioHtml242 = "<input type='radio' class='custom-control-input' name='gef_radio24' value='242' id='242'>";
            string radioHtml243 = "<input type='radio' class='custom-control-input' name='gef_radio24' value='243' id='243'>";

            string radioHtml251 = "<input type='radio'  class='custom-control-input' name='gef_radio25' value='251' id='251'>";
            string radioHtml252 = "<input type='radio' class='custom-control-input' name='gef_radio25' value='252' id='252'>";
            string radioHtml253 = "<input type='radio' class='custom-control-input' name='gef_radio25' value='253' id='253'>";

            string radioHtml261 = "<input type='radio'  class='custom-control-input' name='gef_radio26' value='261' id='261'>";
            string radioHtml262 = "<input type='radio' class='custom-control-input' name='gef_radio26' value='262' id='262'>";
            string radioHtml263 = "<input type='radio' class='custom-control-input' name='gef_radio26' value='263' id='263'>";

            string radioHtml271 = "<input type='radio'  class='custom-control-input' name='gef_radio27' value='271' id='271'>";
            string radioHtml272 = "<input type='radio' class='custom-control-input' name='gef_radio27' value='272' id='272'>";
            string radioHtml273 = "<input type='radio' class='custom-control-input' name='gef_radio27' value='273' id='273'>";

            string radioHtml281 = "<input type='radio'  class='custom-control-input' name='gef_radio28' value='281' id='281'>";
            string radioHtml282 = "<input type='radio' class='custom-control-input' name='gef_radio28' value='282' id='282'>";
            string radioHtml283 = "<input type='radio' class='custom-control-input' name='gef_radio28' value='283' id='283'>";

            string radioHtml291 = "<input type='radio'  class='custom-control-input' name='gef_radio29' value='291' id='291'>";
            string radioHtml292 = "<input type='radio' class='custom-control-input' name='gef_radio29' value='292' id='292'>";
            string radioHtml293 = "<input type='radio' class='custom-control-input' name='gef_radio29' value='293' id='293'>";

            string radioHtml301 = "<input type='radio'  class='custom-control-input' name='gef_radio30' value='301' id='301'>";
            string radioHtml302 = "<input type='radio' class='custom-control-input' name='gef_radio30' value='302' id='302'>";
            string radioHtml303 = "<input type='radio' class='custom-control-input' name='gef_radio30' value='303' id='303'>";

            string radioHtml311 = "<input type='radio'  class='custom-control-input' name='gef_radio31' value='311' id='311'>";
            string radioHtml312 = "<input type='radio' class='custom-control-input' name='gef_radio31' value='312' id='312'>";
            string radioHtml313 = "<input type='radio' class='custom-control-input' name='gef_radio31' value='313' id='313'>";

            string radioHtml321 = "<input type='radio'  class='custom-control-input' name='gef_radio32' value='321' id='321'>";
            string radioHtml322 = "<input type='radio' class='custom-control-input' name='gef_radio32' value='322' id='322'>";
            string radioHtml323 = "<input type='radio' class='custom-control-input' name='gef_radio32' value='323' id='323'>";

            string radioHtml331 = "<input type='radio'  class='custom-control-input' name='gef_radio33' value='331' id='331'>";
            string radioHtml332 = "<input type='radio' class='custom-control-input' name='gef_radio33' value='332' id='332'>";
            string radioHtml333 = "<input type='radio' class='custom-control-input' name='gef_radio33' value='333' id='333'>";

            string radioHtml341 = "<input type='radio'  class='custom-control-input' name='gef_radio34' value='341' id='341'>";
            string radioHtml342 = "<input type='radio' class='custom-control-input' name='gef_radio34' value='342' id='342'>";
            string radioHtml343 = "<input type='radio' class='custom-control-input' name='gef_radio34' value='343' id='343'>";

            string radioHtml351 = "<input type='radio'  class='custom-control-input' name='gef_radio35' value='351' id='351'>";
            string radioHtml352 = "<input type='radio' class='custom-control-input' name='gef_radio35' value='352' id='352'>";
            string radioHtml353 = "<input type='radio' class='custom-control-input' name='gef_radio35' value='353' id='353'>";

            string radioHtml361 = "<input type='radio'  class='custom-control-input' name='gef_radio36' value='361' id='361'>";
            string radioHtml362 = "<input type='radio' class='custom-control-input' name='gef_radio36' value='362' id='362'>";
            string radioHtml363 = "<input type='radio' class='custom-control-input' name='gef_radio36' value='363' id='363'>";

            string radioHtml371 = "<input type='radio'  class='custom-control-input' name='gef_radio37' value='371' id='371'>";
            string radioHtml372 = "<input type='radio' class='custom-control-input' name='gef_radio37' value='372' id='372'>";
            string radioHtml373 = "<input type='radio' class='custom-control-input' name='gef_radio37' value='373' id='373'>";

            string radioHtml381 = "<input type='radio'  class='custom-control-input' name='gef_radio38' value='381' id='381'>";
            string radioHtml382 = "<input type='radio' class='custom-control-input' name='gef_radio38' value='382' id='382'>";
            string radioHtml383 = "<input type='radio' class='custom-control-input' name='gef_radio38' value='383' id='383'>";

            string radioHtml391 = "<input type='radio'  class='custom-control-input' name='gef_radio39' value='391' id='391'>";
            string radioHtml392 = "<input type='radio' class='custom-control-input' name='gef_radio39' value='392' id='392'>";
            string radioHtml393 = "<input type='radio' class='custom-control-input' name='gef_radio39' value='393' id='393'>";

            string radioHtml401 = "<input type='radio'  class='custom-control-input' name='gef_radio40' value='401' id='401'>";
            string radioHtml402 = "<input type='radio' class='custom-control-input' name='gef_radio40' value='402' id='402'>";
            string radioHtml403 = "<input type='radio' class='custom-control-input' name='gef_radio40' value='403' id='403'>";

            string radioHtml411 = "<input type='radio'  class='custom-control-input' name='gef_radio41' value='411' id='411'>";
            string radioHtml412 = "<input type='radio' class='custom-control-input' name='gef_radio41' value='412' id='412'>";
            string radioHtml413 = "<input type='radio' class='custom-control-input' name='gef_radio41' value='413' id='413'>";

            string radioHtml421 = "<input type='radio'  class='custom-control-input' name='gef_radio42' value='421' id='421'>";
            string radioHtml422 = "<input type='radio' class='custom-control-input' name='gef_radio42' value='422' id='422'>";

            string radioHtml431 = "<input type='radio'  class='custom-control-input' name='gef_radio43' value='431' id='431'>";
            string radioHtml432 = "<input type='radio' class='custom-control-input' name='gef_radio43' value='432' id='432'>";

            string radioHtml441 = "<input type='radio'  class='custom-control-input' name='gef_radio44' value='441' id='441'>";
            string radioHtml442 = "<input type='radio' class='custom-control-input' name='gef_radio44' value='442' id='442'>";

            string radioHtml451 = "<input type='radio'  class='custom-control-input' name='gef_radio45' value='451' id='451'>";
            string radioHtml452 = "<input type='radio' class='custom-control-input' name='gef_radio45' value='452' id='452'>";

            string radioHtml461 = "<input type='radio'  class='custom-control-input' name='gef_radio46' value='461' id='461'>";
            string radioHtml462 = "<input type='radio' class='custom-control-input' name='gef_radio46' value='462' id='462'>";

            string radioHtml471 = "<input type='radio'  class='custom-control-input' name='gef_radio47' value='471' id='471'>";
            string radioHtml472 = "<input type='radio' class='custom-control-input' name='gef_radio47' value='472' id='472'>";

            string radioHtml481 = "<input type='radio'  class='custom-control-input' name='gef_radio48' value='481' id='481'>";
            string radioHtml482 = "<input type='radio' class='custom-control-input' name='gef_radio48' value='482' id='482'>";

            string radioHtml491 = "<input type='radio'  class='custom-control-input' name='gef_radio49' value='491' id='491'>";
            string radioHtml492 = "<input type='radio' class='custom-control-input' name='gef_radio49' value='492' id='492'>";

            string radioHtml501 = "<input type='radio'  class='custom-control-input' name='gef_radio50' value='501' id='501'>";
            string radioHtml502 = "<input type='radio' class='custom-control-input' name='gef_radio50' value='502' id='502'>";

            string radioHtml511 = "<input type='radio'  class='custom-control-input' name='gef_radio51' value='511' id='511'>";
            string radioHtml512 = "<input type='radio' class='custom-control-input' name='gef_radio51' value='512' id='512'>";

            string radioHtml521 = "<input type='radio'  class='custom-control-input' name='gef_radio52' value='521' id='521'>";
            string radioHtml522 = "<input type='radio' class='custom-control-input' name='gef_radio52' value='522' id='522'>";
            string radioHtml523 = "<input type='radio' class='custom-control-input' name='gef_radio52' value='523' id='523'>";
            string radioHtml524 = "<input type='radio' class='custom-control-input' name='gef_radio52' value='524' id='524'>";
            string radioHtml525 = "<input type='radio' class='custom-control-input' name='gef_radio52' value='525' id='525'>";
            string radioHtml526 = "<input type='radio' class='custom-control-input' name='gef_radio52' value='526' id='526'>";

            string radioHtml531 = "<input type='radio'  class='custom-control-input' name='gef_radio53' value='531' id='531'>";
            string radioHtml532 = "<input type='radio' class='custom-control-input' name='gef_radio53' value='532' id='532'>";

            string radioHtml541 = "<input type='radio'  class='custom-control-input' name='gef_radio54' value='541' id='541'>";
            string radioHtml542 = "<input type='radio' class='custom-control-input' name='gef_radio54' value='542' id='542'>";

            string radioHtml551 = "<input type='radio'  class='custom-control-input' name='gef_radio55' value='551' id='551'>";
            string radioHtml552 = "<input type='radio' class='custom-control-input' name='gef_radio55' value='552' id='552'>";
            string radioHtml553 = "<input type='radio' class='custom-control-input' name='gef_radio55' value='553' id='553'>";

            string radioHtml561 = "<input type='radio'  class='custom-control-input' name='gef_radio56' value='561' id='561'>";
            string radioHtml562 = "<input type='radio' class='custom-control-input' name='gef_radio56' value='562' id='562'>";

            string radioHtml571 = "<input type='radio'  class='custom-control-input' name='gef_radio57' value='571' id='571'>";
            string radioHtml572 = "<input type='radio' class='custom-control-input' name='gef_radio57' value='572' id='572'>";

            string radioHtml581 = "<input type='radio'  class='custom-control-input' name='gef_radio58' value='581' id='581'>";
            string radioHtml582 = "<input type='radio' class='custom-control-input' name='gef_radio58' value='582' id='582'>";

            string radioHtml591 = "<input type='radio'  class='custom-control-input' name='gef_radio59' value='591' id='591'>";
            string radioHtml592 = "<input type='radio' class='custom-control-input' name='gef_radio59' value='592' id='592'>";

            string radioHtml601 = "<input type='radio'  class='custom-control-input' name='gef_radio60' value='601' id='601'>";
            string radioHtml602 = "<input type='radio' class='custom-control-input' name='gef_radio60' value='602' id='602'>";

            string radioHtml611 = "<input type='radio'  class='custom-control-input' name='gef_radio61' value='611' id='611'>";
            string radioHtml612 = "<input type='radio' class='custom-control-input' name='gef_radio61' value='612' id='612'>";

            string radioHtml621 = "<input type='radio'  class='custom-control-input' name='gef_radio62' value='621' id='621'>";
            string radioHtml622 = "<input type='radio' class='custom-control-input' name='gef_radio62' value='622' id='622'>";

            string radioHtml631 = "<input type='radio'  class='custom-control-input' name='gef_radio63' value='631' id='631'>";
            string radioHtml632 = "<input type='radio' class='custom-control-input' name='gef_radio63' value='632' id='632'>";

            string radioHtml641 = "<input type='radio'  class='custom-control-input' name='gef_radio64' value='641' id='641'>";
            string radioHtml642 = "<input type='radio' class='custom-control-input' name='gef_radio64' value='642' id='642'>";


            if (pdfgef1 == "11")
            {
                radioHtml11 = radioHtml11.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdfgef1 == "12")
            {
                radioHtml12 = radioHtml12.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdfgef1 == "13")
            {
                radioHtml13 = radioHtml13.Replace("<input type='radio'", "<input type='radio' checked");
            }


            if (pdfgef2 == "21")
            {
                radioHtml21 = radioHtml21.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdfgef2 == "22")
            {
                radioHtml22 = radioHtml22.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdfgef2 == "23")
            {
                radioHtml23 = radioHtml23.Replace("<input type='radio'", "<input type='radio' checked");
            }


            if (pdfgef3 == "31")
            {
                radioHtml31 = radioHtml31.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdfgef3 == "32")
            {
                radioHtml32 = radioHtml32.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdfgef3 == "33")
            {
                radioHtml33 = radioHtml33.Replace("<input type='radio'", "<input type='radio' checked");
            }


            if (pdfgef4 == "41")
            {
                radioHtml41 = radioHtml41.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdfgef4 == "42")
            {
                radioHtml42 = radioHtml42.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdfgef4 == "43")
            {
                radioHtml43 = radioHtml43.Replace("<input type='radio'", "<input type='radio' checked");
            }


            if (pdfgef5 == "51")
            {
                radioHtml51 = radioHtml51.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdfgef5 == "52")
            {
                radioHtml52 = radioHtml52.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdfgef5 == "53")
            {
                radioHtml53 = radioHtml53.Replace("<input type='radio'", "<input type='radio' checked");
            }


            if (pdfgef6 == "61")
            {
                radioHtml61 = radioHtml61.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdfgef6 == "62")
            {
                radioHtml62 = radioHtml62.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdfgef6 == "63")
            {
                radioHtml63 = radioHtml63.Replace("<input type='radio'", "<input type='radio' checked");
            }

            if (pdfgef7 == "71")
            {
                radioHtml71 = radioHtml71.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdfgef7 == "72")
            {
                radioHtml72 = radioHtml72.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdfgef7 == "73")
            {
                radioHtml73 = radioHtml73.Replace("<input type='radio'", "<input type='radio' checked");
            }

            if (pdfgef8 == "81")
            {
                radioHtml81 = radioHtml81.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdfgef8 == "82")
            {
                radioHtml82 = radioHtml82.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdfgef8 == "83")
            {
                radioHtml83 = radioHtml83.Replace("<input type='radio'", "<input type='radio' checked");
            }

            if (pdfgef9 == "91")
            {
                radioHtml91 = radioHtml91.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdfgef9 == "92")
            {
                radioHtml92 = radioHtml92.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdfgef9 == "93")
            {
                radioHtml93 = radioHtml93.Replace("<input type='radio'", "<input type='radio' checked");
            }

            if (pdfgef10 == "101")
            {
                radioHtml101 = radioHtml101.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdfgef10 == "102")
            {
                radioHtml102 = radioHtml102.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdfgef10 == "103")
            {
                radioHtml103 = radioHtml103.Replace("<input type='radio'", "<input type='radio' checked");
            }


            if (pdfgef11 == "111")
            {
                radioHtml111 = radioHtml111.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdfgef11 == "112")
            {
                radioHtml112 = radioHtml112.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdfgef11 == "113")
            {
                radioHtml113 = radioHtml113.Replace("<input type='radio'", "<input type='radio' checked");
            }


            if (pdfgef12 == "121")
            {
                radioHtml121 = radioHtml121.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdfgef12 == "122")
            {
                radioHtml122 = radioHtml122.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdfgef12 == "123")
            {
                radioHtml123 = radioHtml123.Replace("<input type='radio'", "<input type='radio' checked");
            }


            if (pdfgef13 == "131")
            {
                radioHtml131 = radioHtml131.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdfgef13 == "132")
            {
                radioHtml132 = radioHtml132.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdfgef13 == "133")
            {
                radioHtml133 = radioHtml133.Replace("<input type='radio'", "<input type='radio' checked");
            }


            if (pdfgef14 == "141")
            {
                radioHtml141 = radioHtml141.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdfgef14 == "142")
            {
                radioHtml142 = radioHtml142.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdfgef14 == "143")
            {
                radioHtml143 = radioHtml143.Replace("<input type='radio'", "<input type='radio' checked");
            }


            if (pdfgef15 == "151")
            {
                radioHtml151 = radioHtml151.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdfgef15 == "152")
            {
                radioHtml152 = radioHtml152.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdfgef15 == "153")
            {
                radioHtml153 = radioHtml153.Replace("<input type='radio'", "<input type='radio' checked");
            }


            if (pdfgef16 == "161")
            {
                radioHtml161 = radioHtml161.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdfgef16 == "162")
            {
                radioHtml162 = radioHtml162.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdfgef16 == "163")
            {
                radioHtml163 = radioHtml163.Replace("<input type='radio'", "<input type='radio' checked");
            }

            if (pdfgef17 == "171")
            {
                radioHtml171 = radioHtml171.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdfgef17 == "172")
            {
                radioHtml172 = radioHtml172.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdfgef17 == "173")
            {
                radioHtml173 = radioHtml173.Replace("<input type='radio'", "<input type='radio' checked");
            }

            if (pdfgef18 == "181")
            {
                radioHtml181 = radioHtml181.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdfgef18 == "182")
            {
                radioHtml182 = radioHtml182.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdfgef18 == "183")
            {
                radioHtml183 = radioHtml183.Replace("<input type='radio'", "<input type='radio' checked");
            }

            if (pdfgef19 == "191")
            {
                radioHtml191 = radioHtml191.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdfgef19 == "192")
            {
                radioHtml192 = radioHtml192.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdfgef19 == "193")
            {
                radioHtml193 = radioHtml193.Replace("<input type='radio'", "<input type='radio' checked");
            }

            if (pdfgef20 == "201")
            {
                radioHtml201 = radioHtml201.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdfgef20 == "202")
            {
                radioHtml202 = radioHtml202.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdfgef20 == "203")
            {
                radioHtml203 = radioHtml203.Replace("<input type='radio'", "<input type='radio' checked");
            }

            if (pdfgef21 == "211")
            {
                radioHtml211 = radioHtml211.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdfgef21 == "212")
            {
                radioHtml212 = radioHtml212.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdfgef21 == "213")
            {
                radioHtml213 = radioHtml213.Replace("<input type='radio'", "<input type='radio' checked");
            }


            if (pdfgef22 == "221")
            {
                radioHtml221 = radioHtml221.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdfgef22 == "222")
            {
                radioHtml222 = radioHtml222.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdfgef22 == "223")
            {
                radioHtml223 = radioHtml223.Replace("<input type='radio'", "<input type='radio' checked");
            }


            if (pdfgef23 == "231")
            {
                radioHtml231 = radioHtml231.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdfgef23 == "232")
            {
                radioHtml232 = radioHtml232.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdfgef23 == "233")
            {
                radioHtml233 = radioHtml233.Replace("<input type='radio'", "<input type='radio' checked");
            }


            if (pdfgef24 == "241")
            {
                radioHtml241 = radioHtml241.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdfgef24 == "242")
            {
                radioHtml242 = radioHtml242.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdfgef24 == "243")
            {
                radioHtml243 = radioHtml243.Replace("<input type='radio'", "<input type='radio' checked");
            }


            if (pdfgef25 == "251")
            {
                radioHtml251 = radioHtml251.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdfgef25 == "252")
            {
                radioHtml252 = radioHtml252.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdfgef25 == "253")
            {
                radioHtml253 = radioHtml253.Replace("<input type='radio'", "<input type='radio' checked");
            }


            if (pdfgef26 == "261")
            {
                radioHtml261 = radioHtml261.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdfgef26 == "262")
            {
                radioHtml262 = radioHtml262.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdfgef26 == "263")
            {
                radioHtml263 = radioHtml263.Replace("<input type='radio'", "<input type='radio' checked");
            }

            if (pdfgef27 == "271")
            {
                radioHtml271 = radioHtml271.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdfgef27 == "272")
            {
                radioHtml272 = radioHtml272.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdfgef27 == "273")
            {
                radioHtml273 = radioHtml273.Replace("<input type='radio'", "<input type='radio' checked");
            }

            if (pdfgef28 == "281")
            {
                radioHtml281 = radioHtml281.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdfgef28 == "282")
            {
                radioHtml282 = radioHtml282.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdfgef28 == "283")
            {
                radioHtml283 = radioHtml283.Replace("<input type='radio'", "<input type='radio' checked");
            }

            if (pdfgef29 == "291")
            {
                radioHtml291 = radioHtml291.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdfgef29 == "292")
            {
                radioHtml292 = radioHtml292.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdfgef29 == "293")
            {
                radioHtml293 = radioHtml293.Replace("<input type='radio'", "<input type='radio' checked");
            }

            if (pdfgef30 == "301")
            {
                radioHtml301 = radioHtml301.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdfgef30 == "302")
            {
                radioHtml302 = radioHtml302.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdfgef30 == "303")
            {
                radioHtml303 = radioHtml303.Replace("<input type='radio'", "<input type='radio' checked");
            }

            if (pdfgef31 == "311")
            {
                radioHtml311 = radioHtml311.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdfgef31 == "312")
            {
                radioHtml312 = radioHtml312.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdfgef31 == "313")
            {
                radioHtml313 = radioHtml313.Replace("<input type='radio'", "<input type='radio' checked");
            }


            if (pdfgef32 == "321")
            {
                radioHtml321 = radioHtml321.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdfgef32 == "322")
            {
                radioHtml322 = radioHtml322.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdfgef32 == "323")
            {
                radioHtml323 = radioHtml323.Replace("<input type='radio'", "<input type='radio' checked");
            }


            if (pdfgef33 == "331")
            {
                radioHtml331 = radioHtml331.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdfgef33 == "332")
            {
                radioHtml332 = radioHtml332.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdfgef33 == "333")
            {
                radioHtml333 = radioHtml333.Replace("<input type='radio'", "<input type='radio' checked");
            }


            if (pdfgef34 == "341")
            {
                radioHtml341 = radioHtml341.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdfgef34 == "342")
            {
                radioHtml342 = radioHtml342.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdfgef34 == "343")
            {
                radioHtml343 = radioHtml343.Replace("<input type='radio'", "<input type='radio' checked");
            }


            if (pdfgef35 == "351")
            {
                radioHtml351 = radioHtml351.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdfgef35 == "352")
            {
                radioHtml352 = radioHtml352.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdfgef35 == "353")
            {
                radioHtml353 = radioHtml353.Replace("<input type='radio'", "<input type='radio' checked");
            }


            if (pdfgef36 == "361")
            {
                radioHtml361 = radioHtml361.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdfgef36 == "362")
            {
                radioHtml362 = radioHtml362.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdfgef36 == "363")
            {
                radioHtml363 = radioHtml363.Replace("<input type='radio'", "<input type='radio' checked");
            }

            if (pdfgef37 == "371")
            {
                radioHtml371 = radioHtml371.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdfgef37 == "372")
            {
                radioHtml372 = radioHtml372.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdfgef37 == "373")
            {
                radioHtml373 = radioHtml373.Replace("<input type='radio'", "<input type='radio' checked");
            }

            if (pdfgef38 == "381")
            {
                radioHtml381 = radioHtml381.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdfgef38 == "382")
            {
                radioHtml382 = radioHtml382.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdfgef38 == "383")
            {
                radioHtml383 = radioHtml383.Replace("<input type='radio'", "<input type='radio' checked");
            }

            if (pdfgef39 == "391")
            {
                radioHtml391 = radioHtml391.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdfgef39 == "392")
            {
                radioHtml392 = radioHtml392.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdfgef39 == "393")
            {
                radioHtml393 = radioHtml393.Replace("<input type='radio'", "<input type='radio' checked");
            }

            if (pdfgef40 == "401")
            {
                radioHtml401 = radioHtml401.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdfgef40 == "402")
            {
                radioHtml402 = radioHtml402.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdfgef40 == "403")
            {
                radioHtml403 = radioHtml403.Replace("<input type='radio'", "<input type='radio' checked");
            }

            if (pdfgef41 == "411")
            {
                radioHtml411 = radioHtml411.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdfgef41 == "412")
            {
                radioHtml412 = radioHtml412.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdfgef41 == "413")
            {
                radioHtml413 = radioHtml413.Replace("<input type='radio'", "<input type='radio' checked");
            }

            if (pdfgef42 == "421")
            {
                radioHtml421 = radioHtml421.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdfgef42 == "422")
            {
                radioHtml422 = radioHtml422.Replace("<input type='radio'", "<input type='radio' checked");
            }

            if (pdfgef43 == "431")
            {
                radioHtml431 = radioHtml431.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdfgef43 == "432")
            {
                radioHtml432 = radioHtml432.Replace("<input type='radio'", "<input type='radio' checked");
            }

            if (pdfgef44 == "441")
            {
                radioHtml441 = radioHtml441.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdfgef44 == "442")
            {
                radioHtml442 = radioHtml442.Replace("<input type='radio'", "<input type='radio' checked");
            }

            if (pdfgef45 == "451")
            {
                radioHtml451 = radioHtml451.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdfgef45 == "452")
            {
                radioHtml452 = radioHtml452.Replace("<input type='radio'", "<input type='radio' checked");
            }

            if (pdfgef46 == "461")
            {
                radioHtml461 = radioHtml461.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdfgef46 == "462")
            {
                radioHtml462 = radioHtml462.Replace("<input type='radio'", "<input type='radio' checked");
            }

            if (pdfgef47 == "471")
            {
                radioHtml471 = radioHtml471.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdfgef47 == "472")
            {
                radioHtml472 = radioHtml472.Replace("<input type='radio'", "<input type='radio' checked");
            }

            if (pdfgef48 == "481")
            {
                radioHtml481 = radioHtml481.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdfgef48 == "482")
            {
                radioHtml482 = radioHtml482.Replace("<input type='radio'", "<input type='radio' checked");
            }

            if (pdfgef49 == "491")
            {
                radioHtml491 = radioHtml491.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdfgef49 == "492")
            {
                radioHtml492 = radioHtml492.Replace("<input type='radio'", "<input type='radio' checked");
            }

            if (pdfgef50 == "501")
            {
                radioHtml501 = radioHtml501.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdfgef50 == "502")
            {
                radioHtml502 = radioHtml502.Replace("<input type='radio'", "<input type='radio' checked");
            }

            if (pdfgef51 == "511")
            {
                radioHtml511 = radioHtml511.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdfgef51 == "512")
            {
                radioHtml512 = radioHtml512.Replace("<input type='radio'", "<input type='radio' checked");
            }


            if (pdfgef52 == "521")
            {
                radioHtml521 = radioHtml521.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdfgef52 == "522")
            {
                radioHtml522 = radioHtml522.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdfgef52 == "523")
            {
                radioHtml523 = radioHtml523.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdfgef52 == "524")
            {
                radioHtml524 = radioHtml524.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdfgef52 == "525")
            {
                radioHtml525 = radioHtml525.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdfgef52 == "526")
            {
                radioHtml526 = radioHtml526.Replace("<input type='radio'", "<input type='radio' checked");
            }

            if (pdfgef53 == "531")
            {
                radioHtml531 = radioHtml531.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdfgef53 == "532")
            {
                radioHtml532 = radioHtml532.Replace("<input type='radio'", "<input type='radio' checked");
            }


            if (pdfgef54 == "541")
            {
                radioHtml541 = radioHtml541.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdfgef54 == "542")
            {
                radioHtml542 = radioHtml542.Replace("<input type='radio'", "<input type='radio' checked");
            }


            if (pdfgef55 == "551")
            {
                radioHtml551 = radioHtml551.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdfgef55 == "552")
            {
                radioHtml552 = radioHtml552.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdfgef55 == "553")
            {
                radioHtml553 = radioHtml553.Replace("<input type='radio'", "<input type='radio' checked");
            }

            if (pdfgef56 == "561")
            {
                radioHtml561 = radioHtml561.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdfgef56 == "562")
            {
                radioHtml562 = radioHtml562.Replace("<input type='radio'", "<input type='radio' checked");
            }

            if (pdfgef57 == "571")
            {
                radioHtml571 = radioHtml571.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdfgef57 == "572")
            {
                radioHtml572 = radioHtml572.Replace("<input type='radio'", "<input type='radio' checked");
            }

            if (pdfgef58 == "581")
            {
                radioHtml581 = radioHtml581.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdfgef58 == "582")
            {
                radioHtml582 = radioHtml582.Replace("<input type='radio'", "<input type='radio' checked");
            }

            if (pdfgef59 == "591")
            {
                radioHtml591 = radioHtml591.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdfgef59 == "592")
            {
                radioHtml592 = radioHtml592.Replace("<input type='radio'", "<input type='radio' checked");
            }

            if (pdfgef60 == "601")
            {
                radioHtml601 = radioHtml601.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdfgef60 == "602")
            {
                radioHtml602 = radioHtml602.Replace("<input type='radio'", "<input type='radio' checked");
            }

            if (pdfgef61 == "611")
            {
                radioHtml611 = radioHtml611.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdfgef61 == "612")
            {
                radioHtml612 = radioHtml612.Replace("<input type='radio'", "<input type='radio' checked");
            }


            if (pdfgef62 == "621")
            {
                radioHtml621 = radioHtml621.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdfgef62 == "622")
            {
                radioHtml622 = radioHtml622.Replace("<input type='radio'", "<input type='radio' checked");
            }


            if (pdfgef63 == "631")
            {
                radioHtml631 = radioHtml631.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdfgef63 == "632")
            {
                radioHtml632 = radioHtml632.Replace("<input type='radio'", "<input type='radio' checked");
            }


            if (pdfgef64 == "641")
            {
                radioHtml641 = radioHtml641.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdfgef64 == "642")
            {
                radioHtml642 = radioHtml642.Replace("<input type='radio'", "<input type='radio' checked");
            }

            sb.Append("<html>");
            sb.Append("    <head><title> <u>Gyn Exam Form</u></title></head>");
            sb.Append("    <body style='font-family: Verdana, Geneva, Tahoma, sans-serif;'>");

            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + header + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000' colspan='9'>");
            sb.Append("            <h1>Gyn Exam Form</h1>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Patient Name</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000' colspan='4'>" + emr.pat_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Emirates ID</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_emirateid + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>File No</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_code + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>DOB</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_dob + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Nationality</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_nationality + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Gender</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_gender + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Doctor's Name</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.doc_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Date</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.app_fdate + "</td>");
            sb.Append("    </tr>");
            sb.Append("</table>");

            sb.Append("<div style='width:100%; text-align:justify; font-size: 12px; margin-top: 50px;margin-bottom: 50px;'>");

            sb.Append("<p><u>FAMILY HISTORY:</u></p>");
            sb.Append("<p>Has anyone in your family had trouble with the following? Include mother (M), father (F), brother (B), sister (S), aunt (A), uncle (U), grandmother (GM), grandfather (GF).</p>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align:left;width:35%; padding:10px; border:1px solid #000000'></td>");
            sb.Append("        <td style='text-align:center;width:10%; padding:10px; border:1px solid #000000'>No</td>");
            sb.Append("        <td style='text-align:center;width:10%; padding:10px; border:1px solid #000000'>Yes</td>");
            sb.Append("        <td style='text-align:center;width:10%; padding:10px; border:1px solid #000000'>Not Sure</td>");
            sb.Append("        <td style='text-align:center;width:35%; padding:10px; border:1px solid #000000'>Who</td>");
            sb.Append("    </tr>");

            sb.Append("    <tr>");
            sb.Append("        <td style='text-align:left;width:35%; padding:10px; border:1px solid #000000'>Anemia</td>");
            sb.Append("        <td style='text-align:center;width:10%; padding:10px; border:1px solid #000000'>" + radioHtml11 + "</td>");
            sb.Append("        <td style='text-align:center;width:10%; padding:10px; border:1px solid #000000'>" + radioHtml12 + "</td>");
            sb.Append("        <td style='text-align:center;width:10%; padding:10px; border:1px solid #000000'>" + radioHtml13 + "</td>");
            sb.Append("        <td style='text-align:center;width:35%; padding:10px; border:1px solid #000000'>" + pdf.gef_1 + "</td>");
            sb.Append("    </tr>");

            sb.Append("    <tr>");
            sb.Append("        <td style='text-align:left;width:35%; padding:10px; border:1px solid #000000'>Bleeding problem</td>");
            sb.Append("        <td style='text-align:center;width:10%; padding:10px; border:1px solid #000000'>" + radioHtml21 + "</td>");
            sb.Append("        <td style='text-align:center;width:10%; padding:10px; border:1px solid #000000'>" + radioHtml22 + "</td>");
            sb.Append("        <td style='text-align:center;width:10%; padding:10px; border:1px solid #000000'>" + radioHtml23 + "</td>");
            sb.Append("        <td style='text-align:center;width:35%; padding:10px; border:1px solid #000000'>" + pdf.gef_2 + "</td>");
            sb.Append("    </tr>");

            sb.Append("    <tr>");
            sb.Append("        <td style='text-align:left;width:35%; padding:10px; border:1px solid #000000'>Breast disease</td>");
            sb.Append("        <td style='text-align:center;width:10%; padding:10px; border:1px solid #000000'>" + radioHtml31 + "</td>");
            sb.Append("        <td style='text-align:center;width:10%; padding:10px; border:1px solid #000000'>" + radioHtml32 + "</td>");
            sb.Append("        <td style='text-align:center;width:10%; padding:10px; border:1px solid #000000'>" + radioHtml33 + "</td>");
            sb.Append("        <td style='text-align:center;width:35%; padding:10px; border:1px solid #000000'>" + pdf.gef_3 + "</td>");
            sb.Append("    </tr>");

            sb.Append("    <tr>");
            sb.Append("        <td style='text-align:left;width:35%; padding:10px; border:1px solid #000000'>Cancer</td>");
            sb.Append("        <td style='text-align:center;width:10%; padding:10px; border:1px solid #000000'>" + radioHtml41 + "</td>");
            sb.Append("        <td style='text-align:center;width:10%; padding:10px; border:1px solid #000000'>" + radioHtml42 + "</td>");
            sb.Append("        <td style='text-align:center;width:10%; padding:10px; border:1px solid #000000'>" + radioHtml43 + "</td>");
            sb.Append("        <td style='text-align:center;width:35%; padding:10px; border:1px solid #000000'>" + pdf.gef_4 + "</td>");
            sb.Append("    </tr>");

            sb.Append("    <tr>");
            sb.Append("        <td style='text-align:left;width:35%; padding:10px; border:1px solid #000000'>GYN cancer</td>");
            sb.Append("        <td style='text-align:center;width:10%; padding:10px; border:1px solid #000000'>" + radioHtml51 + "</td>");
            sb.Append("        <td style='text-align:center;width:10%; padding:10px; border:1px solid #000000'>" + radioHtml52 + "</td>");
            sb.Append("        <td style='text-align:center;width:10%; padding:10px; border:1px solid #000000'>" + radioHtml53 + "</td>");
            sb.Append("        <td style='text-align:center;width:35%; padding:10px; border:1px solid #000000'>" + pdf.gef_5 + "</td>");
            sb.Append("    </tr>");

            sb.Append("    <tr>");
            sb.Append("        <td style='text-align:left;width:35%; padding:10px; border:1px solid #000000'>Diabetes</td>");
            sb.Append("        <td style='text-align:center;width:10%; padding:10px; border:1px solid #000000'>" + radioHtml61 + "</td>");
            sb.Append("        <td style='text-align:center;width:10%; padding:10px; border:1px solid #000000'>" + radioHtml62 + "</td>");
            sb.Append("        <td style='text-align:center;width:10%; padding:10px; border:1px solid #000000'>" + radioHtml63 + "</td>");
            sb.Append("        <td style='text-align:center;width:35%; padding:10px; border:1px solid #000000'>" + pdf.gef_6 + "</td>");
            sb.Append("    </tr>");

            sb.Append("    <tr>");
            sb.Append("        <td style='text-align:left;width:35%; padding:10px; border:1px solid #000000'>High Blood Pressure</td>");
            sb.Append("        <td style='text-align:center;width:10%; padding:10px; border:1px solid #000000'>" + radioHtml71 + "</td>");
            sb.Append("        <td style='text-align:center;width:10%; padding:10px; border:1px solid #000000'>" + radioHtml72 + "</td>");
            sb.Append("        <td style='text-align:center;width:10%; padding:10px; border:1px solid #000000'>" + radioHtml73 + "</td>");
            sb.Append("        <td style='text-align:center;width:35%; padding:10px; border:1px solid #000000'>" + pdf.gef_7 + "</td>");
            sb.Append("    </tr>");

            sb.Append("    <tr>");
            sb.Append("        <td style='text-align:left;width:35%; padding:10px; border:1px solid #000000'>Stroke</td>");
            sb.Append("        <td style='text-align:center;width:10%; padding:10px; border:1px solid #000000'>" + radioHtml81 + "</td>");
            sb.Append("        <td style='text-align:center;width:10%; padding:10px; border:1px solid #000000'>" + radioHtml82 + "</td>");
            sb.Append("        <td style='text-align:center;width:10%; padding:10px; border:1px solid #000000'>" + radioHtml83 + "</td>");
            sb.Append("        <td style='text-align:center;width:35%; padding:10px; border:1px solid #000000'>" + pdf.gef_8 + "</td>");
            sb.Append("    </tr>");

            sb.Append("    <tr>");
            sb.Append("        <td style='text-align:left;width:35%; padding:10px; border:1px solid #000000'>Heart attack before age 50</td>");
            sb.Append("        <td style='text-align:center;width:10%; padding:10px; border:1px solid #000000'>" + radioHtml91 + "</td>");
            sb.Append("        <td style='text-align:center;width:10%; padding:10px; border:1px solid #000000'>" + radioHtml92 + "</td>");
            sb.Append("        <td style='text-align:center;width:10%; padding:10px; border:1px solid #000000'>" + radioHtml93 + "</td>");
            sb.Append("        <td style='text-align:center;width:35%; padding:10px; border:1px solid #000000'>" + pdf.gef_9 + "</td>");
            sb.Append("    </tr>");

            sb.Append("    <tr>");
            sb.Append("        <td style='text-align:left;width:35%; padding:10px; border:1px solid #000000'>Other Hereditary disease</td>");
            sb.Append("        <td style='text-align:center;width:10%; padding:10px; border:1px solid #000000'>" + radioHtml101 + "</td>");
            sb.Append("        <td style='text-align:center;width:10%; padding:10px; border:1px solid #000000'>" + radioHtml102 + "</td>");
            sb.Append("        <td style='text-align:center;width:10%; padding:10px; border:1px solid #000000'>" + radioHtml103 + "</td>");
            sb.Append("        <td style='text-align:center;width:35%; padding:10px; border:1px solid #000000'>" + pdf.gef_10 + "</td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("<p><u>MEDICAL HISTORY</u> - Information about you</p>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");

            sb.Append("    <tr>");
            sb.Append("        <td style='text-align:left;width:34%; padding:10px; border:1px solid #000000'></td>");
            sb.Append("        <td style='text-align:center;width:6%; padding:10px; border:1px solid #000000'>No</td>");
            sb.Append("        <td style='text-align:center;width:6%; padding:10px; border:1px solid #000000'>Yes</td>");
            sb.Append("        <td style='text-align:center;width:6%; padding:10px; border:1px solid #000000'>Now</td>");
            sb.Append("        <td style='text-align:left;width:30%;   padding:10px; border:1px solid #000000'></td>");
            sb.Append("        <td style='text-align:center;width:6%; padding:10px; border:1px solid #000000'>No</td>");
            sb.Append("        <td style='text-align:center;width:6%; padding:10px; border:1px solid #000000'>Yes</td>");
            sb.Append("        <td style='text-align:center;width:6%; padding:10px; border:1px solid #000000'>Now</td>");
            sb.Append("    </tr>");

            sb.Append("    <tr>");
            sb.Append("        <td style='text-align:left;width:34%; padding:10px; border:1px solid #000000'>Anemia</td>");
            sb.Append("        <td style='text-align:center;width:6%; padding:10px; border:1px solid #000000'>" + radioHtml111 + "</td>");
            sb.Append("        <td style='text-align:center;width:6%; padding:10px; border:1px solid #000000'>" + radioHtml112 + "</td>");
            sb.Append("        <td style='text-align:center;width:6%; padding:10px; border:1px solid #000000'>" + radioHtml113 + "</td>");
            sb.Append("        <td style='text-align:left;width:30%;   padding:10px; border:1px solid #000000'>Blurred vision</td>");
            sb.Append("        <td style='text-align:center;width:6%; padding:10px; border:1px solid #000000'>" + radioHtml121 + "</td>");
            sb.Append("        <td style='text-align:center;width:6%; padding:10px; border:1px solid #000000'>" + radioHtml122 + "</td>");
            sb.Append("        <td style='text-align:center;width:6%; padding:10px; border:1px solid #000000'>" + radioHtml123 + "</td>");
            sb.Append("    </tr>");

            sb.Append("    <tr>");
            sb.Append("        <td style='text-align:left;width:34%; padding:10px; border:1px solid #000000'>Blurred vision</td>");
            sb.Append("        <td style='text-align:center;width:6%; padding:10px; border:1px solid #000000'>" + radioHtml131 + "</td>");
            sb.Append("        <td style='text-align:center;width:6%; padding:10px; border:1px solid #000000'>" + radioHtml132 + "</td>");
            sb.Append("        <td style='text-align:center;width:6%; padding:10px; border:1px solid #000000'>" + radioHtml133 + "</td>");
            sb.Append("        <td style='text-align:left;width:30%;   padding:10px; border:1px solid #000000'>Breast surgery</td>");
            sb.Append("        <td style='text-align:center;width:6%; padding:10px; border:1px solid #000000'>" + radioHtml141 + "</td>");
            sb.Append("        <td style='text-align:center;width:6%; padding:10px; border:1px solid #000000'>" + radioHtml142 + "</td>");
            sb.Append("        <td style='text-align:center;width:6%; padding:10px; border:1px solid #000000'>" + radioHtml143 + "</td>");
            sb.Append("    </tr>");

            sb.Append("    <tr>");
            sb.Append("        <td style='text-align:left;width:34%; padding:10px; border:1px solid #000000'>Headaches/frequent</td>");
            sb.Append("        <td style='text-align:center;width:6%; padding:10px; border:1px solid #000000'>" + radioHtml151 + "</td>");
            sb.Append("        <td style='text-align:center;width:6%; padding:10px; border:1px solid #000000'>" + radioHtml152 + "</td>");
            sb.Append("        <td style='text-align:center;width:6%; padding:10px; border:1px solid #000000'>" + radioHtml153 + "</td>");
            sb.Append("        <td style='text-align:left;width:30%;   padding:10px; border:1px solid #000000'>Breast lump/discharge</td>");
            sb.Append("        <td style='text-align:center;width:6%; padding:10px; border:1px solid #000000'>" + radioHtml161 + "</td>");
            sb.Append("        <td style='text-align:center;width:6%; padding:10px; border:1px solid #000000'>" + radioHtml162 + "</td>");
            sb.Append("        <td style='text-align:center;width:6%; padding:10px; border:1px solid #000000'>" + radioHtml163 + "</td>");
            sb.Append("    </tr>");

            sb.Append("    <tr>");
            sb.Append("        <td style='text-align:left;width:34%; padding:10px; border:1px solid #000000'>Migraine headaches</td>");
            sb.Append("        <td style='text-align:center;width:6%; padding:10px; border:1px solid #000000'>" + radioHtml171 + "</td>");
            sb.Append("        <td style='text-align:center;width:6%; padding:10px; border:1px solid #000000'>" + radioHtml172 + "</td>");
            sb.Append("        <td style='text-align:center;width:6%; padding:10px; border:1px solid #000000'>" + radioHtml173 + "</td>");
            sb.Append("        <td style='text-align:left;width:30%;   padding:10px; border:1px solid #000000'>High blood pressure</td>");
            sb.Append("        <td style='text-align:center;width:6%; padding:10px; border:1px solid #000000'>" + radioHtml181 + "</td>");
            sb.Append("        <td style='text-align:center;width:6%; padding:10px; border:1px solid #000000'>" + radioHtml182 + "</td>");
            sb.Append("        <td style='text-align:center;width:6%; padding:10px; border:1px solid #000000'>" + radioHtml183 + "</td>");
            sb.Append("    </tr>");

            sb.Append("    <tr>");
            sb.Append("        <td style='text-align:left;width:34%; padding:10px; border:1px solid #000000'>Stroke</td>");
            sb.Append("        <td style='text-align:center;width:6%; padding:10px; border:1px solid #000000'>" + radioHtml191 + "</td>");
            sb.Append("        <td style='text-align:center;width:6%; padding:10px; border:1px solid #000000'>" + radioHtml192 + "</td>");
            sb.Append("        <td style='text-align:center;width:6%; padding:10px; border:1px solid #000000'>" + radioHtml193 + "</td>");
            sb.Append("        <td style='text-align:left;width:30%;   padding:10px; border:1px solid #000000'>Chest pain</td>");
            sb.Append("        <td style='text-align:center;width:6%; padding:10px; border:1px solid #000000'>" + radioHtml201 + "</td>");
            sb.Append("        <td style='text-align:center;width:6%; padding:10px; border:1px solid #000000'>" + radioHtml202 + "</td>");
            sb.Append("        <td style='text-align:center;width:6%; padding:10px; border:1px solid #000000'>" + radioHtml203 + "</td>");
            sb.Append("    </tr>");

            sb.Append("    <tr>");
            sb.Append("        <td style='text-align:left;width:34%; padding:10px; border:1px solid #000000'>Severe depression</td>");
            sb.Append("        <td style='text-align:center;width:6%; padding:10px; border:1px solid #000000'>" + radioHtml211 + "</td>");
            sb.Append("        <td style='text-align:center;width:6%; padding:10px; border:1px solid #000000'>" + radioHtml212 + "</td>");
            sb.Append("        <td style='text-align:center;width:6%; padding:10px; border:1px solid #000000'>" + radioHtml213 + "</td>");
            sb.Append("        <td style='text-align:left;width:30%;   padding:10px; border:1px solid #000000'>Shortness of breath</td>");
            sb.Append("        <td style='text-align:center;width:6%; padding:10px; border:1px solid #000000'>" + radioHtml221 + "</td>");
            sb.Append("        <td style='text-align:center;width:6%; padding:10px; border:1px solid #000000'>" + radioHtml222 + "</td>");
            sb.Append("        <td style='text-align:center;width:6%; padding:10px; border:1px solid #000000'>" + radioHtml223 + "</td>");
            sb.Append("    </tr>");

            sb.Append("    <tr>");
            sb.Append("        <td style='text-align:left;width:34%; padding:10px; border:1px solid #000000'>Severe mood changes</td>");
            sb.Append("        <td style='text-align:center;width:6%; padding:10px; border:1px solid #000000'>" + radioHtml231 + "</td>");
            sb.Append("        <td style='text-align:center;width:6%; padding:10px; border:1px solid #000000'>" + radioHtml232 + "</td>");
            sb.Append("        <td style='text-align:center;width:6%; padding:10px; border:1px solid #000000'>" + radioHtml233 + "</td>");
            sb.Append("        <td style='text-align:left;width:30%;   padding:10px; border:1px solid #000000'>Heart murmur</td>");
            sb.Append("        <td style='text-align:center;width:6%; padding:10px; border:1px solid #000000'>" + radioHtml241 + "</td>");
            sb.Append("        <td style='text-align:center;width:6%; padding:10px; border:1px solid #000000'>" + radioHtml242 + "</td>");
            sb.Append("        <td style='text-align:center;width:6%; padding:10px; border:1px solid #000000'>" + radioHtml243 + "</td>");
            sb.Append("    </tr>");

            sb.Append("    <tr>");
            sb.Append("        <td style='text-align:left;width:34%; padding:10px; border:1px solid #000000'>Psychiatric problem</td>");
            sb.Append("        <td style='text-align:center;width:6%; padding:10px; border:1px solid #000000'>" + radioHtml251 + "</td>");
            sb.Append("        <td style='text-align:center;width:6%; padding:10px; border:1px solid #000000'>" + radioHtml252 + "</td>");
            sb.Append("        <td style='text-align:center;width:6%; padding:10px; border:1px solid #000000'>" + radioHtml253 + "</td>");
            sb.Append("        <td style='text-align:left;width:30%;   padding:10px; border:1px solid #000000'>Heart disease/problem</td>");
            sb.Append("        <td style='text-align:center;width:6%; padding:10px; border:1px solid #000000'>" + radioHtml261 + "</td>");
            sb.Append("        <td style='text-align:center;width:6%; padding:10px; border:1px solid #000000'>" + radioHtml262 + "</td>");
            sb.Append("        <td style='text-align:center;width:6%; padding:10px; border:1px solid #000000'>" + radioHtml263 + "</td>");
            sb.Append("    </tr>");

            sb.Append("    <tr>");
            sb.Append("        <td style='text-align:left;width:34%; padding:10px; border:1px solid #000000'>Diabetes</td>");
            sb.Append("        <td style='text-align:center;width:6%; padding:10px; border:1px solid #000000'>" + radioHtml271 + "</td>");
            sb.Append("        <td style='text-align:center;width:6%; padding:10px; border:1px solid #000000'>" + radioHtml272 + "</td>");
            sb.Append("        <td style='text-align:center;width:6%; padding:10px; border:1px solid #000000'>" + radioHtml273 + "</td>");
            sb.Append("        <td style='text-align:left;width:30%;   padding:10px; border:1px solid #000000'>Asthma</td>");
            sb.Append("        <td style='text-align:center;width:6%; padding:10px; border:1px solid #000000'>" + radioHtml281 + "</td>");
            sb.Append("        <td style='text-align:center;width:6%; padding:10px; border:1px solid #000000'>" + radioHtml282 + "</td>");
            sb.Append("        <td style='text-align:center;width:6%; padding:10px; border:1px solid #000000'>" + radioHtml283 + "</td>");
            sb.Append("    </tr>");

            sb.Append("    <tr>");
            sb.Append("        <td style='text-align:left;width:34%; padding:10px; border:1px solid #000000'>Cancer</td>");
            sb.Append("        <td style='text-align:center;width:6%; padding:10px; border:1px solid #000000'>" + radioHtml291 + "</td>");
            sb.Append("        <td style='text-align:center;width:6%; padding:10px; border:1px solid #000000'>" + radioHtml292 + "</td>");
            sb.Append("        <td style='text-align:center;width:6%; padding:10px; border:1px solid #000000'>" + radioHtml293 + "</td>");
            sb.Append("        <td style='text-align:left;width:30%;   padding:10px; border:1px solid #000000'>Varicose veins</td>");
            sb.Append("        <td style='text-align:center;width:6%; padding:10px; border:1px solid #000000'>" + radioHtml301 + "</td>");
            sb.Append("        <td style='text-align:center;width:6%; padding:10px; border:1px solid #000000'>" + radioHtml302 + "</td>");
            sb.Append("        <td style='text-align:center;width:6%; padding:10px; border:1px solid #000000'>" + radioHtml303 + "</td>");
            sb.Append("    </tr>");

            sb.Append("    <tr>");
            sb.Append("        <td style='text-align:left;width:34%; padding:10px; border:1px solid #000000'>Lung disease</td>");
            sb.Append("        <td style='text-align:center;width:6%; padding:10px; border:1px solid #000000'>" + radioHtml311 + "</td>");
            sb.Append("        <td style='text-align:center;width:6%; padding:10px; border:1px solid #000000'>" + radioHtml312 + "</td>");
            sb.Append("        <td style='text-align:center;width:6%; padding:10px; border:1px solid #000000'>" + radioHtml313 + "</td>");
            sb.Append("        <td style='text-align:left;width:30%;   padding:10px; border:1px solid #000000'>Blood clots</td>");
            sb.Append("        <td style='text-align:center;width:6%; padding:10px; border:1px solid #000000'>" + radioHtml321 + "</td>");
            sb.Append("        <td style='text-align:center;width:6%; padding:10px; border:1px solid #000000'>" + radioHtml322 + "</td>");
            sb.Append("        <td style='text-align:center;width:6%; padding:10px; border:1px solid #000000'>" + radioHtml323 + "</td>");
            sb.Append("    </tr>");

            sb.Append("    <tr>");
            sb.Append("        <td style='text-align:left;width:34%; padding:10px; border:1px solid #000000'>Liver disease</td>");
            sb.Append("        <td style='text-align:center;width:6%; padding:10px; border:1px solid #000000'>" + radioHtml331 + "</td>");
            sb.Append("        <td style='text-align:center;width:6%; padding:10px; border:1px solid #000000'>" + radioHtml332 + "</td>");
            sb.Append("        <td style='text-align:center;width:6%; padding:10px; border:1px solid #000000'>" + radioHtml333 + "</td>");
            sb.Append("        <td style='text-align:left;width:30%;   padding:10px; border:1px solid #000000'>Redness and pain in leg</td>");
            sb.Append("        <td style='text-align:center;width:6%; padding:10px; border:1px solid #000000'>" + radioHtml341 + "</td>");
            sb.Append("        <td style='text-align:center;width:6%; padding:10px; border:1px solid #000000'>" + radioHtml342 + "</td>");
            sb.Append("        <td style='text-align:center;width:6%; padding:10px; border:1px solid #000000'>" + radioHtml343 + "</td>");
            sb.Append("    </tr>");

            sb.Append("    <tr>");
            sb.Append("        <td style='text-align:left;width:34%; padding:10px; border:1px solid #000000'>Gallbladder problems Urinary tract</td>");
            sb.Append("        <td style='text-align:center;width:6%; padding:10px; border:1px solid #000000'>" + radioHtml351 + "</td>");
            sb.Append("        <td style='text-align:center;width:6%; padding:10px; border:1px solid #000000'>" + radioHtml352 + "</td>");
            sb.Append("        <td style='text-align:center;width:6%; padding:10px; border:1px solid #000000'>" + radioHtml353 + "</td>");
            sb.Append("        <td style='text-align:left;width:30%;   padding:10px; border:1px solid #000000'>infections( )</td>");
            sb.Append("        <td style='text-align:center;width:6%; padding:10px; border:1px solid #000000'>" + radioHtml361 + "</td>");
            sb.Append("        <td style='text-align:center;width:6%; padding:10px; border:1px solid #000000'>" + radioHtml362 + "</td>");
            sb.Append("        <td style='text-align:center;width:6%; padding:10px; border:1px solid #000000'>" + radioHtml363 + "</td>");
            sb.Append("    </tr>");

            sb.Append("    <tr>");
            sb.Append("        <td style='text-align:left;width:34%; padding:10px; border:1px solid #000000'>Smoking</td>");
            sb.Append("        <td style='text-align:center;width:6%; padding:10px; border:1px solid #000000'>" + radioHtml371 + "</td>");
            sb.Append("        <td style='text-align:center;width:6%; padding:10px; border:1px solid #000000'>" + radioHtml372 + "</td>");
            sb.Append("        <td style='text-align:center;width:6%; padding:10px; border:1px solid #000000'>" + radioHtml373 + "</td>");
            sb.Append("        <td style='text-align:left;width:30%;   padding:10px; border:1px solid #000000'>Alcohol use</td>");
            sb.Append("        <td style='text-align:center;width:6%; padding:10px; border:1px solid #000000'>" + radioHtml381 + "</td>");
            sb.Append("        <td style='text-align:center;width:6%; padding:10px; border:1px solid #000000'>" + radioHtml382 + "</td>");
            sb.Append("        <td style='text-align:center;width:6%; padding:10px; border:1px solid #000000'>" + radioHtml383 + "</td>");
            sb.Append("    </tr>");

            sb.Append("    <tr>");
            sb.Append("        <td style='text-align:left;width:34%; padding:10px; border:1px solid #000000'># of cigs day</td>");
            sb.Append("        <td style='text-align:center;width:18%; padding:10px; border:1px solid #000000'colspan='3'>" + pdf.gef_11 + "</td>");
            sb.Append("        <td style='text-align:left;width:30%;   padding:10px; border:1px solid #000000'># drinks/day</td>");
            sb.Append("        <td style='text-align:center;width:18%; padding:10px; border:1px solid #000000' colspan='3'>" + pdf.gef_12 + "</td>");
            sb.Append("    </tr>");

            sb.Append("    <tr>");
            sb.Append("        <td style='text-align:left;width:34%; padding:10px; border:1px solid #000000'>how long?</td>");
            sb.Append("        <td style='text-align:center;width:18%; padding:10px; border:1px solid #000000'colspan='3'>" + pdf.gef_13 + "</td>");
            sb.Append("        <td style='text-align:left;width:30%;   padding:10px; border:1px solid #000000'># drinks/wk</td>");
            sb.Append("        <td style='text-align:center;width:18%; padding:10px; border:1px solid #000000' colspan='3'>" + pdf.gef_14 + "</td>");
            sb.Append("    </tr>");

            sb.Append("    <tr>");
            sb.Append("        <td style='text-align:left;width:34%; padding:10px; border:1px solid #000000'>Recreational drug use( )</td>");
            sb.Append("        <td style='text-align:center;width:6%; padding:10px; border:1px solid #000000'>" + radioHtml391 + "</td>");
            sb.Append("        <td style='text-align:center;width:6%; padding:10px; border:1px solid #000000'>" + radioHtml392 + "</td>");
            sb.Append("        <td style='text-align:center;width:6%; padding:10px; border:1px solid #000000'>" + radioHtml393 + "</td>");
            sb.Append("        <td style='text-align:left;width:30%;   padding:10px; border:1px solid #000000'>Eating disorder( )</td>");
            sb.Append("        <td style='text-align:center;width:6%; padding:10px; border:1px solid #000000'>" + radioHtml401 + "</td>");
            sb.Append("        <td style='text-align:center;width:6%; padding:10px; border:1px solid #000000'>" + radioHtml402 + "</td>");
            sb.Append("        <td style='text-align:center;width:6%; padding:10px; border:1px solid #000000'>" + radioHtml403 + "</td>");
            sb.Append("    </tr>");

            sb.Append("    <tr>");
            sb.Append("        <td style='text-align:left;width:34%; padding:10px; border:1px solid #000000'>Regular exercise ( )</td>");
            sb.Append("        <td style='text-align:center;width:6%; padding:10px; border:1px solid #000000'>" + radioHtml411 + "</td>");
            sb.Append("        <td style='text-align:center;width:6%; padding:10px; border:1px solid #000000'>" + radioHtml412 + "</td>");
            sb.Append("        <td style='text-align:center;width:6%; padding:10px; border:1px solid #000000'>" + radioHtml413 + "</td>");
            sb.Append("        <td style='text-align:center;width:48%; padding:10px; border:1px solid #000000' colspan='4'></td>");
            sb.Append("    </tr>");

            sb.Append("    </table>");

            sb.Append("<p><u>GYN HISTORY</u></p>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");

            sb.Append("    <tr>");
            sb.Append("        <td style='text-align:left;width:40%; padding:10px; border:1px solid #000000'></td>");
            sb.Append("        <td style='text-align:center;width:10%; padding:10px; border:1px solid #000000'>No</td>");
            sb.Append("        <td style='text-align:center;width:10%; padding:10px; border:1px solid #000000'>Yes</td>");
            sb.Append("        <td style='text-align:center;width:40%; padding:10px; border:1px solid #000000'>When (Date)</td>");
            sb.Append("    </tr>");

            sb.Append("    <tr>");
            sb.Append("        <td style='text-align:left;width:40%; padding:10px; border:1px solid #000000'>Pelvic tumors/fibroids</td>");
            sb.Append("        <td style='text-align:center;width:10%; padding:10px; border:1px solid #000000'>" + radioHtml421 + "</td>");
            sb.Append("        <td style='text-align:center;width:10%; padding:10px; border:1px solid #000000'>" + radioHtml422 + "</td>");
            sb.Append("        <td style='text-align:center;width:40%; padding:10px; border:1px solid #000000'>" + pdf.gef_date1 + "</td>");
            sb.Append("    </tr>");

            sb.Append("    <tr>");
            sb.Append("        <td style='text-align:left;width:40%; padding:10px; border:1px solid #000000'>Pelvic infections (PID)</td>");
            sb.Append("        <td style='text-align:center;width:10%; padding:10px; border:1px solid #000000'>" + radioHtml431 + "</td>");
            sb.Append("        <td style='text-align:center;width:10%; padding:10px; border:1px solid #000000'>" + radioHtml432 + "</td>");
            sb.Append("        <td style='text-align:center;width:40%; padding:10px; border:1px solid #000000'>" + pdf.gef_date2 + "</td>");
            sb.Append("    </tr>");

            sb.Append("    <tr>");
            sb.Append("        <td style='text-align:left;width:40%; padding:10px; border:1px solid #000000'>Pelvic surgery</td>");
            sb.Append("        <td style='text-align:center;width:10%; padding:10px; border:1px solid #000000'>" + radioHtml441 + "</td>");
            sb.Append("        <td style='text-align:center;width:10%; padding:10px; border:1px solid #000000'>" + radioHtml442 + "</td>");
            sb.Append("        <td style='text-align:center;width:40%; padding:10px; border:1px solid #000000'>" + pdf.gef_date3 + "</td>");
            sb.Append("    </tr>");

            sb.Append("    <tr>");
            sb.Append("        <td style='text-align:left;width:40%; padding:10px; border:1px solid #000000'>Abnormal pap report</td>");
            sb.Append("        <td style='text-align:center;width:10%; padding:10px; border:1px solid #000000'>" + radioHtml451 + "</td>");
            sb.Append("        <td style='text-align:center;width:10%; padding:10px; border:1px solid #000000'>" + radioHtml452 + "</td>");
            sb.Append("        <td style='text-align:center;width:40%; padding:10px; border:1px solid #000000'>" + pdf.gef_date4 + "</td>");
            sb.Append("    </tr>");

            sb.Append("    <tr>");
            sb.Append("        <td style='text-align:left;width:40%; padding:10px; border:1px solid #000000'>Result</td>");
            sb.Append("        <td style='text-align:center;width:20%; padding:10px; border:1px solid #000000'>" + pdf.gef_15 + "</td>");
            sb.Append("        <td style='text-align:center;width:40%; padding:10px; border:1px solid #000000' colspan='2'></td>");
            sb.Append("    </tr>");

            sb.Append("    <tr>");
            sb.Append("        <td style='text-align:left;width:40%; padding:10px; border:1px solid #000000'>Vaginal infections</td>");
            sb.Append("        <td style='text-align:center;width:10%; padding:10px; border:1px solid #000000'>" + radioHtml461 + "</td>");
            sb.Append("        <td style='text-align:center;width:10%; padding:10px; border:1px solid #000000'>" + radioHtml462 + "</td>");
            sb.Append("        <td style='text-align:center;width:40%; padding:10px; border:1px solid #000000'>" + pdf.gef_date5 + "</td>");
            sb.Append("    </tr>");

            sb.Append("    <tr>");
            sb.Append("        <td style='text-align:left;width:40%; padding:10px; border:1px solid #000000'>Unusual vaginal bleeding</td>");
            sb.Append("        <td style='text-align:center;width:10%; padding:10px; border:1px solid #000000'>" + radioHtml471 + "</td>");
            sb.Append("        <td style='text-align:center;width:10%; padding:10px; border:1px solid #000000'>" + radioHtml472 + "</td>");
            sb.Append("        <td style='text-align:center;width:40%; padding:10px; border:1px solid #000000'>" + pdf.gef_date6 + "</td>");
            sb.Append("    </tr>");

            sb.Append("    <tr>");
            sb.Append("        <td style='text-align:left;width:40%; padding:10px; border:1px solid #000000'>Unusual vaginal discharge</td>");
            sb.Append("        <td style='text-align:center;width:10%; padding:10px; border:1px solid #000000'>" + radioHtml481 + "</td>");
            sb.Append("        <td style='text-align:center;width:10%; padding:10px; border:1px solid #000000'>" + radioHtml482 + "</td>");
            sb.Append("        <td style='text-align:center;width:40%; padding:10px; border:1px solid #000000'>" + pdf.gef_date7 + "</td>");
            sb.Append("    </tr>");

            sb.Append("    <tr>");
            sb.Append("        <td style='text-align:left;width:40%; padding:10px; border:1px solid #000000'>Hepatitis B vaccine</td>");
            sb.Append("        <td style='text-align:center;width:10%; padding:10px; border:1px solid #000000'>" + radioHtml491 + "</td>");
            sb.Append("        <td style='text-align:center;width:10%; padding:10px; border:1px solid #000000'>" + radioHtml492 + "</td>");
            sb.Append("        <td style='text-align:center;width:40%; padding:10px; border:1px solid #000000'></td>");
            sb.Append("    </tr>");

            sb.Append("    <tr>");
            sb.Append("        <td style='text-align:left;width:40%; padding:10px; border:1px solid #000000'>Pregnancy/abortion( )</td>");
            sb.Append("        <td style='text-align:center;width:10%; padding:10px; border:1px solid #000000'>" + radioHtml501 + "</td>");
            sb.Append("        <td style='text-align:center;width:10%; padding:10px; border:1px solid #000000'>" + radioHtml502 + "</td>");
            sb.Append("        <td style='text-align:center;width:40%; padding:10px; border:1px solid #000000'>" + pdf.gef_date8 + "</td>");
            sb.Append("    </tr>");

            sb.Append("    </table>");

            sb.Append("    <table style='width:100%; font-size: 12px; margin-bottom: 20px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align:left;width:33%; padding:10px; border:1px solid #000000'>1. " + pdf.gef_16 + "</td>");
            sb.Append("        <td style='text-align:left;width:33%; padding:10px; border:1px solid #000000'>2. " + pdf.gef_17 + "</td>");
            sb.Append("        <td style='text-align:left;width:44%; padding:10px; border:1px solid #000000'>3. " + pdf.gef_18 + "</td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    <table style='width:100%; font-size: 12px; margin-bottom: 20px; margin-top: 20px;border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align:left;width:25%; padding:10px;border:1px solid #000000'>First day of last menstrual</td>");
            sb.Append("        <td style='text-align:left;width:25%; padding:10px;border:1px solid #000000'>" + pdf.gef_19 + "</td>");
            sb.Append("        <td style='text-align:left;width:25%; padding:10px;border:1px solid #000000'>Was last period normal</td>");
            sb.Append("        <td style='text-align:left;width:25%; padding:10px;border:1px solid #000000'>" + radioHtml511 + "Yes  " + radioHtml512 + "No</td>");
            sb.Append("    </tr>");

            sb.Append("    <tr>");
            sb.Append("        <td style='text-align:left;width:25%; padding:10px;border:1px solid #000000'>Last pap date</td>");
            sb.Append("        <td style='text-align:left;width:25%; padding:10px;border:1px solid #000000'>" + pdf.gef_date9 + "</td>");
            sb.Append("        <td style='text-align:left;width:25%; padding:10px;border:1px solid #000000'>result</td>");
            sb.Append("        <td style='text-align:left;width:25%; padding:10px;border:1px solid #000000'>" + pdf.gef_20 + "</td>");
            sb.Append("    </tr>");

            sb.Append("    </table>");

            sb.Append("    <table style='width:100%; font-size: 12px; margin-bottom: 20px; margin-top: 20px;border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align:left;width:25%; padding:10px;border:1px solid #000000'>Periods started at age</td>");
            sb.Append("        <td style='text-align:left;width:10%; padding:10px;border:1px solid #000000'>" + pdf.gef_21 + " </td>");
            sb.Append("        <td style='text-align:left;width:20%; padding:10px;border:1px solid #000000'>Occur every</td>");
            sb.Append("        <td style='text-align:left;width:10%; padding:10px;border:1px solid #000000'>" + pdf.gef_22 + "</td>");
            sb.Append("        <td style='text-align:left;width:20%; padding:10px;border:1px solid #000000'>days Duration</td>");
            sb.Append("        <td style='text-align:left;width:15%; padding:10px;border:1px solid #000000'>" + pdf.gef_23 + "  days</td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    <table style='width:100%; font-size: 12px; margin-bottom: 20px; margin-top: 20px;border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align:left;width:16%; padding:10px;border:1px solid #000000'>Periods are</td>");
            sb.Append("        <td style='text-align:left;width:14%; padding:10px;border:1px solid #000000'>" + radioHtml521 + "regular</td>");
            sb.Append("        <td style='text-align:left;width:14%; padding:10px;border:1px solid #000000'>" + radioHtml522 + "irregular</td>");
            sb.Append("        <td style='text-align:left;width:14%; padding:10px;border:1px solid #000000'>" + radioHtml523 + "light</td>");
            sb.Append("        <td style='text-align:left;width:14%; padding:10px;border:1px solid #000000'>" + radioHtml524 + "moderate</td>");
            sb.Append("        <td style='text-align:left;width:14%; padding:10px;border:1px solid #000000'>" + radioHtml525 + "heavy</td>");
            sb.Append("        <td style='text-align:left;width:14%; padding:10px;border:1px solid #000000'>" + radioHtml526 + "painful</td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");

            sb.Append("    <tr>");
            sb.Append("        <td style='text-align:left;width:40%; padding:10px; border:1px solid #000000'>Do you do a breast self exam monthly?</td>");
            sb.Append("        <td style='text-align:center;width:10%; padding:10px; border:1px solid #000000'>" + radioHtml531 + "Yes</td>");
            sb.Append("        <td style='text-align:center;width:10%; padding:10px; border:1px solid #000000'>" + radioHtml532 + "No</td>");
            sb.Append("    </tr>");

            sb.Append("    <tr>");
            sb.Append("        <td style='text-align:left;width:40%; padding:10px; border:1px solid #000000'>Have you ever had sexual intercourse</td>");
            sb.Append("        <td style='text-align:center;width:10%; padding:10px; border:1px solid #000000'>" + radioHtml541 + "Yes</td>");
            sb.Append("        <td style='text-align:center;width:10%; padding:10px; border:1px solid #000000'>" + radioHtml542 + "No</td>");
            sb.Append("    </tr>");

            sb.Append("    <tr>");
            sb.Append("        <td style='text-align:left;width:40%; padding:10px; border:1px solid #000000'>If Yes,</td>");
            sb.Append("        <td style='text-align:center;width:10%; padding:10px; border:1px solid #000000'>" + radioHtml551 + "Men</td>");
            sb.Append("        <td style='text-align:center;width:10%; padding:10px; border:1px solid #000000'>" + radioHtml552 + "Women</td>");
            sb.Append("        <td style='text-align:center;width:10%; padding:10px; border:1px solid #000000'>" + radioHtml552 + "Both</td>");
            sb.Append("    </tr>");

            sb.Append("    </table>");

            sb.Append("    <table style='width:100%; font-size: 12px; margin-bottom: 20px; margin-top: 20px;border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align:left;width:40%; padding:10px;border:1px solid #000000'>Number of sexual partners within past two years?</td>");
            sb.Append("        <td style='text-align:left;width:10%; padding:10px;border:1px solid #000000'>" + pdf.gef_24 + "</td>");
            sb.Append("        <td style='text-align:left;width:40%; padding:10px;border:1px solid #000000'>Length of time with current or most recent sexual partner?</td>");
            sb.Append("        <td style='text-align:left;width:10%; padding:10px;border:1px solid #000000'>" + pdf.gef_25 + "</td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align:left;width:40%; padding:10px; border:1px solid #000000'>Condom protection always</td>");
            sb.Append("        <td style='text-align:center;width:10%; padding:10px; border:1px solid #000000'>" + radioHtml561 + "Yes</td>");
            sb.Append("        <td style='text-align:center;width:10%; padding:10px; border:1px solid #000000'>" + radioHtml562 + "No</td>");
            sb.Append("    </tr>");

            sb.Append("    <tr>");
            sb.Append("        <td style='text-align:left;width:40%; padding:10px; border:1px solid #000000'>Have any of your partners been in a high risk category for HIV infection (AIDS)?</td>");
            sb.Append("        <td style='text-align:center;width:10%; padding:10px; border:1px solid #000000'>" + radioHtml571 + "Yes</td>");
            sb.Append("        <td style='text-align:center;width:10%; padding:10px; border:1px solid #000000'>" + radioHtml572 + "No</td>");
            sb.Append("    </tr>");

            sb.Append("    </table>");

            sb.Append("    <table style='width:100%; font-size: 12px; margin-bottom: 20px; margin-top: 20px;border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align:left;width:20%; padding:10px;border:1px solid #000000'>More than one partner(s)?</td>");
            sb.Append("        <td style='text-align:left;width:10%; padding:10px;border:1px solid #000000'>" + pdf.gef_26 + "</td>");
            sb.Append("        <td style='text-align:left;width:10%; padding:10px;border:1px solid #000000'>Bisexual?  </td>");
            sb.Append("        <td style='text-align:left;width:10%; padding:10px;border:1px solid #000000'>" + pdf.gef_27 + "</td>");
            sb.Append("        <td style='text-align:left;width:10%; padding:10px;border:1px solid #000000'>Used drugs?</td>");
            sb.Append("        <td style='text-align:left;width:10%; padding:10px;border:1px solid #000000'>" + pdf.gef_28 + "</td>");
            sb.Append("        <td style='text-align:left;width:20%; padding:10px;border:1px solid #000000'>History of other STD's</td>");
            sb.Append("        <td style='text-align:left;width:10%; padding:10px;border:1px solid #000000'>" + pdf.gef_29 + "</td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align:left;width:40%; padding:10px; border:1px solid #000000'>Have you had unprotected sex (no condoms) since your last menstrual period?</td>");
            sb.Append("        <td style='text-align:center;width:10%; padding:10px; border:1px solid #000000'>" + radioHtml581 + "Yes</td>");
            sb.Append("        <td style='text-align:center;width:10%; padding:10px; border:1px solid #000000'>" + radioHtml582 + "No</td>");
            sb.Append("    </tr>");

            sb.Append("    <tr>");
            sb.Append("        <td style='text-align:left;width:40%; padding:10px; border:1px solid #000000'>Any missed birth control pills?</td>");
            sb.Append("        <td style='text-align:center;width:10%; padding:10px; border:1px solid #000000'>" + radioHtml591 + "Yes</td>");
            sb.Append("        <td style='text-align:center;width:10%; padding:10px; border:1px solid #000000'>" + radioHtml592 + "No</td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align:left;width:40%; padding:10px; border:1px solid #000000'>What are you doing now to protect yourself from HIV (AIDS)/STDs/Hepatitis B or C?</td>");
            sb.Append("        <td style='text-align:center;width:10%; padding:10px; border:1px solid #000000'>" + pdf.gef_30 + "</td>");
            sb.Append("    </tr>");

            sb.Append("    <tr>");
            sb.Append("        <td style='text-align:left;width:40%; padding:10px; border:1px solid #000000'>How many times have you used condoms in the last 10 acts of intercourse?</td>");
            sb.Append("        <td style='text-align:center;width:10%; padding:10px; border:1px solid #000000'>" + pdf.gef_31 + "</td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("<p>Have you ever had any of the following:</p>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");

            sb.Append("    <tr>");
            sb.Append("        <td style='text-align:left;width:30%; padding:10px; border:1px solid #000000'></td>");
            sb.Append("        <td style='text-align:center;width:10%; padding:10px; border:1px solid #000000'>Yes</td>");
            sb.Append("        <td style='text-align:center;width:10%; padding:10px; border:1px solid #000000'>No</td>");
            sb.Append("    </tr>");

            sb.Append("    <tr>");
            sb.Append("        <td style='text-align:left;width:30%; padding:10px; border:1px solid #000000'>Chlamydia</td>");
            sb.Append("        <td style='text-align:center;width:10%; padding:10px; border:1px solid #000000'>" + radioHtml601 + "</td>");
            sb.Append("        <td style='text-align:center;width:10%; padding:10px; border:1px solid #000000'>" + radioHtml602 + "</td>");
            sb.Append("    </tr>");

            sb.Append("    <tr>");
            sb.Append("        <td style='text-align:left;width:30%; padding:10px; border:1px solid #000000'>Gonorrhea</td>");
            sb.Append("        <td style='text-align:center;width:10%; padding:10px; border:1px solid #000000'>" + radioHtml611 + "</td>");
            sb.Append("        <td style='text-align:center;width:10%; padding:10px; border:1px solid #000000'>" + radioHtml612 + "</td>");
            sb.Append("    </tr>");

            sb.Append("    <tr>");
            sb.Append("        <td style='text-align:left;width:30%; padding:10px; border:1px solid #000000'>Genital Warts (HPV)</td>");
            sb.Append("        <td style='text-align:center;width:10%; padding:10px; border:1px solid #000000'>" + radioHtml621 + "</td>");
            sb.Append("        <td style='text-align:center;width:10%; padding:10px; border:1px solid #000000'>" + radioHtml622 + "</td>");
            sb.Append("    </tr>");

            sb.Append("    <tr>");
            sb.Append("        <td style='text-align:left;width:30%; padding:10px; border:1px solid #000000'>Herpes (HSV)</td>");
            sb.Append("        <td style='text-align:center;width:10%; padding:10px; border:1px solid #000000'>" + radioHtml631 + "</td>");
            sb.Append("        <td style='text-align:center;width:10%; padding:10px; border:1px solid #000000'>" + radioHtml632 + "</td>");
            sb.Append("    </tr>");

            sb.Append("    <tr>");
            sb.Append("        <td style='text-align:left;width:30%; padding:10px; border:1px solid #000000'>Hepatitis B</td>");
            sb.Append("        <td style='text-align:center;width:10%; padding:10px; border:1px solid #000000'>" + radioHtml641 + "</td>");
            sb.Append("        <td style='text-align:center;width:10%; padding:10px; border:1px solid #000000'>" + radioHtml642 + "</td>");
            sb.Append("    </tr>");

            sb.Append("    </table>");

            sb.Append("<p>Any other pertinent history or concerns :  " + pdf.gef_32 + "</p>");
            sb.Append("<p><u>Pre-exam education :</u></p>");
            sb.Append("<p>" + ChkHtml1 + " GYN exam film  " + ChkHtml2 + " Contraception film " + ChkHtml3 + " STD film  " + ChkHtml4 + " Breast Film</p>");
            sb.Append("<p>Current medications :  " + pdf.gef_33 + "</p>");


            sb.Append("</div>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;'  colspan='2'>");
            sb.Append("            <p>Sign here, only if all of your questions have been answered to your satisfaction</p>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("             Patient");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("            Doctor");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000'>");
            sb.Append("            <img src='" + psign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;'>");
            sb.Append("            <img src='" + emr.doc_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000;border-top:1px solid #000000;'>");
            sb.Append("            Patient Name");
            sb.Append("             <br/>" + emr.pat_name);
            sb.Append("</br><br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-top:1px solid #000000;'>");
            sb.Append("           Doctor Name<br/>");
            sb.Append("            " + emr.app_doctor_department + "<br/>");
            sb.Append("<br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("</table>");
            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + footer + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    </body>");
            sb.Append("</html>");

            String htmlString = sb.ToString();

            return htmlString;
        }

        //After Operation Arabic (oxy1)
        public static string HtmlAfterOperation(int appId, EMRInfo emr, int setId)
        {
            BusinessEntities.ConsentForms.AfterOperation pdf = BusinessLogicLayer.ConsentForms.AfterOperation.GetAfterOperationData(appId).FirstOrDefault();
            BusinessEntities.Common.eSignature psign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "patient", "AfterOperation").FirstOrDefault();
            BusinessEntities.Common.eSignature wsign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "witness", "AfterOperation").FirstOrDefault();
            BusinessEntities.Common.PDFHeaderFooter hf = BusinessLogicLayer.Common.PDF.GetHeaderFooterByBranch(setId);

            string header = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "header_images", hf.header.ToString());
            string footer = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "footer_images", hf.footer.ToString());

            StringBuilder sb = new StringBuilder();


            sb.Append("<html>");
            sb.Append("    <head>");
            sb.Append("    <title> <u dir='rtl'>تعليمات بعد العملية</u></title>");
            sb.Append("    <meta charset='utf-8'>");
            sb.Append("    </head>");
            sb.Append("    <body style='font-family: Verdana, Geneva, Tahoma, sans-serif;'>");

            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + header + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    <table dir='rtl' style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'  colspan='9'>");
            sb.Append("            <h1>تعليمات بعد العملية</h1>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>اسم المريض</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>" + emr.pat_name + "</td>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>هويه الإمارات</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000' colspan='4'>" + emr.pat_emirateid + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>رقم الملف</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>" + emr.pat_code + "</td>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>تاريخ الميلاد</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>" + emr.pat_dob + "</td>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>جنسية</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>" + emr.pat_nationality + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>جنس</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>" + emr.pat_gender + "</td>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>اسم الطبيب</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>" + emr.doc_name + "</td>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>تاريخ</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>" + emr.app_fdate + "</td>");
            sb.Append("    </tr>");
            sb.Append("</table>");

            sb.Append("<div dir='rtl' style='width:100%; text-align:justify; dir font-size: 12px; margin-top: 50px;margin-bottom: 50px;'>");

            sb.Append("<p style='text-decoration:underline;font-weight:bold;'> حقن التعبئة الجلدية</p>");
            sb.Append("<p style='font-weight:semibold;'> نصائح ما بعد الرعاية : </p>");
            sb.Append("<p>");
            sb.Append("<ul>");
            sb.Append("<li>يستطيع معظم الناس االستمرار في األنشطة الطبيعية مع تحسن فوري في مظهرهم. قد يعاني بعضهم من بعض االحمرار \r\nوعالمات وخز وربما تورم – خاصة في الشفاه. قد يحدث كدمات أي ًضا. قد يكون أي تورم وكدمات أكثر وضو ًحا في اليوم\r\nالتالي.</li>");
            sb.Append("<li>ل ينبغي وضع المكياج لمدة ١٢ ساعة</li>");
            sb.Append("<li> يُنصح بتجنب تناول الكحول وممارسة التمارين الرياضية الشديدة والتعرض للشمس والحرارة أو البرودة الشديدة لمدة ١٤ يو ًما\r\nبعد العالج. تم العثور على أن هذه األنشطة تزيد وتطيل الورم.</li>");
            sb.Append("<li> قد يزداد الورم في الساعات ال ٢٤ األولى ، ومن بعدها يبدأ بالتحسن تدريجيا واالستقرار فاأليام التالية.</li>");
            sb.Append("<li>يمكن أن تكون المكمدات البارده مفيدة في تقليل الورم.</li>");
            sb.Append("<li>ونتيجة للورم ، قد يشعرالمنتج بالصالبة أوعدم التجانس وقد تالحظ بعض عدم التناظر فاأليام األولى. يمكن تقييم النتيجة النهائية \r\nبعد أسبوعين. </li>");
            sb.Append("<li>قد تستغرق الكدمات بضعة أيام للظهور ، ويمكن أن يكون مستخلص األرنيكا مفيدًا في تقليل األلم والكدمات والتورم. من \r\nالمستحسن تجنب استخدام األسبرين والكحول لمدة ٤٨-١٢ ساعة بعد العالج.</li>");
            sb.Append("<li> سوف يختفي احساس األلم عند الضغط على موضع العملية عندما يتراجع الورم</li>");
            sb.Append("<li>يرجى االتصال بطبيبك في مركز أكسجين الطبي إذا زاد اإلحمرار أو الحساسية أو الحكة أو الورم بعد ٣ أيام بدالً من أن يتراجع \r\nويستقر.</li>");
            sb.Append("</ul>");
            sb.Append("</p>");
            sb.Append("<p style='text-decoration:underline;font-weight:bold;'> البوتوكس </p>");
            sb.Append("<p style='font-weight:semibold;'>  نصائح ما بعد الرعاية :  </p>");
            sb.Append("<p>");
            sb.Append("<ul>");
            sb.Append("<li> سيُنصح بإبقاء العضالت المستهدفة نشطة لبضع ساعات وتجنب التقلبات الحادة في درجات الحرارة أو البرودة ، وممارسة \r\nالتمارين الرياضية الشديدة ، واالستلقاء أو االنحناء لمدة ٦-٤ ساعات</li>");
            sb.Append("<li>من المتوقع بعد العالج أن تبدأ في رؤية تحسن في غضون ٢ أو ٣ أيام ولبعض األشخاص قد يستغرق ذلك وقتًا أطول. يمكن\r\nتقييم النتيجة الكاملة بعد ٣-٢ أسابيع. ستدعى لحضور موعد استعراض في ٣-٢ أسابيع حيث يمكن تقييم نجاح العالج وإجراء \r\nتعديالت على خطة العالج الشخصية الخاصة بك</li>");
            sb.Append("<li> إذا كنت تواجه أي آثار جانبية غير متوقعة أو أي آثار تثير قلقك، يرجى التواصل مع طبيبك في مركز أكسجين الطبي.</li>");
            sb.Append("</ul>");
            sb.Append("</p>");

            sb.Append("</div>");

            sb.Append("    <table dir='rtl' style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;'  colspan='2'>");
            sb.Append("            <p>قم بالتوقيع هنا فقط إذا تمت الموافقة على جميع الأسئلة</p>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("            مريض");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("            طبيب");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-left:1px solid #000000'>");
            sb.Append("            <img src='" + psign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;'>");
            sb.Append("            <img src='" + emr.doc_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000;border-top:1px solid #000000; width: 33%;'>");
            sb.Append("            اسم المريض");
            sb.Append("             <br/>" + emr.pat_name + "<br/>");
            sb.Append("<br/>تاريخ<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("        <td dir='ltr' style='text-align: center;padding: 10px;border-top:1px solid #000000; width: 33%;'>");
            sb.Append("            " + emr.app_doctor_department + "<br/>");
            sb.Append("<br/>تاريخ<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("</table>");

            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + footer + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");
            sb.Append("    </body>");
            sb.Append("</html>");

            String htmlString = sb.ToString();

            return htmlString;
        }

        //Temporary Dermal Fillers (oxy2)
        public static string HtmlDermalFillers(int appId, EMRInfo emr, int setId)
        {
            BusinessEntities.ConsentForms.DermalFillers pdf = BusinessLogicLayer.ConsentForms.DermalFillers.GetDermalFillersData(appId).FirstOrDefault();
            BusinessEntities.Common.eSignature psign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "patient", "DermalFillers").FirstOrDefault();
            BusinessEntities.Common.eSignature wsign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "witness", "DermalFillers").FirstOrDefault();
            BusinessEntities.Common.PDFHeaderFooter hf = BusinessLogicLayer.Common.PDF.GetHeaderFooterByBranch(setId);

            string header = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "header_images", hf.header.ToString());
            string footer = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "footer_images", hf.footer.ToString());

            StringBuilder sb = new StringBuilder();

            string ChkHtml1 = "<input type='checkbox'  class='custom-control-input' name='dff_chk' value='1' id='dff_chk1'>";
            string ChkHtml2 = "<input type='checkbox'  class='custom-control-input' name='dff_chk' value='2' id='dff_chk2'>";
            string ChkHtml3 = "<input type='checkbox'  class='custom-control-input' name='dff_chk' value='3' id='dff_chk3'>";
            string ChkHtml4 = "<input type='checkbox'  class='custom-control-input' name='dff_chk' value='4' id='dff_chk4'>";
            string ChkHtml5 = "<input type='checkbox'  class='custom-control-input' name='dff_chk' value='5' id='dff_chk5'>";
            string ChkHtml6 = "<input type='checkbox'  class='custom-control-input' name='dff_chk' value='6' id='dff_chk6'>";
            string ChkHtml7 = "<input type='checkbox'  class='custom-control-input' name='dff_chk' value='7' id='dff_chk7'>";
            string ChkHtml8 = "<input type='checkbox'  class='custom-control-input' name='dff_chk' value='8' id='dff_chk8'>";
            string ChkHtml9 = "<input type='checkbox'  class='custom-control-input' name='dff_chk' value='9' id='dff_chk9'>";
            string ChkHtml10 = "<input type='checkbox'  class='custom-control-input' name='dff_chk' value='10' id='dff_chk10'>";
            string ChkHtml11 = "<input type='checkbox'  class='custom-control-input' name='dff_chk' value='11' id='dff_chk11'>";
            string ChkHtml12 = "<input type='checkbox'  class='custom-control-input' name='dff_chk' value='12' id='dff_chk12'>";
            string ChkHtml13 = "<input type='checkbox'  class='custom-control-input' name='dff_chk' value='13' id='dff_chk13'>";
            string ChkHtml14 = "<input type='checkbox'  class='custom-control-input' name='dff_chk' value='14' id='dff_chk14'>";
            string ChkHtml15 = "<input type='checkbox'  class='custom-control-input' name='dff_chk' value='15' id='dff_chk15'>";
            string ChkHtml16 = "<input type='checkbox'  class='custom-control-input' name='dff_chk' value='16' id='dff_chk16'>";
            string ChkHtml17 = "<input type='checkbox'  class='custom-control-input' name='dff_chk' value='17' id='dff_chk17'>";
            string ChkHtml18 = "<input type='checkbox'  class='custom-control-input' name='dff_chk' value='18' id='dff_chk18'>";
            string ChkHtml19 = "<input type='checkbox'  class='custom-control-input' name='dff_chk' value='19' id='dff_chk19'>";

            if (pdf.dff_chk.Contains("1"))
            {
                ChkHtml1 = ChkHtml1.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.dff_chk.Contains("2"))
            {
                ChkHtml2 = ChkHtml2.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.dff_chk.Contains("3"))
            {
                ChkHtml3 = ChkHtml3.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.dff_chk.Contains("4"))
            {
                ChkHtml4 = ChkHtml4.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.dff_chk.Contains("5"))
            {
                ChkHtml5 = ChkHtml5.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.dff_chk.Contains("6"))
            {
                ChkHtml6 = ChkHtml6.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.dff_chk.Contains("7"))
            {
                ChkHtml7 = ChkHtml7.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.dff_chk.Contains("8"))
            {
                ChkHtml8 = ChkHtml8.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.dff_chk.Contains("9"))
            {
                ChkHtml9 = ChkHtml9.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.dff_chk.Contains("10"))
            {
                ChkHtml10 = ChkHtml10.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.dff_chk.Contains("11"))
            {
                ChkHtml11 = ChkHtml11.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.dff_chk.Contains("12"))
            {
                ChkHtml12 = ChkHtml12.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.dff_chk.Contains("13"))
            {
                ChkHtml13 = ChkHtml13.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.dff_chk.Contains("14"))
            {
                ChkHtml14 = ChkHtml14.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.dff_chk.Contains("15"))
            {
                ChkHtml15 = ChkHtml15.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.dff_chk.Contains("16"))
            {
                ChkHtml16 = ChkHtml16.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.dff_chk.Contains("17"))
            {
                ChkHtml17 = ChkHtml17.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.dff_chk.Contains("18"))
            {
                ChkHtml18 = ChkHtml18.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }
            if (pdf.dff_chk.Contains("19"))
            {
                ChkHtml19 = ChkHtml19.Replace("<input type='checkbox'", "<input type='checkbox' checked");
            }

            sb.Append("<html>");
            sb.Append("    <head><title> <u>Temporary Dermal Fillers Consent Form</u></title></head>");
            sb.Append("    <body style='font-family: Verdana, Geneva, Tahoma, sans-serif;'>");

            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + header + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000' colspan='9'>");
            sb.Append("            <h1>Temporary Dermal Fillers Consent Form</h1>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Patient Name</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000' colspan='4'>" + emr.pat_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Emirates ID</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_emirateid + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>File No</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_code + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>DOB</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_dob + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Nationality</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_nationality + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Gender</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_gender + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Doctor's Name</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.doc_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Date</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.app_fdate + "</td>");
            sb.Append("    </tr>");
            sb.Append("</table>");

            sb.Append("<div style='width:100%; text-align:justify; font-size: 12px; margin-top: 50px;margin-bottom: 50px;'>");

            sb.Append("<p style='font-weight:bold;'>Temporary Dermal Fillers Consent Form- Hyaluronic Acid (Face)</p>");
            sb.Append("<p>" + pdf.dff_1 + " is a sterile gel consisting of non-animal, stabilised hyaluronic acid and a local anaesthetic called lidocaine. Hyaluronic acid is a sugar chain molecule, naturally occurring in the skin and throughout the body. The sterile gel is injected into the skin to correct facial lines, wrinkles and folds, for lip enhancement, for shaping facial contours including chin, cheeks, jawline and the nose and for skin rejuvenation.</p>");
            sb.Append("<p style='font-weight:bold;'>Common Side Effects Associated with the Injection :</p>");
            sb.Append("<p>");
            sb.Append("<ul>");
            sb.Append("<li>Pain or stinging sensation when the injection is performed.</li>");
            sb.Append("<li>Localized swelling, redness and or tenderness</li>");
            sb.Append("<li>Bleeding at the sites of injection</li>");
            sb.Append("<li>Bruising. Rarely, bruising may be severe and may persist for several weeks</li>");
            sb.Append("<li>Numbness or itching of the area following injection</li>");
            sb.Append("</ul>");
            sb.Append("</p>");
            sb.Append("<p>Common side effects are expected to resolve spontaneously, within the first few days of treatment. Whilst not expected, it is possible that reactions described may persist for longer than expected and may inhibit your confidence to attend work or social events. You are advised to schedule treatment with this in mind, allowing time for common reactions such as bruising and swelling, to settle.</p>");
            sb.Append("<p style='font-weight:bold;'>Uncommon Side Effects :</p>");
            sb.Append("<p>");
            sb.Append("<ul>");
            sb.Append("<li>Infection</li>");
            sb.Append("<li>Inflammation</li>");
            sb.Append("<li>Skin discoloration</li>");
            sb.Append("<li>Infection or skin discoloration may occur within a few days, or weeks to months following treatment.</li>");
            sb.Append("<li>Allergic or sensitivity reaction. Symptoms include; itching, rash, red itchy welts, wheezing, asthma symptoms, dizziness or feeling faint. Abscess formation</li>");
            sb.Append("<li>Prolonged swelling which may occur early or present after several weeks</li>");
            sb.Append("<li>Persistent lumps, nodules or papules</li>");
            sb.Append("<li>Acne like formations</li>");
            sb.Append("<li>A Foreign body reaction known as ‘granuloma’ presenting as lumps or nodules</li>");
            sb.Append("<li>The blood supply to the skin may be interrupted by swelling or inadvertent injection into a vessel, causing pain, skin damage and possible scarring.</li>");
            sb.Append("<li>Though extremely rare, transient visual disturbance or permanent blindness has been reported following injectable cosmetic treatment.</li>");
            sb.Append("</ul>");
            sb.Append("</p>");
            sb.Append("<p style='font-weight:bold;'>Perfect symmetry is not always achievable.</p>");
            sb.Append("<p>Correction is expected to last for a period of 6-12 months. The successful outcome varies by degree and how long it lasts varies from one individual to another and cannot be guaranteed.</p>");
            sb.Append("<p>" + ChkHtml1 + " I understand that whilst I have been advised as to a probable result, this should\r\nnot be interpreted as a guarantee.</p>");
            sb.Append("<p>" + ChkHtml2 + " I understand that though complications are uncommon, they do sometimes\r\noccur. It is possible that side effects not described may occur and indeed that a\r\ncomplication not previously reported may occur for the first time.\r\n</p>");
            sb.Append("<p>" + ChkHtml3 + " I understand if I suffer any adverse reactions that are not expected, or concern\r\nme, I must contact the clinic. An appointment will be made for me to be seen. The\r\nclinic cannot take responsibility for complications or results that have not been reported,\r\nassessed, documented and managed in a timely fashion.</p>");
            sb.Append("<p>" + ChkHtml4 + " I understand that whilst results desired and expected have been discussed,\r\noutcomes vary between individuals and cannot be guaranteed.</p>");
            sb.Append("<p>" + ChkHtml5 + " I confirm that the medical health history form has been completed truthfully and I\r\nam fully aware that withholding medical information, including history of previous\r\ntreatment, may be detrimental to the safe and optimal outcome of any treatment\r\nadministered. If there are any changes in my medical history, I must inform the\r\npractitioner.</p>");
            sb.Append("<p>" + ChkHtml6 + " I confirm that I have been provided with verbal and written information about this\r\ntreatment which includes aftercare and follow up advice.</p>");
            sb.Append("<p>" + ChkHtml7 + " I agree to follow the aftercare advice and understand this reduces risk of adverse\r\nreactions and helps ensure optimum results.</p>");
            sb.Append("<p>" + ChkHtml8 + " I understand information about me will be treated as confidential and access to it\r\nrestricted in accordance with the Data Protection Act, unless specific permissions given.</p>");
            sb.Append("<p>" + ChkHtml9 + " I consent to my medical records being shared with appropriate medical\r\nprofessionals</p>");
            sb.Append("<p>" + ChkHtml10 + " I understand photographs are taken as part of my medical record.\r\n</p>");
            sb.Append("<p>On occasion it is helpful to share visual images of our own treatment results. I consent\r\nto photographs being published for;\r\n</p");
            sb.Append("<p>" + ChkHtml11 + " Educational and training purposes with medical professionals</p>");
            sb.Append("<p>" + ChkHtml12 + " Educational purposes with selected patients during consultation\r\n</p>");
            sb.Append("<p>" + ChkHtml13 + " Educational/promotional purposes in the clinics portfolio viewed by selected\r\nmembers of the public</p>");
            sb.Append("<p>" + ChkHtml14 + " Educational/promotional purposes on the clinic website</p>");
            sb.Append("<p>" + ChkHtml15 + " Educational purposes for selected public events</p>");
            sb.Append("<p>" + ChkHtml16 + " I understand that no fee is payable to me or any other person in respect of the\r\nmaterial either now or at any time in the future.\r\n</p>");
            sb.Append("<p>" + ChkHtml17 + " I confirm that the purpose for which the material would be used has been\r\nexplained to me in terms which I have understood.</p>");
            sb.Append("<p>" + ChkHtml18 + " I have taken the time to read;</p>");
            sb.Append("<p>");
            sb.Append("<ul>");
            sb.Append("<li>Temporary Dermal Fillers Consent Form</li>");
            sb.Append("<li>Treatment Information Hyaluronic Acid Dermal Fillers</li>");
            sb.Append("<li>Clinic Terms and Conditions</li>");
            sb.Append("</ul>");
            sb.Append("</p>");
            sb.Append("<p>" + ChkHtml19 + " I accept the clinic terms and conditions.</p>");
            sb.Append("<p>I am satisfied treatment with dermal fillers has been explained comprehensively and\r\nthat the possible risks and side effects associated with the treatment have been fully\r\ndiscussed and understood. I have taken sufficient time to process and consider the\r\ninformation provided and any questions I had have been answered to my satisfaction,\r\nbefore making a decision to proceed with the agreed treatment plan.\r\n</p>");
            sb.Append("<p>I have been advised the cost of the treatment will be " + pdf.dff_2 + " AED and accept the\r\nterms of payment as per the clinic policy (terms and conditions).</p>");
            sb.Append("</div>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;'  colspan='2'>");
            sb.Append("            <p>Sign here, only if all of your questions have been answered to your satisfaction</p>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("             Patient");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("            Doctor");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000'>");
            sb.Append("            <img src='" + psign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;'>");
            sb.Append("            <img src='" + emr.doc_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000;border-top:1px solid #000000;'>");
            sb.Append("            Patient Name");
            sb.Append("             <br/>" + emr.pat_name);
            sb.Append("</br><br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-top:1px solid #000000;'>");
            sb.Append("           Doctor Name<br/>");
            sb.Append("            " + emr.app_doctor_department + "<br/>");
            sb.Append("<br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("</table>");
            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + footer + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    </body>");
            sb.Append("</html>");

            String htmlString = sb.ToString();

            return htmlString;
        }

        // Concent Botox in Arabic (oxy3)
        public static string HtmlBotoxArabic(int appId, EMRInfo emr, int setId)
        {
            BusinessEntities.ConsentForms.BotoxArabic pdf = BusinessLogicLayer.ConsentForms.BotoxArabic.GetBotoxArabicData(appId).FirstOrDefault();
            BusinessEntities.Common.eSignature psign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "patient", "BotoxArabic").FirstOrDefault();
            BusinessEntities.Common.eSignature wsign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "witness", "BotoxArabic").FirstOrDefault();
            BusinessEntities.Common.PDFHeaderFooter hf = BusinessLogicLayer.Common.PDF.GetHeaderFooterByBranch(setId);

            string header = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "header_images", hf.header.ToString());
            string footer = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "footer_images", hf.footer.ToString());

            StringBuilder sb = new StringBuilder();


            sb.Append("<html>");
            sb.Append("    <head>");
            sb.Append("    <title> <u dir='rtl'> كونسنت البوتوكس بالعربي</u></title>");
            sb.Append("    <meta charset='utf-8'>");
            sb.Append("    </head>");
            sb.Append("    <body style='font-family: Verdana, Geneva, Tahoma, sans-serif;'>");

            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + header + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    <table dir='rtl' style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'  colspan='9'>");
            sb.Append("            <h1> كونسنت البوتوكس بالعربي</h1>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>اسم المريض</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>" + emr.pat_name + "</td>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>هويه الإمارات</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000' colspan='4'>" + emr.pat_emirateid + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>رقم الملف</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>" + emr.pat_code + "</td>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>تاريخ الميلاد</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>" + emr.pat_dob + "</td>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>جنسية</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>" + emr.pat_nationality + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>جنس</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>" + emr.pat_gender + "</td>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>اسم الطبيب</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>" + emr.doc_name + "</td>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>تاريخ</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>" + emr.app_fdate + "</td>");
            sb.Append("    </tr>");
            sb.Append("</table>");

            sb.Append("<div dir='rtl' style='width:100%; text-align:justify; dir font-size: 12px; margin-top: 50px;margin-bottom: 50px;'>");

            sb.Append("<p style='font-weight:bold;'>موافقة على (البوتوكس) </p>");
            sb.Append("<p>هدف العلاج: هدف هذا العلاج هو تقليل حركة العضلات التي تسبب خطوط التعابير بشكل كبير، مما يحسن مظهر هذه الخطوط. تستخدم هذه العيادة (إدراج العلامة التجارية</p>");
            sb.Append("<p style='font-weight:bold;'>الآثار الجانبية الشائعة المرتبطة بالحقن تشمل:</p>");

            sb.Append("<table style='width:100%;'>");
            sb.Append("<tr>");
            sb.Append("<td style='width:33%;'>• ألم أو حرقة عند إجراء الحقن.</td>");
            sb.Append("<td style='width:34%;'>• تورم موضعي ، أحمرار، حساسية.</td>");
            sb.Append("<td style='width:33%;'>• نزيف في مواقع الحقن</td>");
            sb.Append("</tr>");
            sb.Append("</table>");

            sb.Append("<p style='font-weight:bold;'>الآثار الجانبية الشائعة المرتبطة بعلاج البوتوكس، نسبة حدوثها : 1%-10% :</p>");

            sb.Append("<table style='width:100%;'>");
            sb.Append("<tr>");
            sb.Append("<td style='width:33%;'>• تراجع الجفن (ترهل أو ثقل في الجفن، أحد أو كلا الجفنين</td>");
            sb.Append("<td style='width:34%;'>•  تراجع الحاجب (ثقل أو انخفاض في الحاجب).</td>");
            sb.Append("<td style='width:33%;'>•  ألم في الوجه.</td>");
            sb.Append("</tr>");
            sb.Append("</table>");

            sb.Append("<p style='font-weight:bold;'>الآثار الجانبية النادرة نسبة حدوثها : 0.1-1%</p>");
            sb.Append("<table style='width:100%;'>");
            sb.Append("<tr>");
            sb.Append("<td style='width:33%;'>•  تورم/ انتفاخ حول العيون.</td>");
            sb.Append("<td style='width:34%;'>•  غثيان.</td>");
            sb.Append("<td style='width:33%;'>• جفاف الفم.</td>");
            sb.Append("</tr>");
            sb.Append("<tr>");
            sb.Append("<td style='width:33%;'>•  تغيير في الإحساس بالجلد، تشنج أو توتر في العضلات في المنطقة المعالجة</td>");
            sb.Append("<td style='width:34%;'>• ألم في العين، جفاف في العيون، دموع، حساسية للضوء، رؤية غير واضحة، انحراف في العين.</td>");
            sb.Append("<td style='width:33%;'>• أعراض شبيهة بأعراض الإنفلونزا.</td>");
            sb.Append("</tr>");
            sb.Append("<tr>");
            sb.Append("<td style='width:33%;'>• حكة أو جفاف في الجلد</td>");
            sb.Append("<td style='width:34%;'>• قد يتأثر العضلات غير المستهدفة.</td>");
            sb.Append("<td style='width:33%;'>• عدوى</td>");
            sb.Append("</tr>");
            sb.Append("</table>");
            sb.Append("<p style='font-weight:bold;'>تم أيضًا الإبلاغ عن</p>");
            sb.Append("<table style='width:100%;'>");
            sb.Append("<tr>");
            sb.Append("<td style='width:33%;'>• حمى.</td>");
            sb.Append("<td style='width:34%;'>• طنين</td>");
            sb.Append("<td style='width:33%;'>• طفح جلدي</td>");
            sb.Append("</tr>");
            sb.Append("</table>");
            sb.Append("<p>هذه القائمة غير شاملة، يمكنك طلب نسخة من ورقة المعلومات للمريض في الحزمة، أو التحقق من ملخص الخصائص الطبية عبر الإنترنت.</p>");
            sb.Append("<p>قد تحدث أي تفاعلات سلبية عادة في غضون أيام قليلة من العلاج. آثار العلاج بالبوتكس غير قابلة للعكس ومن المتوقع أن تكون طابعًا مؤقتًا وتتلاشى عادة تلقائيًا في غضون أسابيع. في حالات نادرة، قد تستمر الأعراض لعدة أشهر.</p>");
            sb.Append("<p>أوافق على مشاركة سجلاتي الطبية مع الأطباء المختصين المناسبين.</p>");
            sb.Append("<p>أفهم أنه يتم التقاط الصور كجزء من سجلي الطبي.</p>");
            sb.Append("<p>في بعض الأحيان، يكون من المفيد مشاركة صور نتائج العلاج الخاصة بنا. أوافق على نشر الصور للأغراض التالية:</p>");
            sb.Append("<p>لأغراض التعليم والتدريب مع الأطباء المحترفين.</p>");
            sb.Append("<p>لأغراض تعليمية مع بعض المرضى المحددين خلال الاستشارة.</p>");
            sb.Append("<p>لأغراض تعليمية/ترويجية في محفظة العيادة المعروضة لبعض أفراد الجمهور المحددين.</p>");
            sb.Append("<p>لأغراض تعليمية/ترويجية على موقع العيادة على الإنترنت.</p>");
            sb.Append("<p>لأغراض تعليمية في بعض الفعاليات العامة.</p>");
            sb.Append("<p>أفهم أنه لا يتم دفع أي رسوم لي أو لأي شخص آخر عن هذه المواد سواء في الوقت الحالي أو في أي وقت مستقبلي.</p>");
            sb.Append("<p>أؤكد أن الغرض الذي ستستخدم فيه المواد قد تم شرحه لي بطريقة فهمتها.</p>");
            sb.Append("<p>لقد قمت بأخذ الوقت الكافي لقراءة:</p>");
            sb.Append("<p>نموذج موافقة العلاج بالبوتوكس</p>");
            sb.Append("<p>معلومات العلاج بالبوتوكس</p>");
            sb.Append("<p>شروط وأحكام العيادة</p>");
            sb.Append("<p>أقبل شروط وأحكام العيادة</p>");
            sb.Append("<p>أنا راضٍ عن أن تم شرح العلاج البوتوكس بشكل شامل وأن الأخطار والآثار الجانبية المحتملة المرتبطة بهذا العلاج تمت مناقشتها بشكل كامل وفهمتها. لقد أخذت الوقت الكافي لمعالجة والتفكير في المعلومات المقدمة، وتم الإجابة على أي أسئلة كانت لدي برضاي، قبل اتخاذ قرار بالمضي قدمًا في خطة العلاج المتفق عليها.</p>");
            sb.Append("<p>لقد تم تنبيهي بأن تكلفة العلاج ستكون " + pdf.baf_1 + "</p>");
            sb.Append("<p>وأقبل شروط الدفع وفقًا لسياسة العيادة (الشروط والأحكام).</p>");

            sb.Append("</div>");

            sb.Append("    <table dir='rtl' style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;'  colspan='2'>");
            sb.Append("            <p>قم بالتوقيع هنا فقط إذا تمت الموافقة على جميع الأسئلة</p>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("            مريض");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("            طبيب");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-left:1px solid #000000'>");
            sb.Append("            <img src='" + psign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;'>");
            sb.Append("            <img src='" + emr.doc_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000;border-top:1px solid #000000; width: 33%;'>");
            sb.Append("            اسم المريض");
            sb.Append("             <br/>" + emr.pat_name + "<br/>");
            sb.Append("<br/>تاريخ<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("        <td dir='ltr' style='text-align: center;padding: 10px;border-top:1px solid #000000; width: 33%;'>");
            sb.Append("            " + emr.app_doctor_department + "<br/>");
            sb.Append("<br/>تاريخ<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("</table>");

            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + footer + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");
            sb.Append("    </body>");
            sb.Append("</html>");

            String htmlString = sb.ToString();

            return htmlString;
        }

        //Medical History (oxy4)
        public static string HtmlMedicalHistoryNew(int appId, EMRInfo emr, int setId)
        {
            BusinessEntities.ConsentForms.MedicalHistoryNew pdf = BusinessLogicLayer.ConsentForms.MedicalHistoryNew.GetMedicalHistoryNewData(appId).FirstOrDefault();
            BusinessEntities.Common.eSignature psign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "patient", "MedicalHistoryNew").FirstOrDefault();
            BusinessEntities.Common.eSignature wsign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "witness", "MedicalHistoryNew").FirstOrDefault();
            BusinessEntities.Common.PDFHeaderFooter hf = BusinessLogicLayer.Common.PDF.GetHeaderFooterByBranch(setId);

            string header = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "header_images", hf.header.ToString());
            string footer = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "footer_images", hf.footer.ToString());

            StringBuilder sb = new StringBuilder();

            string pdfmhn1 = pdf.mhn_radio1;
            string pdfmhn2 = pdf.mhn_radio2;
            string pdfmhn3 = pdf.mhn_radio3;
            string pdfmhn4 = pdf.mhn_radio4;
            string pdfmhn5 = pdf.mhn_radio5;
            string pdfmhn6 = pdf.mhn_radio6;
            string pdfmhn7 = pdf.mhn_radio7;
            string pdfmhn8 = pdf.mhn_radio8;
            string pdfmhn9 = pdf.mhn_radio9;
            string pdfmhn10 = pdf.mhn_radio10;
            string pdfmhn11 = pdf.mhn_radio11;
            string pdfmhn12 = pdf.mhn_radio12;

            string radioHtml11 = "<input type='radio'  class='custom-control-input' name='mhn_radio1' value='11' id='11'>";
            string radioHtml12 = "<input type='radio' class='custom-control-input' name='mhn_radio1' value='12' id='12'>";

            string radioHtml21 = "<input type='radio'  class='custom-control-input' name='mhn_radio2' value='21' id='21'>";
            string radioHtml22 = "<input type='radio' class='custom-control-input' name='mhn_radio2' value='22' id='22'>";

            string radioHtml31 = "<input type='radio'  class='custom-control-input' name='mhn_radio3' value='31' id='31'>";
            string radioHtml32 = "<input type='radio' class='custom-control-input' name='mhn_radio3' value='32' id='32'>";

            string radioHtml41 = "<input type='radio'  class='custom-control-input' name='mhn_radio4' value='41' id='41'>";
            string radioHtml42 = "<input type='radio' class='custom-control-input' name='mhn_radio4' value='42' id='42'>";

            string radioHtml51 = "<input type='radio'  class='custom-control-input' name='mhn_radio5' value='51' id='51'>";
            string radioHtml52 = "<input type='radio' class='custom-control-input' name='mhn_radio5' value='52' id='52'>";

            string radioHtml61 = "<input type='radio'  class='custom-control-input' name='mhn_radio6' value='61' id='61'>";
            string radioHtml62 = "<input type='radio' class='custom-control-input' name='mhn_radio6' value='62' id='62'>";

            string radioHtml71 = "<input type='radio'  class='custom-control-input' name='mhn_radio7' value='71' id='71'>";
            string radioHtml72 = "<input type='radio' class='custom-control-input' name='mhn_radio7' value='72' id='72'>";

            string radioHtml81 = "<input type='radio'  class='custom-control-input' name='mhn_radio8' value='81' id='81'>";
            string radioHtml82 = "<input type='radio' class='custom-control-input' name='mhn_radio8' value='82' id='82'>";

            string radioHtml91 = "<input type='radio'  class='custom-control-input' name='mhn_radio9' value='91' id='91'>";
            string radioHtml92 = "<input type='radio' class='custom-control-input' name='mhn_radio9' value='92' id='92'>";

            string radioHtml101 = "<input type='radio'  class='custom-control-input' name='mhn_radio10' value='101' id='101'>";
            string radioHtml102 = "<input type='radio' class='custom-control-input' name='mhn_radio10' value='102' id='102'>";

            string radioHtml111 = "<input type='radio'  class='custom-control-input' name='mhn_radio11' value='111' id='111'>";
            string radioHtml112 = "<input type='radio' class='custom-control-input' name='mhn_radio11' value='112' id='112'>";

            string radioHtml121 = "<input type='radio'  class='custom-control-input' name='mhn_radio12' value='121' id='121'>";
            string radioHtml122 = "<input type='radio' class='custom-control-input' name='mhn_radio12' value='122' id='122'>";

            if (pdfmhn1 == "11")
            {
                radioHtml11 = radioHtml11.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdfmhn1 == "12")
            {
                radioHtml12 = radioHtml12.Replace("<input type='radio'", "<input type='radio' checked");
            }

            if (pdfmhn2 == "21")
            {
                radioHtml21 = radioHtml21.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdfmhn2 == "22")
            {
                radioHtml22 = radioHtml22.Replace("<input type='radio'", "<input type='radio' checked");
            }


            if (pdfmhn3 == "31")
            {
                radioHtml31 = radioHtml31.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdfmhn3 == "32")
            {
                radioHtml32 = radioHtml32.Replace("<input type='radio'", "<input type='radio' checked");
            }

            if (pdfmhn4 == "41")
            {
                radioHtml41 = radioHtml41.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdfmhn4 == "42")
            {
                radioHtml42 = radioHtml42.Replace("<input type='radio'", "<input type='radio' checked");
            }

            if (pdfmhn5 == "51")
            {
                radioHtml51 = radioHtml51.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdfmhn5 == "52")
            {
                radioHtml52 = radioHtml52.Replace("<input type='radio'", "<input type='radio' checked");
            }

            if (pdfmhn6 == "61")
            {
                radioHtml61 = radioHtml61.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdfmhn6 == "62")
            {
                radioHtml62 = radioHtml62.Replace("<input type='radio'", "<input type='radio' checked");
            }

            if (pdfmhn7 == "71")
            {
                radioHtml71 = radioHtml71.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdfmhn7 == "72")
            {
                radioHtml72 = radioHtml72.Replace("<input type='radio'", "<input type='radio' checked");
            }

            if (pdfmhn8 == "81")
            {
                radioHtml81 = radioHtml81.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdfmhn8 == "82")
            {
                radioHtml82 = radioHtml82.Replace("<input type='radio'", "<input type='radio' checked");
            }

            if (pdfmhn9 == "91")
            {
                radioHtml91 = radioHtml91.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdfmhn9 == "92")
            {
                radioHtml92 = radioHtml92.Replace("<input type='radio'", "<input type='radio' checked");
            }

            if (pdfmhn10 == "101")
            {
                radioHtml101 = radioHtml101.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdfmhn10 == "102")
            {
                radioHtml102 = radioHtml102.Replace("<input type='radio'", "<input type='radio' checked");
            }


            if (pdfmhn11 == "111")
            {
                radioHtml111 = radioHtml111.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdfmhn11 == "112")
            {
                radioHtml112 = radioHtml112.Replace("<input type='radio'", "<input type='radio' checked");
            }


            if (pdfmhn12 == "121")
            {
                radioHtml121 = radioHtml121.Replace("<input type='radio'", "<input type='radio' checked");
            }
            else if (pdfmhn12 == "122")
            {
                radioHtml122 = radioHtml122.Replace("<input type='radio'", "<input type='radio' checked");
            }


            sb.Append("<html>");
            sb.Append("    <head><title> <u>Medical History</u></title></head>");
            sb.Append("    <body style='font-family: Verdana, Geneva, Tahoma, sans-serif;'>");

            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + header + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000' colspan='9'>");
            sb.Append("            <h1>Medical History</h1>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Patient Name</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000' colspan='4'>" + emr.pat_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Emirates ID</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_emirateid + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>File No</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_code + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>DOB</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_dob + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Nationality</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_nationality + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Gender</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_gender + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Doctor's Name</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.doc_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Date</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.app_fdate + "</td>");
            sb.Append("    </tr>");
            sb.Append("</table>");

            sb.Append("<div style='width:100%; text-align:justify; font-size: 12px; margin-top: 50px;margin-bottom: 50px;'>");

            sb.Append("<p style='font-weight:bold;'>Please complete the following questionnaire.</p>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");

            sb.Append("    <tr>");
            sb.Append("        <td style='width:40%;padding: 10px; text-align: center; border:1px solid #000000'></td>");
            sb.Append("        <td style='width:10%;padding: 10px; text-align: center; border:1px solid #000000'>YES</td>");
            sb.Append("        <td style='width:10%;padding: 10px; text-align: center; border:1px solid #000000'>NO</td>");
            sb.Append("        <td style='width:40%;padding: 10px; text-align: center; border:1px solid #000000'>DETAILS</td>");
            sb.Append("    </tr>");

            sb.Append("    <tr>");
            sb.Append("        <td style='width:40%;padding: 10px; text-align: left; border:1px solid #000000'>Are you currently pregnant, breast feeding or on fertility treatment? (if yes, please specify)</td>");
            sb.Append("        <td style='width:10%;padding: 10px; text-align: center; border:1px solid #000000'>" + radioHtml11 + "</td>");
            sb.Append("        <td style='width:10%;padding: 10px; text-align: center; border:1px solid #000000'>" + radioHtml12 + "</td>");
            sb.Append("        <td style='width:40%;padding: 10px; text-align: left; border:1px solid #000000'>" + pdf.mhn_1 + "</td>");
            sb.Append("    </tr>");

            sb.Append("    <tr>");
            sb.Append("        <td style='width:40%;padding: 10px; text-align: left; border:1px solid #000000'>Do you suffer from allergies? (if yes, please specify)</td>");
            sb.Append("        <td style='width:10%;padding: 10px; text-align: center; border:1px solid #000000'>" + radioHtml21 + "</td>");
            sb.Append("        <td style='width:10%;padding: 10px; text-align: center; border:1px solid #000000'>" + radioHtml22 + "</td>");
            sb.Append("        <td style='width:40%;padding: 10px; text-align: left; border:1px solid #000000'>" + pdf.mhn_2 + "</td>");
            sb.Append("    </tr>");

            sb.Append("    <tr>");
            sb.Append("        <td style='width:40%;padding: 10px; text-align: left; border:1px solid #000000'>Have you ever suffered from anaphylaxis as a result? (if yes, please specify)</td>");
            sb.Append("        <td style='width:10%;padding: 10px; text-align: center; border:1px solid #000000'>" + radioHtml31 + "</td>");
            sb.Append("        <td style='width:10%;padding: 10px; text-align: center; border:1px solid #000000'>" + radioHtml32 + "</td>");
            sb.Append("        <td style='width:40%;padding: 10px; text-align: left; border:1px solid #000000'>" + pdf.mhn_3 + "</td>");
            sb.Append("    </tr>");

            sb.Append("    <tr>");
            sb.Append("        <td style='width:40%;padding: 10px; text-align: left; border:1px solid #000000'>Are you currently receiving any medical treatment? (if yes, please specify)</td>");
            sb.Append("        <td style='width:10%;padding: 10px; text-align: center; border:1px solid #000000'>" + radioHtml41 + "</td>");
            sb.Append("        <td style='width:10%;padding: 10px; text-align: center; border:1px solid #000000'>" + radioHtml42 + "</td>");
            sb.Append("        <td style='width:40%;padding: 10px; text-align: left; border:1px solid #000000'>" + pdf.mhn_4 + "</td>");
            sb.Append("    </tr>");

            sb.Append("    <tr>");
            sb.Append("        <td style='width:40%;padding: 10px; text-align: left; border:1px solid #000000'>Have you ever had a non-surgical treatment before? (if yes, please specify)</td>");
            sb.Append("        <td style='width:10%;padding: 10px; text-align: center; border:1px solid #000000'>" + radioHtml51 + "</td>");
            sb.Append("        <td style='width:10%;padding: 10px; text-align: center; border:1px solid #000000'>" + radioHtml52 + "</td>");
            sb.Append("        <td style='width:40%;padding: 10px; text-align: left; border:1px solid #000000'>" + pdf.mhn_5 + "</td>");
            sb.Append("    </tr>");

            sb.Append("    <tr>");
            sb.Append("        <td style='width:40%;padding: 10px; text-align: left; border:1px solid #000000'>Have you ever had a reaction after receiving treatment? (if yes, please specify)</td>");
            sb.Append("        <td style='width:10%;padding: 10px; text-align: center; border:1px solid #000000'>" + radioHtml61 + "</td>");
            sb.Append("        <td style='width:10%;padding: 10px; text-align: center; border:1px solid #000000'>" + radioHtml62 + "</td>");
            sb.Append("        <td style='width:40%;padding: 10px; text-align: left; border:1px solid #000000'>" + pdf.mhn_6 + "</td>");
            sb.Append("    </tr>");

            sb.Append("    <tr>");
            sb.Append("        <td style='width:40%;padding: 10px; text-align: left; border:1px solid #000000'>Do you suffer from any illnesses? e.g. angina, epilepsy, diabetes, auto immune system, hepatitis, HIV positive..? (if yes, please specify)</td>");
            sb.Append("        <td style='width:10%;padding: 10px; text-align: center; border:1px solid #000000'>" + radioHtml71 + "</td>");
            sb.Append("        <td style='width:10%;padding: 10px; text-align: center; border:1px solid #000000'>" + radioHtml72 + "</td>");
            sb.Append("        <td style='width:40%;padding: 10px; text-align: left; border:1px solid #000000'>" + pdf.mhn_7 + "</td>");
            sb.Append("    </tr>");

            sb.Append("    <tr>");
            sb.Append("        <td style='width:40%;padding: 10px; text-align: left; border:1px solid #000000'>Do you suffer from any cutaneous infection or inflammatory problems? e.g. herpes/ acne. (if yes, please specify)</td>");
            sb.Append("        <td style='width:10%;padding: 10px; text-align: center; border:1px solid #000000'>" + radioHtml81 + "</td>");
            sb.Append("        <td style='width:10%;padding: 10px; text-align: center; border:1px solid #000000'>" + radioHtml82 + "</td>");
            sb.Append("        <td style='width:40%;padding: 10px; text-align: left; border:1px solid #000000'>" + pdf.mhn_8 + "</td>");
            sb.Append("    </tr>");

            sb.Append("    <tr>");
            sb.Append("        <td style='width:40%;padding: 10px; text-align: left; border:1px solid #000000'>Are you currently taking aspirin, steroids or anticoagulants (warfarin)? (if yes, please specify)</td>");
            sb.Append("        <td style='width:10%;padding: 10px; text-align: center; border:1px solid #000000'>" + radioHtml91 + "</td>");
            sb.Append("        <td style='width:10%;padding: 10px; text-align: center; border:1px solid #000000'>" + radioHtml92 + "</td>");
            sb.Append("        <td style='width:40%;padding: 10px; text-align: left; border:1px solid #000000'>" + pdf.mhn_9 + "</td>");
            sb.Append("    </tr>");

            sb.Append("    <tr>");
            sb.Append("        <td style='width:40%;padding: 10px; text-align: left; border:1px solid #000000'>Have you recently undergone surgery? (if yes, please specify)</td>");
            sb.Append("        <td style='width:10%;padding: 10px; text-align: center; border:1px solid #000000'>" + radioHtml101 + "</td>");
            sb.Append("        <td style='width:10%;padding: 10px; text-align: center; border:1px solid #000000'>" + radioHtml102 + "</td>");
            sb.Append("        <td style='width:40%;padding: 10px; text-align: left; border:1px solid #000000'>" + pdf.mhn_10 + "</td>");
            sb.Append("    </tr>");

            sb.Append("    <tr>");
            sb.Append("        <td style='width:40%;padding: 10px; text-align: left; border:1px solid #000000'>Do you suffer from high or low blood pressure? (if yes, please specify)</td>");
            sb.Append("        <td style='width:10%;padding: 10px; text-align: center; border:1px solid #000000'>" + radioHtml111 + "</td>");
            sb.Append("        <td style='width:10%;padding: 10px; text-align: center; border:1px solid #000000'>" + radioHtml112 + "</td>");
            sb.Append("        <td style='width:40%;padding: 10px; text-align: left; border:1px solid #000000'>" + pdf.mhn_11 + "</td>");
            sb.Append("    </tr>");

            sb.Append("    <tr>");
            sb.Append("        <td style='width:40%;padding: 10px; text-align: left; border:1px solid #000000'>Are you prone to bruising?</td>");
            sb.Append("        <td style='width:10%;padding: 10px; text-align: center; border:1px solid #000000'>" + radioHtml121 + "</td>");
            sb.Append("        <td style='width:10%;padding: 10px; text-align: center; border:1px solid #000000'>" + radioHtml122 + "</td>");
            sb.Append("        <td style='width:40%;padding: 10px; text-align: left; border:1px solid #000000'>" + pdf.mhn_12 + "</td>");
            sb.Append("    </tr>");

            sb.Append("    </table>");
            sb.Append("<p style='font-weight:bold;text-decoration:underline;'>Procedure</p>");
            sb.Append("<p>" + pdf.mhn_13 + "</p>");

            sb.Append("</div>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;'  colspan='2'>");
            sb.Append("            <p>Sign here, only if all of your questions have been answered to your satisfaction</p>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("             Patient");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("            Doctor");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000'>");
            sb.Append("            <img src='" + psign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;'>");
            sb.Append("            <img src='" + emr.doc_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000;border-top:1px solid #000000;'>");
            sb.Append("            Patient Name");
            sb.Append("             <br/>" + emr.pat_name);
            sb.Append("</br><br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-top:1px solid #000000;'>");
            sb.Append("           Doctor Name<br/>");
            sb.Append("            " + emr.app_doctor_department + "<br/>");
            sb.Append("<br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("</table>");
            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + footer + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    </body>");
            sb.Append("</html>");

            String htmlString = sb.ToString();

            return htmlString;
        }

        // Filler Injection  (oxy5)
        public static string HtmlFillerInjection(int appId, EMRInfo emr, int setId)
        {
            BusinessEntities.ConsentForms.FillerInjection pdf = BusinessLogicLayer.ConsentForms.FillerInjection.GetFillerInjectionData(appId).FirstOrDefault();
            BusinessEntities.Common.eSignature psign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "patient", "FillerInjection").FirstOrDefault();
            BusinessEntities.Common.eSignature wsign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "witness", "FillerInjection").FirstOrDefault();
            BusinessEntities.Common.PDFHeaderFooter hf = BusinessLogicLayer.Common.PDF.GetHeaderFooterByBranch(setId);

            string header = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "header_images", hf.header.ToString());
            string footer = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "footer_images", hf.footer.ToString());

            StringBuilder sb = new StringBuilder();


            sb.Append("<html>");
            sb.Append("    <head>");
            sb.Append("    <title> <u dir='rtl'> نموذج موافقة الحقن المؤقت (الفلر)</u></title>");
            sb.Append("    <meta charset='utf-8'>");
            sb.Append("    </head>");
            sb.Append("    <body style='font-family: Verdana, Geneva, Tahoma, sans-serif;'>");

            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + header + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    <table dir='rtl' style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'  colspan='9'>");
            sb.Append("            <h1>نموذج موافقة الحقن المؤقت (الفلر)</h1>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>اسم المريض</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>" + emr.pat_name + "</td>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>هويه الإمارات</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000' colspan='4'>" + emr.pat_emirateid + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>رقم الملف</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>" + emr.pat_code + "</td>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>تاريخ الميلاد</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>" + emr.pat_dob + "</td>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>جنسية</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>" + emr.pat_nationality + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>جنس</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>" + emr.pat_gender + "</td>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>اسم الطبيب</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>" + emr.doc_name + "</td>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>تاريخ</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: right;padding: 10px;border:1px solid #000000'>" + emr.app_fdate + "</td>");
            sb.Append("    </tr>");
            sb.Append("</table>");

            sb.Append("<div  dir= 'rtl' style='width:100%; font-size: 12px; margin-top: 50px;margin-bottom: 50px;'>");
            sb.Append("<p>هو جل خالٍ من الجراثيم يتألف من حمض الهيالورونيك المستقر والغير حيواني ومخدر موضعي يُسمى ليدوكايين. حمض الهيالورونيك هو جزيء سلسلة سكرية يحدث طبيعيا في الجلد وفي جميع أنحاء الجسم. يتم حقن الجل الخالي من الجراثيم في الجلد لتصحيح خطوط الوجه والتجاعيد والتجاعيد، لتحسين شكل الشفاه، وتحديد ملامح الوجه بما في ذلك الذقن والخدين وخط الفك والأنف وتجديد البشرة.</p>");
            sb.Append("<p style='font-weight:bold;'>الآثار الجانبية الشائعة المرتبطة بالحقن:</p>");
            sb.Append("<ul>");
            sb.Append("<li>ألم أو حرق عند إجراء الحقن.</li>");
            sb.Append("<li>تورم محلي، أحمرار، أو حساسية.</li>");
            sb.Append("<li>نزيف في مواقع الحقن.</li>");
            sb.Append("<li>كدمات. في بعض الحالات النادرة، قد تكون الكدمات شديدة وقد تستمر لعدة أسابيع.</li>");
            sb.Append("<li>خدر أو حكة في المنطقة بعد الحقن.</li>");
            sb.Append("</ul>");
            sb.Append("<p style='font-weight:bold;'>نزيف في مواقع الحقن</p>");
            sb.Append("<ul>");
            sb.Append("<li> كدمات. في بعض الحالات النادرة، قد تكون الكدمات شديدة وقد تستمر لعدة أسابيع.</li>");
            sb.Append("<li>خدر أو حكة في المنطقة بعد الحقن.</li>");
            sb.Append("</ul>");
            sb.Append("<p>من المتوقع أن تتحسن الآثار الجانبية الشائعة تلقائيًا خلال أيام قليلة من العلاج. على الرغم من أنه لا يُتوقع، إلا أنه من الممكن أن تستمر الاستجابات الموصوفة لفترة أطول من المتوقع وقد تعيق ثقتك في الحضور إلى العمل أو الفعاليات الاجتماعية. يُنصح بتحديد مواعيد العلاج مع مراعاة ذلك، مما يتيح الوقت للتفاعلات الشائعة مثل الكدمات والتورم أن تتلاشى.</p>");
            sb.Append("<p style='font-weight:bold;'>آثار جانبية نادرة:</p>");
            sb.Append("<ul>");
            sb.Append("<li>العدوى</li>");
            sb.Append("<li>التهاب</li>");
            sb.Append("<li>تغيير لون الجلد</li>");
            sb.Append("<li>العدوى أو تغيير لون الجلد قد تحدث في غضون أيام أو أسابيع إلى أشهر بعد العلاج.</li>");
            sb.Append("<li> رد فعل تحسسي أو حساسية. الأعراض تشمل؛ حكة، طفح جلدي، طبقات حمراء مؤلمة، صفير، أعراض الربو، دوخة أو الإغماء. تشكل خراج</li>");
            sb.Append("<li> تورم مستمر قد يحدث في وقت مبكر أو يظهر بعد عدة أسابيع</li>");
            sb.Append("<li>تكون كتل ثابتة أو عقيدات أو بثور مستمرة</li>");
            sb.Append("<li>تكون شكل البثور مشابهة لحب الشباب</li>");
            sb.Append("<li>رد فعل جسم غريب يعرف بـ 'الجرانولوما' يظهر على شكل كتل أو عقيدات</li>");
            sb.Append("<li>توقف إمداد الدم إلى الجلد قد يحدث بسبب الورم أو الحقن الغير مقصود في الأوعية، مما يسبب الألم وتلف الجلد وربما تشوهًا ممكنًا.</li>");
            sb.Append("<li>على الرغم من أنها نادرة للغاية، تم الإبلاغ عن اضطراب بصري مؤقت أو فقدان دائم للبصر بعد علاج التجميل بالحقن.</li>");
            sb.Append("<li>لا يمكن دائمًا تحقيق التماثل المثالي.</li>");
            sb.Append("</ul>");
            sb.Append("<p>يتوقع أن تدوم التصحيح لفترة تتراوح بين 6-12 شهرًا. يختلف النجاح بحسب الدرجة ومدى استمراره يختلف من شخص لآخر ولا يمكن ضمانه.</p>");
            sb.Append("<p>أفهم أنه في حين تم تقديم لي توجيه حول النتيجة المحتملة، يجب أن لا يتم تفسير ذلك على أنه ضمان.</p>");
            sb.Append("<p> أفهم أنه على الرغم من أن المضاعفات نادرة، إلا أنها قد تحدث في بعض الأحيان. قد يحدث أن تظهر آثار جانبية غير موصوفة وأن تحدث مضاعفة لم يتم الإبلاغ عنها سابقًا لأول مرة.</p>");
            sb.Append("<p> أفهم إذا كنت أعاني من أي تفاعلات سلبية غير متوقعة أو تثير قلقي، يجب علي الاتصال بالعيادة. سيتم ترتيب موعد لرؤيتي. لا يمكن للعيادة أن تتحمل مسؤولية المضاعفات أو النتائج التي لم يتم الإبلاغ عنها أو تقييمها أو توثيقها وإدارتها في الوقت المناسب.</p>");
            sb.Append("<p> أفهم أن النتائج المرغوبة والمتوقعة تم مناقشتها، وتختلف النتائج بين الأفراد ولا يمكن ضمانها.</p>");
            sb.Append("<p>أؤكد أن استمارة تاريخ الصحة الطبية قد تم ملؤها بصدق وأنني على دراية تامة بأن إخفاء المعلومات الطبية، بما في ذلك تاريخ العلاج السابق، قد يكون ضارًا بالنتيجة الآمنة والمثلى لأي علاج يتم إجراؤه. إذا كانت هناك أي تغييرات في تاريخي الطبي، يجب علي إبلاغ الطبيب</p>");
            sb.Append("<p>أؤكد أنه تم تزويدي بمعلومات شفوية ومكتوبة حول هذا العلاج، والتي تتضمن رعاية ما بعد العلاج ونصائح المتابعة.</p>");
            sb.Append("<p> أوافق على اتباع نصائح الرعاية ما بعد العلاج وأدرك أن هذا يقلل من خطر التفاعلات السلبية ويساعد في ضمان النتائج المثلى.</p>");
            sb.Append("<p> أقر بموافقتي على مشاركة سجلاتي الطبية مع الأطباء المختصين المناسبين.</p>");
            sb.Append("<p> أفهم أنه يتم التقاط الصور كجزء من سجلي الطبي.</p>");
            sb.Append("<p>في بعض الأحيان، يكون من المفيد مشاركة صور نتائج العلاج الخاصة بنا. أوافق على نشر الصور للأغراض التالية:</p>");
            sb.Append("<p> لأغراض التعليم والتدريب مع الأطباء المحترفين.</p>");
            sb.Append("<p> لأغراض التعليم مع بعض المرضى المحددين خلال الاستشارة.</p>");
            sb.Append("<p> لأغراض تعليمية/ترويجية في محفظة العيادة المعروضة لبعض أفراد الجمهور المحددين.</p>");
            sb.Append("<p> لأغراض تعليمية/ترويجية على موقع العيادة على الإنترنت.</p>");
            sb.Append("<p> لأغراض تعليمية في بعض الفعاليات العامة.</p>");
            sb.Append("<p> أفهم أنه لا يتم دفع أي رسوم لي أو لأي شخص آخر عن هذه المواد سواء الآن أو في المستقبل.</p>");
            sb.Append("<p> أؤكد أن الغرض الذي ستستخدم فيه المواد قد تم شرحه لي بطريقة فهمتها.</p>");
            sb.Append("<p style='font-weight:bold;'> لقد قمت بقراءة:</p>");
            sb.Append("<ul>");
            sb.Append("<li>نموذج موافقة الحقن المؤقتة للحشو</li>");
            sb.Append("<li>معلومات العلاج بحمض الهيالورونيك للحشو بالحقن</li>");
            sb.Append("<li>شروط وأحكام العيادة</li>");
            sb.Append("</ul>");
            sb.Append("<p> أقبل شروط وأحكام العيادة.</p>");
            sb.Append("<p>أنا راضٍ عن أن تم شرح علاج حقن الحشو بشكل شامل، وأنه تم مناقشة بشكل كامل وفهم الأخطار والآثار الجانبية المحتملة المرتبطة بالعلاج. لقد أخذت وقتًا كافيًا لمعالجة والتفكير في المعلومات المقدمة، وتمت الإجابة على أي أسئلة كانت لدي برضاي، قبل اتخاذ قرار بالمضي قدمًا في خطة العلاج المتفق عليها.</p>");
            sb.Append("<p>تم تنبيهي بأن تكلفة العلاج ستكون " + pdf.fif_1 + "</p>");
            sb.Append("<p style='font-weight:bold;'> وأقبل بشروط الدفع وفقًا لسياسة العيادة (الشروط والأحكام).</p>");
            sb.Append("</div>");

            sb.Append("    <table dir='rtl' style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;'  colspan='2'>");
            sb.Append("            <p>قم بالتوقيع هنا فقط إذا تمت الموافقة على جميع الأسئلة</p>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("            مريض");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("            طبيب");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-left:1px solid #000000'>");
            sb.Append("            <img src='" + psign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;'>");
            sb.Append("            <img src='" + emr.doc_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000;border-top:1px solid #000000; width: 33%;'>");
            sb.Append("            اسم المريض");
            sb.Append("             <br/>" + emr.pat_name + "<br/>");
            sb.Append("<br/>تاريخ<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("        <td dir='ltr' style='text-align: center;padding: 10px;border-top:1px solid #000000; width: 33%;'>");
            sb.Append("            " + emr.app_doctor_department + "<br/>");
            sb.Append("<br/>تاريخ<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("</table>");

            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + footer + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");
            sb.Append("    </body>");
            sb.Append("</html>");

            String htmlString = sb.ToString();

            return htmlString;
        }

        //Botox Consent Form DMax
        public static string HtmlDmaxBotox(int appId, EMRInfo emr, int setId)
        {
            BusinessEntities.ConsentForms.DmaxBotox pdf = BusinessLogicLayer.ConsentForms.DmaxBotox.GetDmaxBotoxData(appId).FirstOrDefault();
            BusinessEntities.Common.eSignature psign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "patient", "DmaxBotox").FirstOrDefault();
            BusinessEntities.Common.eSignature wsign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "witness", "DmaxBotox").FirstOrDefault();
            BusinessEntities.Common.PDFHeaderFooter hf = BusinessLogicLayer.Common.PDF.GetHeaderFooterByBranch(setId);

            string header = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "header_images", hf.header.ToString());
            string footer = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "footer_images", hf.footer.ToString());

            StringBuilder sb = new StringBuilder();


            sb.Append("<html>");
            sb.Append("    <head>");
            sb.Append("    <title> <u>Botox Consent Form</u></title>");
            sb.Append("    <meta charset='utf-8'>");
            sb.Append("    </head>");
            sb.Append("    <body style='font-family: Verdana, Geneva, Tahoma, sans-serif;'>");

            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + header + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000' colspan='9'>");
            sb.Append("            <h1>Botox Consent Form</h1>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Patient Name</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000' colspan='4'>" + emr.pat_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Emirates ID</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_emirateid + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>File No</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_code + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>DOB</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_dob + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Nationality</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_nationality + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Gender</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_gender + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Doctor's Name</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.doc_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Date</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.app_fdate + "</td>");
            sb.Append("    </tr>");
            sb.Append("</table>");

            sb.Append("<div style='width:100%; text-align:justify; font-size: 12px; margin-top: 50px;margin-bottom: 50px;'>");

            sb.Append("<p style='font-weight:bold'>This Informed Consent Form has two parts:</p>");
            sb.Append("<p><ul>");
            sb.Append("<li>Information Sheet (to share information about the treatment with you)</li>");
            sb.Append("<li>Certificate of Consent (for signatures if you agree to go ahead with the treatment)</li>");
            sb.Append("</ul></p>");
            sb.Append("<p style='font-weight:bold'>Dubai Health Authority law guarantees that you have both the right and the obligation to make decisions regarding your health care. " + emr.set_company + " team can provide you with the necessary information and advice, but you must participate in the decision-making process. This form acknowledges your consent to treatment and surgical or non-surgical procedures recommended by your physician.</p>");
            sb.Append("<p>You will be given a copy of the full Informed Consent Form</p>");
            sb.Append("<p style='font-weight:bold'>PART I: Information Sheet</p>");
            sb.Append("<p>I, Dr." + emr.doc_name + " with license No: " + emr.emp_license + " should be performing the Botox procedure on Miss/Mrs./Mr." + emr.pat_name + " Age " + emr.pat_age + " years, on date " + emr.app_fdate + "</p>");
            sb.Append("<p>The following has been explained to the patient in general terms.</p>");
            sb.Append("<p style='font-weight:bold'>Proposed procedure - Botox Injection</p>");
            sb.Append("<p>Botulinum toxin is a purified protein that can relax certain muscles that cause wrinkles appearing with facial expressions and thereby giving the overlying skin a smoother appearance. Botulinum is diluted to a very controlled solution and injected into the muscle with a very thin needle. Response is usually seen in 2-10 days after the injection and last for about 3-5 months, you should understand that as all people are different there is no guarantee to how long your results will last. The results can vary in subsequent treatments and rarely this treatment may not work at all. Botulinum is best for treating dynamic lines caused by facial muscle activity. Lines present at rest may or may not improve. You may need more than one session to get the desired result.</p>");
            sb.Append("<p style='font-weight:bold'>Botulinum toxin type used:</p>");
            sb.Append("<p><ul>");
            sb.Append("<li>Botox (USA)</li>");
            sb.Append("<li>Dysport (UK)</li>");
            sb.Append("<li>Xeomin (USA/GERMANY)</li>");
            sb.Append("</ul></p>");
            sb.Append("<p style='font-weight:bold'>Pre procedure assessment</p>");
            sb.Append("<p><ul>");
            sb.Append("<li>It is important to tell your doctor about your medication allergies and complete medical history.</li>");
            sb.Append("<li>Whether you are pregnant or breast feeding</li>");
            sb.Append("</ul></p>");
            sb.Append("<p style='font-weight:bold'>Side Effects and Complications of Botox Injections</p>");
            sb.Append("<p>" + emr.set_company + " team has explained to the patient that there are possible risks and undesirable consequences associated with this procedure including but not limited to</p>");
            sb.Append("<p style='font-weight:bold'>Complications</p>");
            sb.Append("<p>Pain, Temporary redness, swelling and bruising at the site of injection that usually resolves in 1-7 days, Infection at the injection site that may need further treatment, Asymmetry (unevenness) ,Transient headache for first 48 hours, Temporary drop of eyebrow(s)/eyelid(s) that can last for few weeks (rare), Weakened tear duct, Allergic reaction ,Numbness of the forehead that can last up to 2-3 weeks (occasional), Flu like symptoms, double vision may occur and will require the use of eye patch for 3-4 weeks till it resolves (Very rare).</p>");
            sb.Append("<p>Discomforts- slight burning sensation while taking the injection.</p>");
            sb.Append("<p style='font-weight:bold'>Benefits</p>");
            sb.Append("<p><ul>");
            sb.Append("<li>No downtime</li>");
            sb.Append("<li>Reduced wrinkles and fine lines</li>");
            sb.Append("<li>Improve your self-esteem</li>");
            sb.Append("</ul></p>");
            sb.Append("<p style='font-weight:bold'>Alternatives</p>");
            sb.Append("<p>The reasonable alternatives to the procedure as well as risks and benefits of the alternatives have been explained to the patient.</p>");
            sb.Append("<p style='font-weight:bold'>Confidentiality</p>");
            sb.Append("<p>" + emr.set_company + " team will maintain the confidentiality of your details and we assure not to disclose them to any other party without your acknowledgment.</p>");
            sb.Append("<p style='font-weight:bold'>Financial Implications</p>");
            sb.Append("<p>All procedures/treatments provided that are not covered by insurance may require your full payment or co-payment. The payment is not refundable.</p>");
            sb.Append("<p style='font-weight:bold'>PART II: Certificate of Consent</p>");
            sb.Append("<p>I have read the previous information, or it has been read to me. I have had the opportunity to ask questions about it, and any questions that I have asked have been answered to my satisfaction. I consent voluntarily to undergo this treatment and understand that I have the right to withdraw from the procedure or treatment at any time without in any way affecting my medical care.</p>");
            sb.Append("<p>In permitting my doctor to perform my procedure, I understand that the unforeseen conditions may be revealed that may necessitate change or extension of the original procedure or a different procedure than those already explained to me. I therefore authorize and request that the above-named physician, his/her assistants or his/her designees perform such procedure as necessary or desirable in the exercise of his/her judgment.</p>");
            sb.Append("<p>In the unlikely event that one or more of the above inherent complications may occur, my physician may take appropriate and reasonable steps to manage and be available to me and my family to address our concerns and questions.</p>");
            sb.Append("<p>I consent to any photographing or videotaping of the procedure that may be performed, provided by my identity is not revealed by pictures or descriptive texts accompanying them, so that my physician may follow my therapy progression.</p>");
            sb.Append("<p>Witness statement I have accurately read or witnessed the accurate reading of the consent form to the potential patient, and the individual has had the opportunity to ask questions. I confirm that the individual has given consent freely.</p>");
            sb.Append("<p style='font-weight:bold'>Healthcare Professional Declaration:</p>");
            sb.Append("<p>I have adequately explained to the patient about the procedure and risks, adverse effects, and the standard alternatives available for the procedure. I have permitted time and opportunity for the patient to ask questions, and all questions have been answered to my knowledge.</p>");
            sb.Append("<p style='font-weight:bold'>\"I agree that healthcare provider(s) involved in my care at this facility will access my health information through the Health Information Exchange System (NABIDH) in accordance with the Laws of the United Arab Emirates, Emirate of Dubai Legislation and Dubai Health Authority Policies \"</p>");
            sb.Append("<p style='font-weight:bold' dir='rtl'>\"أوافق على أن مقدمي الرعاية الصحية المشاركين في رعايتي في هذه المنشأة سيتمكنون من الوصول إلى معلوماتي الصحية\r\n            من خلال نظام تبادل المعلومات الصحية (NABIDH) وفقاً لقوانين دولة الإمارات العربية المتحدة،\r\n            تشريعات إمارة دبي وسياسات هيئة الصحة بدبي \"</p>");

            sb.Append("</div>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;'  colspan='3'>");
            sb.Append("            <p>Sign here, only if all of your questions have been answered to your satisfaction</p>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("             Patient");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 34%;'>");
            sb.Append("            Witness");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("            Doctor");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000'>");
            sb.Append("            <img src='" + psign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000'>");
            sb.Append("            <img src='" + wsign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;'>");
            sb.Append("            <img src='" + emr.doc_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000;border-top:1px solid #000000;'>");
            sb.Append("            Patient Name");
            sb.Append("             <br/>" + emr.pat_name);
            sb.Append("</br><br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000;border-top:1px solid #000000;'>");
            sb.Append("            Witness Name");
            sb.Append("             <br/>" + pdf.cdb_1);
            sb.Append("</br><br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-top:1px solid #000000;'>");
            sb.Append("           Doctor Name<br/>");
            sb.Append("            " + emr.app_doctor_department + "<br/>");
            sb.Append("<br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("</table>");
            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + footer + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    </body>");
            sb.Append("</html>");

            String htmlString = sb.ToString();

            return htmlString;
        }

        //Carbon Laser Consent Form DMax
        public static string HtmlDmaxCarbon(int appId, EMRInfo emr, int setId)
        {
            BusinessEntities.ConsentForms.DmaxCarbon pdf = BusinessLogicLayer.ConsentForms.DmaxCarbon.GetDmaxCarbonData(appId).FirstOrDefault();
            BusinessEntities.Common.eSignature psign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "patient", "DmaxCarbon").FirstOrDefault();
            BusinessEntities.Common.eSignature wsign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "witness", "DmaxCarbon").FirstOrDefault();
            BusinessEntities.Common.PDFHeaderFooter hf = BusinessLogicLayer.Common.PDF.GetHeaderFooterByBranch(setId);

            string header = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "header_images", hf.header.ToString());
            string footer = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "footer_images", hf.footer.ToString());

            StringBuilder sb = new StringBuilder();


            sb.Append("<html>");
            sb.Append("    <head>");
            sb.Append("    <title> <u>Q Switch / Carbon Laser Consent Form</u></title>");
            sb.Append("    <meta charset='utf-8'>");
            sb.Append("    </head>");
            sb.Append("    <body style='font-family: Verdana, Geneva, Tahoma, sans-serif;'>");

            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + header + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000' colspan='9'>");
            sb.Append("            <h1>Q Switch / Carbon Laser Consent Form</h1>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Patient Name</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000' colspan='4'>" + emr.pat_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Emirates ID</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_emirateid + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>File No</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_code + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>DOB</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_dob + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Nationality</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_nationality + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Gender</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_gender + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Doctor's Name</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.doc_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Date</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.app_fdate + "</td>");
            sb.Append("    </tr>");
            sb.Append("</table>");

            sb.Append("<div style='width:100%; text-align:justify; font-size: 12px; margin-top: 50px;margin-bottom: 50px;'>");

            sb.Append("<p style='font-weight:bold'>This Informed Consent form has two parts:</p>");
            sb.Append("<p><ul>");
            sb.Append("<li>Information Sheet (to share information about the treatment with you)</li>");
            sb.Append("<li>Certificate of Consent (for signatures if you agree to go ahead with the treatment)</li>");
            sb.Append("</ul></p>");
            sb.Append("<p style='font-weight:bold'>PART I: Information Sheet</p>");
            sb.Append("<p>The following has been explained to the patient in general terms.</p>");
            sb.Append("<p><span style='font-weight:bold'>Q Switch / Carbon Laser Facials</span> are a revolutionary, non-invasive, painless with virtually no-downtime procedure that helps rejuvenate the appearance of aging and damaged skin. It gently removes the top layer of skin and targets the melanin under the skin, leaving an amazing glow with vibrant, youthful complexion.</p>");
            sb.Append("<p>This gentle procedure is safe on all skin types. It is a great way to get skin refresher without the longer downtime associated with other laser procedures. It evens skin tone, reducing appearance of pigment, fine lines, freckles and acne scars.</p>");
            sb.Append("<p style='font-weight:bold'>Contraindications:</p>");
            sb.Append("<p><ul>");
            sb.Append("<li>Botox and filler less than 15 days</li>");
            sb.Append("<li>Any chemical peel less 3 weeks</li>");
            sb.Append("<li>At least 1 month after Accutane treatment</li>");
            sb.Append("<li>Laser hair removal less than 1 Month</li>");
            sb.Append("</ul></p>");
            sb.Append("<p style='font-weight:bold'>What to expect:</p>");
            sb.Append("<p>Your skin will feel immediately smoother and look instantly refreshed. Better still, there’s zero downtime! You can return to your daily activities immediately following your treatment – your skin may appear slightly red, but this should disappear within a few hours. We recommend you use SPF30+ and avoid abrasive exfoliates or other invasive skin treatments for a few days.</p>");
            sb.Append("<p>The treatment is gentle, non-invasive and painless. You’ll probably hear a small pulse as we target the carbon particles in your pores with the laser.</p>");
            sb.Append("<p style='font-weight:bold'>Confidentiality</p>");
            sb.Append("<p>"+ emr.set_company +" will maintain the confidentiality of your details and we assure you not to disclose them to any other party without your acknowledgement.</p>");
            sb.Append("<p style='font-weight:bold'>PART II: Certificate of Consent</p>");
            sb.Append("<p>I have read the previous information, or it has been read to me. I have had the opportunity to ask questions about it, and any questions that I have asked/have been answered to my satisfaction. I consent voluntarily to undergo this treatment and understand that I have the right to withdraw from the procedure or treatment at any time without in any way affecting my medical care.</p>");
            sb.Append("<p>In permitting my doctor to perform my procedure, I understand that unforeseen conditions may be revealed that may necessitate change or extension of the original procedure or the different procedure than those already explained to me. I therefore authorize and request that the above named physician, his/her assistant, or his her designees perform such procedure as necessary or desirable in the exercise of his/her judgement.</p>");
            sb.Append("<p>In the unlikely event that one or more of the above inherent complications may occur, my physicians may take appropriate and reasonable steps to manage and be available to me and my family to address our concerns and questions.</p>");
            sb.Append("<p>I consent to any photographing or videotaping of the procedure that may be performed, provided by my identity is not revealed by pictures or description texts accompanying them, so that my physician may follow my therapy progression.</p>");
            sb.Append("<p>I consent that I stop using Accutane Isotretinoin one month before the treatment.</p>");
            sb.Append("<p>I confirm that the individual has given consent freely.</p>");
            sb.Append("<p style='font-weight:bold'>Healthcare Professional Declaration:</p>");
            sb.Append("<p>I have adequately explained to the patient about the procedure and risks, adverse effects, and the standard alternatives available for the procedure.</p>");
            sb.Append("<p>I have permitted time and opportunity for the patient to ask questions, and all questions have been answered to my knowledge.</p>");
            sb.Append("<p style='font-weight:bold'>\"I agree that healthcare provider(s) involved in my care at this facility will access my health information through the Health Information Exchange System (NABIDH) in accordance with the Laws of the United Arab Emirates, Emirate of Dubai Legislation and Dubai Health Authority Policies \"</p>");
            sb.Append("<p style='font-weight:bold' dir='rtl'>\"أوافق على أن مقدمي الرعاية الصحية المشاركين في رعايتي في هذه المنشأة سيتمكنون من الوصول إلى معلوماتي الصحية من خلال نظام تبادل المعلومات الصحية (NABIDH) وفقاً لقوانين دولة الإمارات العربية المتحدة، تشريعات إمارة دبي وسياسات هيئة الصحة بدبي \"</p>");

            sb.Append("</div>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;'  colspan='3'>");
            sb.Append("            <p>Sign here, only if all of your questions have been answered to your satisfaction</p>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("             Patient");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 34%;'>");
            sb.Append("            Witness");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("            Doctor");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000'>");
            sb.Append("            <img src='" + psign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000'>");
            sb.Append("            <img src='" + wsign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;'>");
            sb.Append("            <img src='" + emr.doc_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000;border-top:1px solid #000000;'>");
            sb.Append("            Patient Name");
            sb.Append("             <br/>" + emr.pat_name);
            sb.Append("</br><br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000;border-top:1px solid #000000;'>");
            sb.Append("            Witness Name");
            sb.Append("             <br/>" + pdf.cdc_1);
            sb.Append("</br><br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-top:1px solid #000000;'>");
            sb.Append("           Doctor Name<br/>");
            sb.Append("            " + emr.app_doctor_department + "<br/>");
            sb.Append("<br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("</table>");
            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + footer + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    </body>");
            sb.Append("</html>");

            String htmlString = sb.ToString();

            return htmlString;
        }
        //Filler Consent Form  (Dmax)
        public static string HtmlDmaxFiller(int appId, EMRInfo emr, int setId)
        {
            BusinessEntities.ConsentForms.DmaxFiller pdf = BusinessLogicLayer.ConsentForms.DmaxFiller.GetDmaxFillerData(appId).FirstOrDefault();
            BusinessEntities.Common.eSignature psign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "patient", "DmaxFiller").FirstOrDefault();
            BusinessEntities.Common.eSignature wsign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "witness", "DmaxFiller").FirstOrDefault();
            BusinessEntities.Common.PDFHeaderFooter hf = BusinessLogicLayer.Common.PDF.GetHeaderFooterByBranch(setId);

            string header = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "header_images", hf.header.ToString());
            string footer = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "footer_images", hf.footer.ToString());

            StringBuilder sb = new StringBuilder();


            sb.Append("<html>");
            sb.Append("    <head>");
            sb.Append("    <title> <u>Filler Consent Form</u></title>");
            sb.Append("    <meta charset='utf-8'>");
            sb.Append("    </head>");
            sb.Append("    <body style='font-family: Verdana, Geneva, Tahoma, sans-serif;'>");

            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + header + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000' colspan='9'>");
            sb.Append("            <h1>Filler Consent Form</h1>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Patient Name</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000' colspan='4'>" + emr.pat_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Emirates ID</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_emirateid + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>File No</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_code + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>DOB</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_dob + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Nationality</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_nationality + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Gender</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_gender + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Doctor's Name</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.doc_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Date</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.app_fdate + "</td>");
            sb.Append("    </tr>");
            sb.Append("</table>");

            sb.Append("<div style='width:100%; text-align:justify; font-size: 12px; margin-top: 50px;margin-bottom: 50px;'>");

            sb.Append("<p style='font-weight:bold'>This Informed Consent Form has two parts:</p>");
            sb.Append("<p><ul>");
            sb.Append("<li>Information Sheet (to share information about the treatment with you)</li>");
            sb.Append("<li>Certificate of Consent (for signatures if you agree to go ahead with the treatment)</li>");
            sb.Append("</ul></p>");
            sb.Append("<p style='font-weight:bold'>Dubai Health Authority law guarantees that you have both the right and the obligation to make decisions regarding your health care. " + emr.set_company + " team can provide you with the necessary information and advice, but you must participate in the decision-making process. This form acknowledges your consent to treatment and surgical or non-surgical procedures recommended by your physician.</p>");
            sb.Append("<p>You will be given a copy of the full Informed Consent Form</p>");
            sb.Append("<p style='font-weight:bold'>PART I: Information Sheet</p>");
            sb.Append("<p>I, Dr." + emr.doc_name + " with license No: " + emr.emp_license + " should be performing the Filler procedure on Miss/Mrs./Mr." + emr.pat_name + " Age " + emr.pat_age + " years, on date " + emr.app_fdate + "</p>");
            sb.Append("<p>The following has been explained to the patient in general terms.</p>");
            sb.Append("<p style='font-weight:bold'>Proposed procedure –Filler Injection</p>");
            sb.Append("<p>Dermal fillers, also known as injectable implants, soft tissue fillers, lip and facial fillers, or wrinkle fillers are medical device implants approved by the FDA for use in helping to create a smoother and/or fuller appearance in the face, including nasolabial folds (the lines extending from the sides of the nose to the edges of the mouth), marionette lines, smile lines, cheeks, temples, chin, lips, and back of the hands.</p>");
            sb.Append("<p>There are biocompatible fillers that allow you to shape the buttocks, breasts and sometimes private areas without distorting the natural shape but improving their appearance. The result of a hyaluronic acid body filler can be seen immediately after the session and lasts about eighteen months.</p>");
            sb.Append("<p>In general, fillers are categorized by the substance they are made from.</p>");
            sb.Append("<p><ol>");
            sb.Append("<li><span style='font-weight:bold'>Hyaluronic acid</span> is a naturally occurring substance that is already found in your skin. It helps keep skin plump and hydrated. HA fillers are typically soft and gel-like. The results are temporary, lasting 6 to 12 months or longer before the body gradually and naturally absorbs the particles.</li>");
            sb.Append("<li><span style='font-weight:bold'>Calcium hydroxylapatite</span> is also a naturally occurring substance, found primarily in our bones. When used in a filler, the calcium particles are nearly microscopic and suspended in a smooth gel. The consistency of a CaHA filler is typically thicker than that of a hyaluronic acid filler and typically lasts longer as well, about 12 months for most patients. Calcium hydroxylapatite is also reported to help stimulate natural collagen production, and it is typically used for deeper lines and wrinkles.</li>");
            sb.Append("<li><span style='font-weight:bold'>Poly-L-lactic acid</span> is a biocompatible (meaning it is safe to use in the body), biodegradable synthetic substance. It has been used for many years in medical devices, such as dissolvable stitches. Poly-L-lactic acid products are technically classified as “collagen stimulators,” as their main mechanism to smooth fine lines is by helping your skin rebuild natural collagen—the filler gel itself dissipates a few days after treatment. Poly-L-lactic acid is typically used to treat deeper facial wrinkles, and results can last more than 2 years.</li>");
            sb.Append("<li><span style='font-weight:bold'>Polymethylmethacrylate (PMMA)</span> is a synthetic, biocompatible substance that has been used in medicine for much of the last century. In dermal fillers, PMMA takes the form of a “microsphere” or tiny ball, that remains beneath the skin indefinitely to provide continued support. PMMA fillers will also contain collagen, a naturally occurring substance in the skin that provides structure and firmness.</li>");
            sb.Append("</ol></p>");
            sb.Append("<p>Since some dermal fillers are naturally absorbed over time, you may need to repeat the procedure after some time to maintain the desired effect. Successful results will depend on the underlying tissue structure and the volume and type of filler used. The time that the effect lasts depends on the filler material and the area where it is injected.</p>");
            sb.Append("<p style='font-weight:bold'>Pre procedure assessment</p>");
            sb.Append("<p><ul>");
            sb.Append("<li>It is important to tell your doctor about your medication allergies and complete medical history.</li>");
            sb.Append("<li>If you have any of the following conditions or symptoms prior to the procedure, alert your health care provider:</li>");
            sb.Append("<li>Your skin is inflamed or infected. If you have an active inflammatory condition (cysts, pimples, rashes, or hives) or infection, dermal filler injection should be delayed until this inflammatory condition has been managed.</li>");
            sb.Append("<li>You have a bleeding disorder.</li>");
            sb.Append("<li>You have severe allergies or have a history of anaphylaxis (acute allergic reaction).</li>");
            sb.Append("<li>You are allergic to collagen or eggs (some dermal fillers contain collagen or egg-derived products).</li>");
            sb.Append("<li>You are allergic to animal products (some dermal fillers contain materials from animals).</li>");
            sb.Append("<li>You are allergic to local anesthetic such as lidocaine (some dermal fillers contain lidocaine).</li>");
            sb.Append("<li>You are allergic to bacteria (some dermal fillers contain hyaluronic acid material derived from bacterial fermentation).</li>");
            sb.Append("<li>You have joint, tendon, or blood vessel disease affecting the hand, when considering hand augmentation.</li>");
            sb.Append("<li>Whether you are pregnant or breast feeding</li>");
            sb.Append("</ul></p>");
            sb.Append("<p style='font-weight:bold'>Side Effects and Complications of filler Injections</p>");
            sb.Append("<p>" + emr.set_company + " team has explained to the patient that there are possible risks and undesirable consequences associated with this procedure including but not limited to</p>");
            sb.Append("<p style='font-weight:bold'>Common risks include:</p>");
            sb.Append("<p><ul>");
            sb.Append("<li>Bruising</li>");
            sb.Append("<li>Redness</li>");
            sb.Append("<li>Swelling</li>");
            sb.Append("<li>Pain</li>");
            sb.Append("<li>Tenderness</li>");
            sb.Append("<li>Itching</li>");
            sb.Append("<li>Rash</li>");
            sb.Append("<li>Difficulty in performing activities (only observed when injected into the back of the hand)</li>");
            sb.Append("</ul></p>");
            sb.Append("<p style='font-weight:bold'>Less common risks include:</p>");
            sb.Append("<p><ul>");
            sb.Append("<li>Raised bumps in or under the skin (nodules or granulomas) that may need to be treated with injections, oral antibiotics, or surgically removed.</li>");
            sb.Append("<li>Infection</li>");
            sb.Append("<li>Open or drain wounds.</li>");
            sb.Append("<li>A sore at the injection site</li>");
            sb.Append("<li>Allergic reaction</li>");
            sb.Append("</ul></p>");
            sb.Append("<p style='font-weight:bold'>Rare risks include.</p>");
            sb.Append("<p><ul>");
            sb.Append("<li>Severe allergic reaction (anaphylactic shock) that requires immediate emergency medical assistance.</li>");
            sb.Append("<li>Migration (movement of filler material from the site of injection)</li>");
            sb.Append("<li>Leakage or rupture of the filler material at the injection site or through the skin (which may result from tissue reaction or infection)</li>");
            sb.Append("<li>The formation of permanent hard nodules</li>");
            sb.Append("<li>Injury to the blood supply due to unintended injection into a blood vessel, resulting in necrosis (tissue death), vision abnormalities including blindness, or stroke. Death</li>");
            sb.Append("</ul></p>");
            sb.Append("<p style='font-weight:bold>Discomforts</p>");
            sb.Append("<p>You may be offered an ice pack to reduce swelling and alleviate discomfort. Although the area may feel a bit tender for a day or two.</p>");
            sb.Append("<p style='font-weight:bold'>Benefits</p>");
            sb.Append("<p><ul>");
            sb.Append("<li>Recovery time is minimal.</li>");
            sb.Append("<li>Less expensive than elective surgical procedures.</li>");
            sb.Append("<li>Improve your self-esteem</li>");
            sb.Append("</ul></p>");
            sb.Append("<p style='font-weight:bold'>Alternatives</p>");
            sb.Append("<p>The reasonable alternatives to the procedure as well as risks and benefits of the alternatives have been explained to the patient. Alternatives include but are not limited to.</p>");
            sb.Append("<p style='font-weight:bold'>Chemical peel</p>");
            sb.Append("<p>Chemical peels are very good for improving overall skin quality but are often not as effective for significant signs of aging. That said, deep peels can improve the appearance of wrinkling quite effectively. Recovery time depends entirely on the depth of the peel. Mild peels can be repeated for improved results.</p>");
            sb.Append("<p style='font-weight:bold'>Laser skin resurfacing</p>");
            sb.Append("<p>Patients can expect to see improvement in wrinkles, lines, overall skin quality, and sun damage. For the best results, many patients elect to have a series of treatments.</p>");
            sb.Append("<p style='font-weight:bold'>Fat transfer</p>");
            sb.Append("<p>An exciting facial rejuvenation treatment that can produce semi-permanent improvement, fat transfer uses refined fat cells from the patient’s own body to fill in areas of lost volume and deep wrinkles. Fat that survives after the first six months is considered permanent rejuvenation, as this means the cells have established themselves and are likely to keep living long term. Though facial fat transfer can be performed with the patient under light sedation. Recovery generally takes a week or two following the surgery.</p>");
            sb.Append("<p style='font-weight:bold'>Confidentiality</p>");
            sb.Append("<p>" + emr.set_company + " team will maintain the confidentiality of your details and we assure not to disclose them to any other party without your acknowledgment.</p>");
            sb.Append("<p style='font-weight:bold'>Financial Implications</p>");
            sb.Append("<p>All procedures/treatments provided that are not covered by insurance may require your full payment or co-payment.</p>");
            sb.Append("<p style='font-weight:bold'>PART II: Certificate of Consent</p>");
            sb.Append("<p>I have read the previous information, or it has been read to me. I have had the opportunity to ask questions about it, and any questions that I have asked have been answered to my satisfaction. I consent voluntarily to undergo this treatment and understand that I have the right to withdraw from the procedure or treatment at any time without in any way affecting my medical care.</p>");
            sb.Append("<p>In permitting my doctor to perform my procedure, I understand that the unforeseen conditions may be revealed that may necessitate change or extension of the original procedure or a different procedure than those already explained to me. I therefore authorize and request that the above-named physician, his/her assistants or his/her designees perform such procedure as necessary or desirable in the exercise of his/her judgment.</p>");
            sb.Append("<p>In the unlikely event that one or more of the above inherent complications may occur, my physician may take appropriate and reasonable steps to manage and be available to me and my family to address our concerns and questions.</p>");
            sb.Append("<p>I consent to any photographing or videotaping of the procedure that may be performed, provided by my identity is not revealed by pictures or descriptive texts accompanying them, so that my physician may follow my therapy progression.</p>");
            sb.Append("<p>Witness statement I have accurately read or witnessed the accurate reading of the consent form to the potential patient, and the individual has had the opportunity to ask questions. I confirm that the individual has given consent freely.</p>");
            sb.Append("<p style='font-weight:bold'>Healthcare Professional Declaration:</p>");
            sb.Append("<p>I have adequately explained to the patient about the procedure and risks, adverse effects, and the standard alternatives available for the procedure. I have permitted time and opportunity for the patient to ask questions, and all questions have been answered to my knowledge.</p>");
            sb.Append("<p>\"I agree that healthcare provider(s) involved in my care at this facility will access my health information through the Health Information Exchange System (NABIDH) in accordance with the Laws of the United Arab Emirates, Emirate of Dubai Legislation and Dubai Health Authority Policies \"</p>");
            sb.Append("<p style='font-weight:bold' dir='rtl'>\"أوافق على أن مقدمي الرعاية الصحية المشاركين في رعايتي في هذه المنشأة سيتمكنون من الوصول إلى معلوماتي الصحية من خلال نظام تبادل المعلومات الصحية (NABIDH) وفقاً لقوانين دولة الإمارات العربية المتحدة، تشريعات إمارة دبي وسياسات هيئة الصحة بدبي \"</p>");

            sb.Append("</div>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;'  colspan='3'>");
            sb.Append("            <p>Sign here, only if all of your questions have been answered to your satisfaction</p>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("             Patient");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 34%;'>");
            sb.Append("            Witness");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("            Doctor");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000'>");
            sb.Append("            <img src='" + psign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000'>");
            sb.Append("            <img src='" + wsign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;'>");
            sb.Append("            <img src='" + emr.doc_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000;border-top:1px solid #000000;'>");
            sb.Append("            Patient Name");
            sb.Append("             <br/>" + emr.pat_name);
            sb.Append("</br><br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000;border-top:1px solid #000000;'>");
            sb.Append("            Witness Name");
            sb.Append("             <br/>" + pdf.cdf_1);
            sb.Append("</br><br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-top:1px solid #000000;'>");
            sb.Append("           Doctor Name<br/>");
            sb.Append("            " + emr.app_doctor_department + "<br/>");
            sb.Append("<br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("</table>");
            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + footer + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    </body>");
            sb.Append("</html>");

            String htmlString = sb.ToString();

            return htmlString;
        }

        //Dermapen/Microneedling/Morpheus 8/Genius Consent Form(Dmax)
        public static string HtmlDmaxGenius(int appId, EMRInfo emr, int setId)
        {
            BusinessEntities.ConsentForms.DmaxGenius pdf = BusinessLogicLayer.ConsentForms.DmaxGenius.GetDmaxGeniusData(appId).FirstOrDefault();
            BusinessEntities.Common.eSignature psign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "patient", "DmaxGenius").FirstOrDefault();
            BusinessEntities.Common.eSignature wsign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "witness", "DmaxGenius").FirstOrDefault();
            BusinessEntities.Common.PDFHeaderFooter hf = BusinessLogicLayer.Common.PDF.GetHeaderFooterByBranch(setId);

            string header = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "header_images", hf.header.ToString());
            string footer = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "footer_images", hf.footer.ToString());

            StringBuilder sb = new StringBuilder();


            sb.Append("<html>");
            sb.Append("    <head>");
            sb.Append("    <title> <u>Dermapen/Microneedling/Morpheus 8/Genius Consent Form</u></title>");
            sb.Append("    <meta charset='utf-8'>");
            sb.Append("    </head>");
            sb.Append("    <body style='font-family: Verdana, Geneva, Tahoma, sans-serif;'>");

            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + header + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000' colspan='9'>");
            sb.Append("            <h1>Dermapen/Microneedling/Morpheus 8/Genius Consent Form</h1>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Patient Name</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000' colspan='4'>" + emr.pat_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Emirates ID</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_emirateid + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>File No</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_code + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>DOB</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_dob + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Nationality</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_nationality + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Gender</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_gender + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Doctor's Name</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.doc_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Date</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.app_fdate + "</td>");
            sb.Append("    </tr>");
            sb.Append("</table>");

            sb.Append("<div style='width:100%; text-align:justify; font-size: 12px; margin-top: 50px;margin-bottom: 50px;'>");

            sb.Append("<p style='font-weight:bold'>This Informed Consent Form has two parts:</p>");
            sb.Append("<p><ul>");
            sb.Append("<li>Information Sheet (to share information about the treatment with you)</li>");
            sb.Append("<li>Certificate of Consent (for signatures if you agree to go ahead with the treatment)</li>");
            sb.Append("</ul></p>");
            sb.Append("<p style='font-weight:bold'>PART I: Information Sheet</p>");
            sb.Append("<p>The following has been explained to the patient in general terms.</p>");
            sb.Append("<p>Facial skin is a sensitive part of the body that needs care. Therefore, it is crucial to ensure that the skin of your face is smooth, glowing, and lively all the time. Age and the growing level of pollution can take a toll on the health of your skin, rendering it dull, full of scars and wrinkles. But what if we tell you that there is a way out of it? Yes, there is one such therapy, known as Dermapen Microneedling or Morpheus 8 that helps in tightening and rejuvenating your skin.</p>");
            sb.Append("<p style='font-weight:bold'>What to expect:</p>");
            sb.Append("<p>Dermapen microneedling or Morpheus 8 has minimalistic port-treatment requirements. Some patients may experience this.</p>");
            sb.Append("<p>Minor redness, flaking, or itching, but this is pretty natural and should disappear within a few days.</p>");
            sb.Append("<p>We advise you not to apply make-up for the first 24 hours after the treatment and use only oil-free make-up for a couple of days after 24 hours window. We also recommend you avoid intense cardio exercises, steam, and sauna sessions 48 hours before and after the treatment.</p>");
            sb.Append("<p style='font-weight:bold'>Confidentiality</p>");
            sb.Append("<p>" + emr.set_company + " will maintain the confidentiality of your details and we assure you not to disclose them to any other party without your acknowledgement.</p>");
            sb.Append("<p style='font-weight:bold'>PART II: Certificate of Consent</p>");
            sb.Append("<p>I have read the previous information, or it has been read to me. I have had the opportunity to ask questions about it, and any questions that I have asked/have been answered to my satisfaction. I consent voluntarily to undergo this treatment and understand that I have the right to withdraw from the procedure or treatment at any time without in any way affecting my medical care.</p>");
            sb.Append("<p>In permitting my doctor to perform my procedure, I understand that unforeseen conditions may be revealed that may necessitate change or extension of the original procedure or the different procedure than those already explained to me. I therefore authorize and request that the above named physician, his/her assistant, or his her designees perform such procedure as necessary or desirable in the exercise of his/her judgement.</p>");
            sb.Append("<p>In the unlikely event that one or more of the above inherent complications may occur, my physicians may take appropriate and reasonable steps to manage and be available to me and my family to address our concerns and questions.</p>");
            sb.Append("<p>I consent to any photographing or videotaping of the procedure that may be performed, provided by my identity is not revealed by pictures or description texts accompanying them, so that my physician may follow my therapy progression.</p>");
            sb.Append("<p>I consent that I stop using Accutane Isotretinoin one month before the treatment.</p>");
            sb.Append("<p>I confirm that the individual has given consent freely.</p>");
            sb.Append("<p style='font-weight:bold'>Healthcare Professional Declaration:</p>");
            sb.Append("<p>I have adequately explained to the patient about the procedure and risks, adverse effects, and the standard alternatives available for the procedure.</p>");
            sb.Append("<p>I have permitted time and opportunity for the patient to ask questions, and all questions have been answered to my knowledge.</p>");
            sb.Append("<p>\"I agree that healthcare provider(s) involved in my care at this facility will access my health information through the Health Information Exchange System (NABIDH) in accordance with the Laws of the United Arab Emirates, Emirate of Dubai Legislation and Dubai Health Authority Policies \"</p>");
            sb.Append("<p style='font-weight:bold' dir='rtl'>\"أوافق على أن مقدمي الرعاية الصحية المشاركين في رعايتي في هذه المنشأة سيتمكنون من الوصول إلى معلوماتي الصحية من خلال نظام تبادل المعلومات الصحية (NABIDH) وفقاً لقوانين دولة الإمارات العربية المتحدة، تشريعات إمارة دبي وسياسات هيئة الصحة بدبي \"</p>");

            sb.Append("</div>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;'  colspan='3'>");
            sb.Append("            <p>Sign here, only if all of your questions have been answered to your satisfaction</p>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("             Patient");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 34%;'>");
            sb.Append("            Witness");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("            Doctor");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000'>");
            sb.Append("            <img src='" + psign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000'>");
            sb.Append("            <img src='" + wsign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;'>");
            sb.Append("            <img src='" + emr.doc_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000;border-top:1px solid #000000;'>");
            sb.Append("            Patient Name");
            sb.Append("             <br/>" + emr.pat_name);
            sb.Append("</br><br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000;border-top:1px solid #000000;'>");
            sb.Append("            Witness Name");
            sb.Append("             <br/>" + pdf.cdg_1);
            sb.Append("</br><br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-top:1px solid #000000;'>");
            sb.Append("           Doctor Name<br/>");
            sb.Append("            " + emr.app_doctor_department + "<br/>");
            sb.Append("<br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("</table>");
            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + footer + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    </body>");
            sb.Append("</html>");

            String htmlString = sb.ToString();

            return htmlString;
        }

        //Tooth Extraction Consent Form (Dmax)
        public static string HtmlDmaxTooth(int appId, EMRInfo emr, int setId)
        {
            BusinessEntities.ConsentForms.DmaxTooth pdf = BusinessLogicLayer.ConsentForms.DmaxTooth.GetDmaxToothData(appId).FirstOrDefault();
            BusinessEntities.Common.eSignature psign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "patient", "DmaxTooth").FirstOrDefault();
            BusinessEntities.Common.eSignature wsign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "witness", "DmaxTooth").FirstOrDefault();
            BusinessEntities.Common.PDFHeaderFooter hf = BusinessLogicLayer.Common.PDF.GetHeaderFooterByBranch(setId);

            string header = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "header_images", hf.header.ToString());
            string footer = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "footer_images", hf.footer.ToString());

            StringBuilder sb = new StringBuilder();


            sb.Append("<html>");
            sb.Append("    <head>");
            sb.Append("    <title> <u>Consent for Tooth Extraction</u></title>");
            sb.Append("    <meta charset='utf-8'>");
            sb.Append("    </head>");
            sb.Append("    <body style='font-family: Verdana, Geneva, Tahoma, sans-serif;'>");

            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + header + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000' colspan='9'>");
            sb.Append("            <h1>Consent for Tooth Extraction</h1>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Patient Name</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000' colspan='4'>" + emr.pat_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Emirates ID</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_emirateid + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>File No</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_code + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>DOB</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_dob + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Nationality</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_nationality + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Gender</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_gender + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Doctor's Name</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.doc_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Date</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.app_fdate + "</td>");
            sb.Append("    </tr>");
            sb.Append("</table>");

            sb.Append("<div style='width:100%; text-align:justify; font-size: 12px; margin-top: 50px;margin-bottom: 50px;'>");

            sb.Append("<p style='font-weight:bold'>I. Recommended Treatment</p>");
            sb.Append("<p>I hereby give consent to Dr." + emr.doc_name + " to perform Tooth Extraction procedure(s) on me or my dependent as follows:" + pdf.cdt_2 + "(“Recommended Treatment”) and any such additional procedure(s) as may be considered necessary for my well- being based on findings made during the course of the Recommended Treatment.</p>");
            sb.Append("<p>The nature and purpose of the Recommended Treatment have been explained to me and no guarantee has been made or implied as to result or cure. I have been given satisfactory answers to all of my questions, and I wish to proceed with the Recommended Treatment. I also consent to the administration of local anesthesia during the performance of the Recommended Treatment.</p>");
            sb.Append("<p style='font-weight:bold'>II. Treatment Alternatives</p>");
            sb.Append("<p>Alternative methods of treatment have been explained to me, such as: " + pdf.cdt_3 + " but I wish to proceed with the Recommended Treatment described above.</p>");
            sb.Append("<p style='font-weight:bold'>III. Risks and Complications</p>");
            sb.Append("<p>I understand that there are risks and complications associated with the administration of medications, including anesthesia, and performance of the Recommended Treatment. These potential risks and complications, include, but are not limited to, the following:</p>");
            sb.Append("<p><ol>");
            sb.Append("<li>Drug reactions and side effects.</li>");
            sb.Append("<li>Post-operative bleeding, oozing, infection and/or bone infection.</li>");
            sb.Append("<li>Bruising and/or swelling, restricted mouth opening for several days or weeks.</li>");
            sb.Append("<li>Loss or removal of bone during tooth extraction.</li>");
            sb.Append("<li>Damage to, or fracture of, adjacent teeth or tooth restorations.</li>");
            sb.Append("<li>Root tips may break during the oral surgery process. These root tips may be left in the bone to avoid more aggressive surgery. However, this more aggressive surgery may be needed, and you may be referred for this procedure.</li>");
            sb.Append("<li>Delayed healing, including but not limited to, dry socket, necessitating post-operative care.</li>");
            sb.Append("<li>Possible involvement of the sinus during the removal of the upper posterior teeth, which may require additional treatment or surgical repair at a later date.</li>");
            sb.Append("<li>Possible involvement of the nerves of the lower jaw during the removal of teeth resulting in temporary or permanent tingling/numbness of the lower lip, chin, tongue or other surrounding structures.</li>");
            sb.Append("<li>Jaw fracture.</li>");
            sb.Append("<li>If you are taking medications to make your bones stronger (such as bisphosphonates) or if you have received radiation therapy to the head or neck area for tumors/cancer, then you are at a higher risk for poor bone healing or bone death that may never completely resolve.</li>");
            sb.Append("<li>As a result of the injection or use of anesthesia, there may be swelling, jaw muscle tenderness or even resultant numbness of the tongue, lips, teeth, jaws and/or facial tissues, which is typically temporary, but in rare instances, may be permanent.</li>");
            sb.Append("</ol></p>");
            sb.Append("<p>\"I agree that healthcare provider(s) involved in my care at this facility will access my health information through the Health Information Exchange System (NABIDH) in accordance with the Laws of the United Arab Emirates, Emirate of Dubai Legislation and Dubai Health Authority Policies \"</p>");
            sb.Append("<p style='font-weight:bold' dir='rtl'>\"أوافق على أن مقدمي الرعاية الصحية المشاركين في رعايتي في هذه المنشأة سيتمكنون من الوصول إلى معلوماتي الصحية من خلال نظام تبادل المعلومات الصحية (NABIDH) وفقاً لقوانين دولة الإمارات العربية المتحدة، تشريعات إمارة دبي وسياسات هيئة الصحة بدبي \"</p>");

            sb.Append("</div>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;'  colspan='3'>");
            sb.Append("            <p>Sign here, only if all of your questions have been answered to your satisfaction</p>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("             Patient/Parent/Guardian");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 34%;'>");
            sb.Append("            Witness");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("            Doctor");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000'>");
            sb.Append("            <img src='" + psign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000'>");
            sb.Append("            <img src='" + wsign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;'>");
            sb.Append("            <img src='" + emr.doc_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000;border-top:1px solid #000000;'>");
            sb.Append("            Patient Name");
            sb.Append("             <br/>" + emr.pat_name);
            sb.Append("            <br/><br/>Relationship (if patient a minor)");
            sb.Append("             <br/>" + pdf.cdt_4);
            sb.Append("</br><br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000;border-top:1px solid #000000;'>");
            sb.Append("            Witness Name");
            sb.Append("             <br/>" + pdf.cdt_1);
            sb.Append("</br><br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-top:1px solid #000000;'>");
            sb.Append("           Doctor Name<br/>");
            sb.Append("            " + emr.app_doctor_department + "<br/>");
            sb.Append("<br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("</table>");
            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + footer + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    </body>");
            sb.Append("</html>");

            String htmlString = sb.ToString();

            return htmlString;
        }

        //Crown Bridge Consent Form (Dmax)
        public static string HtmlDmaxCrownBridge(int appId, EMRInfo emr, int setId)
        {
            BusinessEntities.ConsentForms.DmaxCrownBridge pdf = BusinessLogicLayer.ConsentForms.DmaxCrownBridge.GetDmaxCrownBridgeData(appId).FirstOrDefault();
            BusinessEntities.Common.eSignature psign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "patient", "DmaxCrownBridge").FirstOrDefault();
            BusinessEntities.Common.eSignature wsign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "witness", "DmaxCrownBridge").FirstOrDefault();
            BusinessEntities.Common.PDFHeaderFooter hf = BusinessLogicLayer.Common.PDF.GetHeaderFooterByBranch(setId);

            string header = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "header_images", hf.header.ToString());
            string footer = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "footer_images", hf.footer.ToString());

            StringBuilder sb = new StringBuilder();


            sb.Append("<html>");
            sb.Append("    <head>");
            sb.Append("    <title> <u>Informed Consent for Crown and Bridge Prosthetics</u></title>");
            sb.Append("    <meta charset='utf-8'>");
            sb.Append("    </head>");
            sb.Append("    <body style='font-family: Verdana, Geneva, Tahoma, sans-serif;'>");

            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + header + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000' colspan='9'>");
            sb.Append("            <h1>Informed Consent for Crown and Bridge Prosthetics</h1>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Patient Name</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000' colspan='4'>" + emr.pat_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Emirates ID</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_emirateid + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>File No</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_code + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>DOB</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_dob + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Nationality</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_nationality + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Gender</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_gender + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Doctor's Name</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.doc_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Date</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.app_fdate + "</td>");
            sb.Append("    </tr>");
            sb.Append("</table>");

            sb.Append("<div style='width:100%; text-align:justify; font-size: 12px; margin-top: 50px;margin-bottom: 50px;'>");

            sb.Append("<p style='font-weight:bold'>I. Recommended Treatment</p>");
            sb.Append("<p>I hereby give consent to Dr." + emr.doc_name + " to perform Crown and Bridge Prosthetics procedure(s) on me or my dependent as follows: " + pdf.cdcb_2 + " (“Recommended Treatment”) and any such additional procedure(s) as may be considered necessary for my well- being based on findings made during the course of the Recommended Treatment.</p>");
            sb.Append("<p>The nature and purpose of the Recommended Treatment have been explained to me and no guarantee has been made or implied as to result or cure. I have been given satisfactory answers to all of my questions, and I wish to proceed with the Recommended Treatment. I also consent to the administration of local anesthesia during the performance of the Recommended Treatment.</p>");
            sb.Append("<p style='font-weight:bold'>II. Treatment Alternatives</p>");
            sb.Append("<p>Alternative methods of treatment have been explained to me, such as: " + pdf.cdcb_3 + " but I wish to proceed with the Recommended Treatment described above.</p>");
            sb.Append("<p style='font-weight:bold'>III. Risks and Complications</p>");
            sb.Append("<p>I understand that there are risks and complications associated with the administration of medications, including anesthesia, and performance of the Recommended Treatment. These potential risks and complications, include, but are not limited to, the following:</p>");
            sb.Append("<p><ol>");
            sb.Append("<li>Reduction of tooth structure.</li>");
            sb.Append("<li>Sensitivity of teeth.</li>");
            sb.Append("<li>Crown or bridge abutment teeth may require root canal treatment.</li>");
            sb.Append("<li>Breakage.</li>");
            sb.Append("<li>Uncomfortable or strange feelings, which is typically temporary. In limited situations, muscle soreness or tenderness of the jaw may persist following placement of the prosthesis.</li>");
            sb.Append("<li>Unsatisfactory aesthetics or appearance.</li>");
            sb.Append("<li>Unsatisfactory longevity of crowns and bridge.</li>");
            sb.Append("<li>As a result of the injection or use of anesthesia, at times there may be swelling, jaw muscle tenderness or even resultant numbness of the tongue, lips, teeth, jaws and/or facial tissues, which is typically temporary, but in rare instances, may be permanent.</li>");
            sb.Append("</ol></p>");
            sb.Append("<p>\"I agree that healthcare provider(s) involved in my care at this facility will access my health information through the Health Information Exchange System (NABIDH) in accordance with the Laws of the United Arab Emirates, Emirate of Dubai Legislation and Dubai Health Authority Policies \"</p>");
            sb.Append("<p style='font-weight:bold' dir='rtl'>\"أوافق على أن مقدمي الرعاية الصحية المشاركين في رعايتي في هذه المنشأة سيتمكنون من الوصول إلى معلوماتي الصحية من خلال نظام تبادل المعلومات الصحية (NABIDH) وفقاً لقوانين دولة الإمارات العربية المتحدة، تشريعات إمارة دبي وسياسات هيئة الصحة بدبي \"</p>");

            sb.Append("</div>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;'  colspan='3'>");
            sb.Append("            <p>Sign here, only if all of your questions have been answered to your satisfaction</p>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("             Patient/Parent/Guardian");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 34%;'>");
            sb.Append("            Witness");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("            Doctor");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000'>");
            sb.Append("            <img src='" + psign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000'>");
            sb.Append("            <img src='" + wsign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;'>");
            sb.Append("            <img src='" + emr.doc_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000;border-top:1px solid #000000;'>");
            sb.Append("            Patient Name");
            sb.Append("             <br/>" + emr.pat_name);
            sb.Append("            <br/><br/>Relationship (if patient a minor)");
            sb.Append("             <br/>" + pdf.cdcb_4);
            sb.Append("</br><br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000;border-top:1px solid #000000;'>");
            sb.Append("            Witness Name");
            sb.Append("             <br/>" + pdf.cdcb_1);
            sb.Append("</br><br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-top:1px solid #000000;'>");
            sb.Append("           Doctor Name<br/>");
            sb.Append("            " + emr.app_doctor_department + "<br/>");
            sb.Append("<br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("</table>");
            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + footer + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    </body>");
            sb.Append("</html>");

            String htmlString = sb.ToString();

            return htmlString;
        }

        //Consent for Endodontic Procedures (Dmax)
        public static string HtmlDmaxEndodontic(int appId, EMRInfo emr, int setId)
        {
            BusinessEntities.ConsentForms.DmaxEndodontic pdf = BusinessLogicLayer.ConsentForms.DmaxEndodontic.GetDmaxEndodonticData(appId).FirstOrDefault();
            BusinessEntities.Common.eSignature psign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "patient", "DmaxEndodontic").FirstOrDefault();
            BusinessEntities.Common.eSignature wsign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "witness", "DmaxEndodontic").FirstOrDefault();
            BusinessEntities.Common.PDFHeaderFooter hf = BusinessLogicLayer.Common.PDF.GetHeaderFooterByBranch(setId);

            string header = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "header_images", hf.header.ToString());
            string footer = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "footer_images", hf.footer.ToString());

            StringBuilder sb = new StringBuilder();


            sb.Append("<html>");
            sb.Append("    <head>");
            sb.Append("    <title> <u>Consent for Endodontic Procedures</u></title>");
            sb.Append("    <meta charset='utf-8'>");
            sb.Append("    </head>");
            sb.Append("    <body style='font-family: Verdana, Geneva, Tahoma, sans-serif;'>");

            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + header + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000' colspan='9'>");
            sb.Append("            <h1>Consent for Endodontic Procedures</h1>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Patient Name</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000' colspan='4'>" + emr.pat_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Emirates ID</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_emirateid + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>File No</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_code + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>DOB</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_dob + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Nationality</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_nationality + "</td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Gender</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_gender + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Doctor's Name</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.doc_name + "</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Date</td>");
            sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
            sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.app_fdate + "</td>");
            sb.Append("    </tr>");
            sb.Append("</table>");

            sb.Append("<div style='width:100%; text-align:justify; font-size: 12px; margin-top: 50px;margin-bottom: 50px;'>");

            sb.Append("<p style='font-weight:bold'>I. Recommended Treatment</p>");
            sb.Append("<p>I hereby give consent to Dr. "+ emr.doc_name +" to perform Endodontic Procedures procedure(s) on me or my dependent as follows: "+ pdf.cde_2 +" (“Recommended Treatment”) and any such additional procedure(s) as may be considered necessary for my well- being based on findings made during the course of the Recommended Treatment.</p>");
            sb.Append("<p>The nature and purpose of the Recommended Treatment have been explained to me and no guarantee has been made or implied as to result or cure. I have been given satisfactory answers to all of my questions, and I wish to proceed with the Recommended Treatment. I also consent to the administration of local anesthesia during the performance of the Recommended Treatment.</p>");
            sb.Append("<p style='font-weight:bold'>II. Discussion of Treatment</p>");
            sb.Append("<p>The Recommended Treatment works by removing bacteria from the hollow space inside the tooth, and by sealing off the inside of the tooth to prevent re-infection. Although the Recommended Treatment has a very high success rate, it is a biological procedure and cannot be guaranteed. Occasionally, a tooth which has had root canal treatment may require retreatment, additional surgery, or extraction.</p>");
            sb.Append("<p style='font-weight:bold'>III. Treatment Alternatives</p>");
            sb.Append("<p>Alternative methods of treatment have been explained to me, such as extraction of the involved teeth, or postponement of root canal therapy, but I wish to proceed with the Recommended Treatment described above.</p>");
            sb.Append("<p style='font-weight:bold'>IV. Risks and Complications</p>");
            sb.Append("<p>I understand that there are risks and complications associated with the administration of medications, including anesthesia, and performance of the Recommended Treatment.</p>");
            sb.Append("<p>These potential risks and complications, include, but are not limited to, the following:</p>");
            sb.Append("<p><ol>");
            sb.Append("<li>Instrument breakage in the root canal.</li>");
            sb.Append("<li>Inability to negotiate canals due to prior treatment or calcification.</li>");
            sb.Append("<li>Perforation to the outside of the tooth.</li>");
            sb.Append("<li>Irreparable damage to the existing crown or restoration.</li>");
            sb.Append("<li>Cracking or fracturing of the root or crown of the tooth.</li>");
            sb.Append("<li>Pain, infection and swelling.</li>");
            sb.Append("<li>Difficulty opening and closing.</li>");
            sb.Append("<li>Temporomandibular Dysfunction resulting in jaw pain.</li>");
            sb.Append("<li>Nerve injury resulting in temporary or permanent numbness, itching, burning or tingling of the lip, chin, tongue or teeth.</li>");
            sb.Append("<li>As a result of the injection or use of anesthesia, there may be swelling, jaw muscle tenderness or even resultant numbness of the tongue, lips, teeth, jaws and/or facial tissues, which is typically temporary, but in rare instances, may be permanent.</li>");
            sb.Append("</ol></p>");
            sb.Append("<p>\"I agree that healthcare provider(s) involved in my care at this facility will access my health information through the Health Information Exchange System (NABIDH) in accordance with the Laws of the United Arab Emirates, Emirate of Dubai Legislation and Dubai Health Authority Policies \"</p>");
            sb.Append("<p style='font-weight:bold' dir='rtl'>\"أوافق على أن مقدمي الرعاية الصحية المشاركين في رعايتي في هذه المنشأة سيتمكنون من الوصول إلى معلوماتي الصحية من خلال نظام تبادل المعلومات الصحية (NABIDH) وفقاً لقوانين دولة الإمارات العربية المتحدة، تشريعات إمارة دبي وسياسات هيئة الصحة بدبي \"</p>");

            sb.Append("</div>");

            sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;'  colspan='3'>");
            sb.Append("            <p>Sign here, only if all of your questions have been answered to your satisfaction</p>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("             Patient/Parent/Guardian");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 34%;'>");
            sb.Append("            Witness");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
            sb.Append("            Doctor");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000'>");
            sb.Append("            <img src='" + psign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000'>");
            sb.Append("            <img src='" + wsign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;'>");
            sb.Append("            <img src='" + emr.doc_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000;border-top:1px solid #000000;'>");
            sb.Append("            Patient Name");
            sb.Append("             <br/>" + emr.pat_name);
            sb.Append("            <br/><br/>Relationship (if patient a minor)");
            sb.Append("             <br/>" + pdf.cde_3);
            sb.Append("</br><br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000;border-top:1px solid #000000;'>");
            sb.Append("            Witness Name");
            sb.Append("             <br/>" + pdf.cde_1);
            sb.Append("</br><br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("        <td style='text-align: center;padding: 10px;border-top:1px solid #000000;'>");
            sb.Append("           Doctor Name<br/>");
            sb.Append("            " + emr.app_doctor_department + "<br/>");
            sb.Append("<br/>Date<br/>");
            sb.Append(emr.app_fdate);
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("</table>");
            sb.Append("    <table style='width:100%; border: none;'>");
            sb.Append("    <tr>");
            sb.Append("        <td style='text-align: center;'>");
            sb.Append("            <img src='" + footer + "'/>");
            sb.Append("        </td>");
            sb.Append("    </tr>");
            sb.Append("    </table>");

            sb.Append("    </body>");
            sb.Append("</html>");

            String htmlString = sb.ToString();

            return htmlString;
        }

        ////ImageComparision
        //public static string HtmlImageComparision(int appId, EMRInfo emr, int setId)
        //{
        //    BusinessEntities.ConsentForms.ImageComparision pdf = BusinessLogicLayer.ConsentForms.ImageComparision.GetImageComparisionData(appId,0).FirstOrDefault();
        //    BusinessEntities.Common.eSignature psign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "patient", "ImageComparision").FirstOrDefault();
        //    BusinessEntities.Common.eSignature wsign = BusinessLogicLayer.Common.eSignature.GetSignature(appId, "witness", "ImageComparision").FirstOrDefault();
        //    BusinessEntities.Common.PDFHeaderFooter hf = BusinessLogicLayer.Common.PDF.GetHeaderFooterByBranch(setId);

        //    string header = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "header_images", hf.header.ToString());
        //    string footer = Path.Combine(ConfigurationManager.AppSettings["ConsentFormEndPoint"], "images", "footer_images", hf.footer.ToString());

        //    StringBuilder sb = new StringBuilder();


        //    sb.Append("<html>");
        //    sb.Append("    <head>");
        //    sb.Append("    <title> <u>Consent for Endodontic Procedures</u></title>");
        //    sb.Append("    <meta charset='utf-8'>");
        //    sb.Append("    </head>");
        //    sb.Append("    <body style='font-family: Verdana, Geneva, Tahoma, sans-serif;'>");

        //    sb.Append("    <table style='width:100%; border: none;'>");
        //    sb.Append("    <tr>");
        //    sb.Append("        <td style='text-align: center;'>");
        //    sb.Append("            <img src='" + header + "'/>");
        //    sb.Append("        </td>");
        //    sb.Append("    </tr>");
        //    sb.Append("    </table>");

        //    sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
        //    sb.Append("    <tr>");
        //    sb.Append("        <td style='text-align: center;border:1px solid #000000' colspan='9'>");
        //    sb.Append("            <h1>Consent for Endodontic Procedures</h1>");
        //    sb.Append("        </td>");
        //    sb.Append("    </tr>");
        //    sb.Append("    <tr>");
        //    sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Patient Name</td>");
        //    sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
        //    sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000' colspan='4'>" + emr.pat_name + "</td>");
        //    sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Emirates ID</td>");
        //    sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
        //    sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_emirateid + "</td>");
        //    sb.Append("    </tr>");
        //    sb.Append("    <tr>");
        //    sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>File No</td>");
        //    sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
        //    sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_code + "</td>");
        //    sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>DOB</td>");
        //    sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
        //    sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_dob + "</td>");
        //    sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Nationality</td>");
        //    sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
        //    sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_nationality + "</td>");
        //    sb.Append("    </tr>");
        //    sb.Append("    <tr>");
        //    sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Gender</td>");
        //    sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
        //    sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.pat_gender + "</td>");
        //    sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Doctor's Name</td>");
        //    sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
        //    sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.doc_name + "</td>");
        //    sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>Date</td>");
        //    sb.Append("        <td style='text-align: center;border:1px solid #000000'>:</td>");
        //    sb.Append("        <td style='text-align: left;padding: 10px;border:1px solid #000000'>" + emr.app_fdate + "</td>");
        //    sb.Append("    </tr>");
        //    sb.Append("</table>");

        //    sb.Append("<div style='width:100%; text-align:justify; font-size: 12px; margin-top: 50px;margin-bottom: 50px;'>");

        //    //sb.Append("<p style='font-weight:bold'>I. Recommended Treatment</p>");
        //    //sb.Append("<p>I hereby give consent to Dr. " + emr.doc_name + " to perform Endodontic Procedures procedure(s) on me or my dependent as follows: " + pdf.cde_2 + " (“Recommended Treatment”) and any such additional procedure(s) as may be considered necessary for my well- being based on findings made during the course of the Recommended Treatment.</p>");
        //    //sb.Append("<p>The nature and purpose of the Recommended Treatment have been explained to me and no guarantee has been made or implied as to result or cure. I have been given satisfactory answers to all of my questions, and I wish to proceed with the Recommended Treatment. I also consent to the administration of local anesthesia during the performance of the Recommended Treatment.</p>");
        //    //sb.Append("<p style='font-weight:bold'>II. Discussion of Treatment</p>");
        //    //sb.Append("<p>The Recommended Treatment works by removing bacteria from the hollow space inside the tooth, and by sealing off the inside of the tooth to prevent re-infection. Although the Recommended Treatment has a very high success rate, it is a biological procedure and cannot be guaranteed. Occasionally, a tooth which has had root canal treatment may require retreatment, additional surgery, or extraction.</p>");
        //    //sb.Append("<p style='font-weight:bold'>III. Treatment Alternatives</p>");
        //    //sb.Append("<p>Alternative methods of treatment have been explained to me, such as extraction of the involved teeth, or postponement of root canal therapy, but I wish to proceed with the Recommended Treatment described above.</p>");
        //    //sb.Append("<p style='font-weight:bold'>IV. Risks and Complications</p>");
        //    //sb.Append("<p>I understand that there are risks and complications associated with the administration of medications, including anesthesia, and performance of the Recommended Treatment.</p>");
        //    //sb.Append("<p>These potential risks and complications, include, but are not limited to, the following:</p>");
        //    //sb.Append("<p><ol>");
        //    //sb.Append("<li>Instrument breakage in the root canal.</li>");
        //    //sb.Append("<li>Inability to negotiate canals due to prior treatment or calcification.</li>");
        //    //sb.Append("<li>Perforation to the outside of the tooth.</li>");
        //    //sb.Append("<li>Irreparable damage to the existing crown or restoration.</li>");
        //    //sb.Append("<li>Cracking or fracturing of the root or crown of the tooth.</li>");
        //    //sb.Append("<li>Pain, infection and swelling.</li>");
        //    //sb.Append("<li>Difficulty opening and closing.</li>");
        //    //sb.Append("<li>Temporomandibular Dysfunction resulting in jaw pain.</li>");
        //    //sb.Append("<li>Nerve injury resulting in temporary or permanent numbness, itching, burning or tingling of the lip, chin, tongue or teeth.</li>");
        //    //sb.Append("<li>As a result of the injection or use of anesthesia, there may be swelling, jaw muscle tenderness or even resultant numbness of the tongue, lips, teeth, jaws and/or facial tissues, which is typically temporary, but in rare instances, may be permanent.</li>");
        //    //sb.Append("</ol></p>");
        //    //sb.Append("<p>\"I agree that healthcare provider(s) involved in my care at this facility will access my health information through the Health Information Exchange System (NABIDH) in accordance with the Laws of the United Arab Emirates, Emirate of Dubai Legislation and Dubai Health Authority Policies \"</p>");
        //    //sb.Append("<p style='font-weight:bold' dir='rtl'>\"أوافق على أن مقدمي الرعاية الصحية المشاركين في رعايتي في هذه المنشأة سيتمكنون من الوصول إلى معلوماتي الصحية من خلال نظام تبادل المعلومات الصحية (NABIDH) وفقاً لقوانين دولة الإمارات العربية المتحدة، تشريعات إمارة دبي وسياسات هيئة الصحة بدبي \"</p>");

        //    sb.Append("</div>");

        //    sb.Append("    <table style='width:100%; font-size: 12px; border:1px solid #000000;border-collapse: collapse;'>");
        //    sb.Append("    <tr>");
        //    sb.Append("        <td style='text-align: center;padding: 10px;'  colspan='3'>");
        //    sb.Append("            <p>Sign here, only if all of your questions have been answered to your satisfaction</p>");
        //    sb.Append("        </td>");
        //    sb.Append("    </tr>");
        //    sb.Append("    <tr>");
        //    sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
        //    sb.Append("             Patient/Parent/Guardian");
        //    sb.Append("        </td>");
        //    sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 34%;'>");
        //    sb.Append("            Witness");
        //    sb.Append("        </td>");
        //    sb.Append("        <td style='text-align: center;padding: 10px;border:1px solid #000000; width: 33%;'>");
        //    sb.Append("            Doctor");
        //    sb.Append("        </td>");
        //    sb.Append("    </tr>");
        //    sb.Append("    <tr>");
        //    sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000'>");
        //    sb.Append("            <img src='" + psign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
        //    sb.Append("        </td>");
        //    sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000'>");
        //    sb.Append("            <img src='" + wsign.psb_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
        //    sb.Append("        </td>");
        //    sb.Append("        <td style='text-align: center;padding: 10px;'>");
        //    sb.Append("            <img src='" + emr.doc_sign.Replace(ConfigurationManager.AppSettings["ConsentFormEndPoint"], ConfigurationManager.AppSettings["ConsentFormEndPoint"]) + "' style='height: 100px; width: 100px;'/>");
        //    sb.Append("        </td>");
        //    sb.Append("    </tr>");
        //    sb.Append("    <tr>");
        //    sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000;border-top:1px solid #000000;'>");
        //    sb.Append("            Patient Name");
        //    sb.Append("             <br/>" + emr.pat_name);
        //    sb.Append("</br><br/>Date<br/>");
        //    sb.Append(emr.app_fdate);
        //    sb.Append("        </td>");
        //    sb.Append("        <td style='text-align: center;padding: 10px;border-right:1px solid #000000;border-top:1px solid #000000;'>");
        //    sb.Append("            Witness Name");
        //    sb.Append("             <br/>" + pdf.cic_1);
        //    sb.Append("</br><br/>Date<br/>");
        //    sb.Append(emr.app_fdate);
        //    sb.Append("        </td>");
        //    sb.Append("        <td style='text-align: center;padding: 10px;border-top:1px solid #000000;'>");
        //    sb.Append("           Doctor Name<br/>");
        //    sb.Append("            " + emr.app_doctor_department + "<br/>");
        //    sb.Append("<br/>Date<br/>");
        //    sb.Append(emr.app_fdate);
        //    sb.Append("        </td>");
        //    sb.Append("    </tr>");
        //    sb.Append("</table>");
        //    sb.Append("    <table style='width:100%; border: none;'>");
        //    sb.Append("    <tr>");
        //    sb.Append("        <td style='text-align: center;'>");
        //    sb.Append("            <img src='" + footer + "'/>");
        //    sb.Append("        </td>");
        //    sb.Append("    </tr>");
        //    sb.Append("    </table>");

        //    sb.Append("    </body>");
        //    sb.Append("</html>");

        //    String htmlString = sb.ToString();

        //    return htmlString;
        //}

    }

}
